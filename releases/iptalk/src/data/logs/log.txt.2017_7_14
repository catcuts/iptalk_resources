2017-07-14 08:45:14+0800 [INFO] Starting SmartTalk IoTService.Version is v0.3.6
2017-07-14 08:45:15+0800 [INFO] (1050, "Table 'device' already exists")
2017-07-14 08:45:15+0800 [INFO] (1050, "Table 'devicepanel' already exists")
2017-07-14 08:45:15+0800 [INFO] (1050, "Table 'deviceio' already exists")
2017-07-14 08:45:15+0800 [INFO] (1050, "Table 'deviceaudiovideo' already exists")
2017-07-14 08:45:15+0800 [INFO] (1050, "Table 'devicealarm' already exists")
2017-07-14 08:45:15+0800 [INFO] (1050, "Table 'feedback' already exists")
2017-07-14 08:45:15+0800 [INFO] (1050, "Table 'log_call' already exists")
2017-07-14 08:45:15+0800 [INFO] (1050, "Table 'log_device' already exists")
2017-07-14 08:45:15+0800 [INFO] (1050, "Table 'log_alarm' already exists")
2017-07-14 08:45:15+0800 [INFO] (1050, "Table 'devicetree' already exists")
2017-07-14 08:45:15+0800 [INFO] (1050, "Table 'authority' already exists")
2017-07-14 08:45:15+0800 [INFO] (1050, "Table 'identity' already exists")
2017-07-14 08:45:15+0800 [INFO] (1050, "Table 'authorization' already exists")
2017-07-14 08:45:15+0800 [INFO] (1050, "Table 'user' already exists")
2017-07-14 08:45:15+0800 [INFO] TreeNode has been initialized
2017-07-14 08:45:16+0800 [INFO] FeedBack has been initialized
2017-07-14 08:45:16+0800 [INFO] Administrator has been initialized
2017-07-14 08:45:16+0800 [INFO] Opened iptalk.db successfully
2017-07-14 08:45:18+0800 [INFO] OrderFactory starting on 12200
2017-07-14 08:45:18+0800 [INFO] Starting factory <devices.iptalk.factory.OrderFactory instance at 0x00000000045E8B88>
2017-07-14 08:45:18+0800 [INFO] QueryFactory starting on 34952
2017-07-14 08:45:18+0800 [INFO] Starting factory <devices.iptalk.factory.QueryFactory instance at 0x0000000004683548>
2017-07-14 08:45:18+0800 [INFO] AudioFactory starting on 3478
2017-07-14 08:45:18+0800 [INFO] Starting protocol <devices.iptalk.factory.AudioFactory instance at 0x0000000004687208>
2017-07-14 08:45:18+0800 [INFO] VideoFactory starting on 3456
2017-07-14 08:45:18+0800 [INFO] Starting protocol <devices.iptalk.factory.VideoFactory instance at 0x0000000004687648>
2017-07-14 08:45:18+0800 [INFO] IPTalkWebSite starting on 85
2017-07-14 08:45:18+0800 [INFO] Starting factory <web.site.IPTalkWebSite instance at 0x0000000004687988>
2017-07-14 08:45:18+0800 [INFO] WebSocketFactory starting on 89
2017-07-14 08:45:18+0800 [INFO] Starting factory <devices.iptalk.factory.WebSocketFactory instance at 0x0000000004693408>
2017-07-14 08:45:18+0800 [INFO] TCPPushFactory starting on 90
2017-07-14 08:45:18+0800 [INFO] Starting factory <devices.iptalk.factory.TCPPushFactory instance at 0x00000000046938C8>
2017-07-14 08:45:18+0800 [INFO] SearchFactory starting on 3550
2017-07-14 08:45:18+0800 [INFO] Starting protocol <devices.iptalk.factory.SearchFactory instance at 0x0000000004693D88>
2017-07-14 08:45:18+0800 [INFO] MyFTPFactory starting on 21
2017-07-14 08:45:18+0800 [INFO] Starting factory <devices.iptalk.ftp.MyFTPFactory instance at 0x00000000046BF148>
2017-07-14 08:45:18+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 63310) .
2017-07-14 08:45:18+0800 [INFO] WebSocket keepAlive is on
2017-07-14 08:45:18+0800 [INFO] websocket is connected.
2017-07-14 08:45:22+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:00:45:21 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 08:45:34+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:00:45:31 +0000] "POST /upgrade/sysUpgrade HTTP/1.1" 200 21 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 08:45:41+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:00:45:41 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 08:45:41+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:00:45:41 +0000] "POST /upgrade/sysUpgrade HTTP/1.1" 200 21 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 08:45:46+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:00:45:46 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 08:45:50+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:00:45:49 +0000] "POST /upgrade/sysUpgrade HTTP/1.1" 200 21 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 08:46:39+0800 [INFO] delete websock TCP connect:9a0b61eda2b445d7a8175d60f753b015
2017-07-14 08:46:39+0800 [INFO] websocket is disconnected.
2017-07-14 08:46:41+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 63480) .
2017-07-14 08:46:41+0800 [INFO] WebSocket keepAlive is on
2017-07-14 08:46:41+0800 [INFO] websocket is connected.
2017-07-14 08:46:42+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:00:46:41 +0000] "GET /devices/iptalk/getiptalkdevicemessage HTTP/1.1" 200 83 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 08:46:43+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:00:46:43 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 08:46:44+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:00:46:43 +0000] "POST /upgrade/sysUpgrade HTTP/1.1" 200 21 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 08:46:58+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:00:46:57 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 08:46:58+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:00:46:57 +0000] "POST /upgrade/sysUpgrade HTTP/1.1" 200 21 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 08:47:38+0800 [INFO] delete websock TCP connect:a1cb2c247d7f43fc88b3664d96ab582d
2017-07-14 08:47:38+0800 [INFO] websocket is disconnected.
2017-07-14 08:47:39+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:00:47:38 +0000] "GET /devices/iptalk/getiptalkdevicemessage HTTP/1.1" 200 83 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 08:47:39+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 63596) .
2017-07-14 08:47:39+0800 [INFO] WebSocket keepAlive is on
2017-07-14 08:47:39+0800 [INFO] websocket is connected.
2017-07-14 08:47:43+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:00:47:42 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 08:47:43+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:00:47:42 +0000] "POST /upgrade/sysUpgrade HTTP/1.1" 200 21 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 08:47:51+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:00:47:50 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 08:47:55+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:00:47:53 +0000] "POST /upgrade/sysUpgrade HTTP/1.1" 200 21 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 08:48:24+0800 [INFO] delete websock TCP connect:ed0bf135d25b4c418ebc66b519dba14a
2017-07-14 08:48:24+0800 [INFO] websocket is disconnected.
2017-07-14 08:48:26+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:00:48:25 +0000] "GET /devices/iptalk/getiptalkdevicemessage HTTP/1.1" 200 83 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 08:48:26+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 63691) .
2017-07-14 08:48:26+0800 [INFO] WebSocket keepAlive is on
2017-07-14 08:48:26+0800 [INFO] websocket is connected.
2017-07-14 08:48:30+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:00:48:30 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 08:48:30+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:00:48:30 +0000] "POST /upgrade/sysUpgrade HTTP/1.1" 200 21 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 08:48:36+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:00:48:36 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 08:48:40+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:00:48:39 +0000] "POST /upgrade/sysUpgrade HTTP/1.1" 200 21 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 08:48:43+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:00:48:42 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 08:48:47+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:00:48:45 +0000] "POST /upgrade/sysUpgrade HTTP/1.1" 200 21 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 08:49:06+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:00:49:05 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 08:49:10+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:00:49:08 +0000] "POST /upgrade/sysUpgrade HTTP/1.1" 200 21 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 08:49:20+0800 [INFO] delete websock TCP connect:33bd6db6aae14a3390623712ec189827
2017-07-14 08:49:20+0800 [INFO] websocket is disconnected.
2017-07-14 08:49:22+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:00:49:21 +0000] "GET /devices/iptalk/getiptalkdevicemessage HTTP/1.1" 200 83 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 08:49:22+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 63803) .
2017-07-14 08:49:22+0800 [INFO] WebSocket keepAlive is on
2017-07-14 08:49:22+0800 [INFO] websocket is connected.
2017-07-14 08:49:24+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:00:49:24 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 08:49:24+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:00:49:24 +0000] "POST /upgrade/sysUpgrade HTTP/1.1" 200 21 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 08:49:46+0800 [INFO] delete websock TCP connect:77a5637abec14cf4839eed2e74b90d4f
2017-07-14 08:49:46+0800 [INFO] websocket is disconnected.
2017-07-14 08:49:47+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:00:49:47 +0000] "GET /devices/iptalk/getiptalkdevicemessage HTTP/1.1" 200 83 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 08:49:47+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 63865) .
2017-07-14 08:49:47+0800 [INFO] WebSocket keepAlive is on
2017-07-14 08:49:47+0800 [INFO] websocket is connected.
2017-07-14 08:49:50+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:00:49:49 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 08:49:50+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:00:49:49 +0000] "POST /upgrade/sysUpgrade HTTP/1.1" 200 21 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 08:49:56+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:00:49:55 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 08:49:56+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:00:49:55 +0000] "POST /upgrade/sysUpgrade HTTP/1.1" 200 21 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 08:50:03+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:00:50:02 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 08:50:03+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:00:50:03 +0000] "POST /upgrade/sysUpgrade HTTP/1.1" 200 21 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 08:50:04+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:00:50:04 +0000] "POST /upgrade/sysUpgrade HTTP/1.1" 200 21 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 08:50:05+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:00:50:05 +0000] "POST /upgrade/sysUpgrade HTTP/1.1" 200 21 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 08:50:05+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:00:50:05 +0000] "POST /upgrade/sysUpgrade HTTP/1.1" 200 21 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 08:50:06+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:00:50:05 +0000] "POST /upgrade/sysUpgrade HTTP/1.1" 200 21 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 08:50:08+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:00:50:08 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 08:50:08+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:00:50:08 +0000] "POST /upgrade/sysUpgrade HTTP/1.1" 200 21 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 08:50:08+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:00:50:08 +0000] "POST /upgrade/sysUpgrade HTTP/1.1" 200 21 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 08:50:09+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:00:50:08 +0000] "POST /upgrade/sysUpgrade HTTP/1.1" 200 21 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 08:50:11+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:00:50:11 +0000] "POST /upgrade/sysUpgrade HTTP/1.1" 200 21 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 08:50:12+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:00:50:12 +0000] "POST /upgrade/sysUpgrade HTTP/1.1" 200 21 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 08:50:13+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:00:50:13 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 08:50:13+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:00:50:13 +0000] "POST /upgrade/sysUpgrade HTTP/1.1" 200 21 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 08:50:14+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:00:50:13 +0000] "POST /upgrade/sysUpgrade HTTP/1.1" 200 21 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 08:50:14+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:00:50:14 +0000] "POST /upgrade/sysUpgrade HTTP/1.1" 200 21 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 08:50:15+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:00:50:14 +0000] "POST /upgrade/sysUpgrade HTTP/1.1" 200 21 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 08:50:19+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:00:50:19 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 08:50:19+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:00:50:19 +0000] "POST /upgrade/sysUpgrade HTTP/1.1" 200 21 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 08:50:21+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:00:50:20 +0000] "POST /upgrade/sysUpgrade HTTP/1.1" 200 21 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 08:50:22+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:00:50:21 +0000] "POST /upgrade/sysUpgrade HTTP/1.1" 200 21 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 08:50:23+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:00:50:22 +0000] "POST /upgrade/sysUpgrade HTTP/1.1" 200 21 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 08:50:24+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:00:50:23 +0000] "POST /upgrade/sysUpgrade HTTP/1.1" 200 21 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 08:50:24+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:00:50:24 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 08:50:25+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:00:50:24 +0000] "POST /upgrade/sysUpgrade HTTP/1.1" 200 21 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 08:50:26+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:00:50:25 +0000] "POST /upgrade/sysUpgrade HTTP/1.1" 200 21 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 08:50:27+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:00:50:26 +0000] "POST /upgrade/sysUpgrade HTTP/1.1" 200 21 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 08:50:40+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:00:50:40 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 08:50:41+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:00:50:40 +0000] "POST /upgrade/sysUpgrade HTTP/1.1" 200 21 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 08:51:11+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:00:51:10 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 08:51:23+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:00:51:20 +0000] "POST /upgrade/sysUpgrade HTTP/1.1" 200 21 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 08:51:24+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:00:51:24 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 08:51:36+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:00:51:33 +0000] "POST /upgrade/sysUpgrade HTTP/1.1" 200 21 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 08:51:43+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:00:51:43 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 08:51:55+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:00:51:52 +0000] "POST /upgrade/sysUpgrade HTTP/1.1" 200 21 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 08:55:49+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:00:55:48 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 08:56:01+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:00:55:58 +0000] "POST /upgrade/sysUpgrade HTTP/1.1" 200 21 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 09:02:49+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:01:02:49 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 09:03:02+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:01:02:58 +0000] "POST /upgrade/sysUpgrade HTTP/1.1" 200 21 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 09:03:02+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:01:03:02 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 09:03:14+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:01:03:11 +0000] "POST /upgrade/sysUpgrade HTTP/1.1" 200 21 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 09:03:18+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:01:03:18 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 09:03:18+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:01:03:18 +0000] "POST /upgrade/sysUpgrade HTTP/1.1" 200 21 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 09:03:23+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:01:03:22 +0000] "POST /upgrade/sysUpgrade HTTP/1.1" 200 21 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 09:03:24+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:01:03:23 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 09:03:24+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:01:03:23 +0000] "POST /upgrade/sysUpgrade HTTP/1.1" 200 21 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 09:03:24+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:01:03:24 +0000] "POST /upgrade/sysUpgrade HTTP/1.1" 200 21 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 09:03:27+0800 [INFO] delete websock TCP connect:24c80b411ffd424487cc514b3b150bcb
2017-07-14 09:03:27+0800 [INFO] websocket is disconnected.
2017-07-14 09:03:29+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:01:03:28 +0000] "GET /devices/iptalk/getiptalkdevicemessage HTTP/1.1" 200 83 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 09:03:29+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 49637) .
2017-07-14 09:03:29+0800 [INFO] WebSocket keepAlive is on
2017-07-14 09:03:29+0800 [INFO] websocket is connected.
2017-07-14 09:03:32+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:01:03:31 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 09:03:32+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:01:03:31 +0000] "POST /upgrade/sysUpgrade HTTP/1.1" 200 21 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 09:03:35+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:01:03:34 +0000] "POST /upgrade/sysUpgrade HTTP/1.1" 200 21 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 09:03:39+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:01:03:38 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 09:03:39+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:01:03:38 +0000] "POST /upgrade/sysUpgrade HTTP/1.1" 200 21 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 09:06:45+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:01:06:44 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 09:06:45+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:01:06:44 +0000] "POST /upgrade/sysUpgrade HTTP/1.1" 200 21 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 09:06:46+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:01:06:45 +0000] "POST /upgrade/sysUpgrade HTTP/1.1" 200 21 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 09:06:46+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:01:06:45 +0000] "POST /upgrade/sysUpgrade HTTP/1.1" 200 21 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 09:06:46+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:01:06:45 +0000] "POST /upgrade/sysUpgrade HTTP/1.1" 200 21 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 09:06:49+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:01:06:49 +0000] "POST /upgrade/sysUpgrade HTTP/1.1" 200 21 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 09:07:05+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:01:07:05 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 09:07:06+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:01:07:05 +0000] "POST /upgrade/sysUpgrade HTTP/1.1" 200 21 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 09:07:07+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:01:07:06 +0000] "POST /upgrade/sysUpgrade HTTP/1.1" 200 21 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 09:07:12+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:01:07:11 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 09:07:24+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:01:07:21 +0000] "POST /upgrade/sysUpgrade HTTP/1.1" 200 21 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 09:07:36+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:01:07:36 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 09:07:49+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:01:07:46 +0000] "POST /upgrade/sysUpgrade HTTP/1.1" 200 21 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 09:13:44+0800 [INFO] delete websock TCP connect:642e5e0d361e477ba1ea12c3d8c4d3c3
2017-07-14 09:13:44+0800 [INFO] websocket is disconnected.
2017-07-14 09:13:46+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 51039) .
2017-07-14 09:13:46+0800 [INFO] WebSocket keepAlive is on
2017-07-14 09:13:46+0800 [INFO] websocket is connected.
2017-07-14 09:13:46+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:01:13:45 +0000] "GET /devices/iptalk/getiptalkdevicemessage HTTP/1.1" 200 83 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 09:13:50+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:01:13:49 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 09:13:50+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:01:13:49 +0000] "POST /upgrade/sysUpgrade HTTP/1.1" 200 21 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 09:13:59+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:01:13:58 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 09:13:59+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:01:13:58 +0000] "POST /upgrade/sysUpgrade HTTP/1.1" 200 21 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 09:14:16+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:01:14:16 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 09:14:28+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:01:14:25 +0000] "POST /upgrade/sysUpgrade HTTP/1.1" 200 21 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 09:14:30+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:01:14:30 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 09:14:42+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:01:14:39 +0000] "POST /upgrade/sysUpgrade HTTP/1.1" 200 21 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 09:14:48+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:01:14:47 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 09:15:04+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:01:15:03 +0000] "POST /upgrade/sysUpgrade HTTP/1.1" 200 21 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 09:15:07+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:01:15:04 +0000] "POST /upgrade/sysUpgrade HTTP/1.1" 200 21 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 09:15:14+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:01:15:13 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 09:15:14+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:01:15:13 +0000] "POST /upgrade/sysUpgrade HTTP/1.1" 200 21 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 09:15:49+0800 [INFO] delete websock TCP connect:ab0e438ba6c1428fbc2a0314263d4f01
2017-07-14 09:15:49+0800 [INFO] websocket is disconnected.
2017-07-14 09:15:53+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 51318) .
2017-07-14 09:15:53+0800 [INFO] WebSocket keepAlive is on
2017-07-14 09:15:53+0800 [INFO] websocket is connected.
2017-07-14 09:16:53+0800 [INFO] delete websock TCP connect:65a55b61a09b46c28f2e059c8b02057e
2017-07-14 09:16:53+0800 [INFO] websocket is disconnected.
2017-07-14 09:16:56+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 51446) .
2017-07-14 09:16:56+0800 [INFO] WebSocket keepAlive is on
2017-07-14 09:16:56+0800 [INFO] websocket is connected.
2017-07-14 09:19:05+0800 [INFO] delete websock TCP connect:053206530c3c42a6bc329d1c308fd7c9
2017-07-14 09:19:05+0800 [INFO] websocket is disconnected.
2017-07-14 09:19:06+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:01:19:06 +0000] "GET /devices/iptalk/getiptalkdevicemessage HTTP/1.1" 200 83 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 09:19:06+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 51715) .
2017-07-14 09:19:06+0800 [INFO] WebSocket keepAlive is on
2017-07-14 09:19:06+0800 [INFO] websocket is connected.
2017-07-14 09:19:10+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:01:19:09 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 09:19:10+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:01:19:10 +0000] "POST /upgrade/sysUpgrade HTTP/1.1" 200 21 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 09:19:47+0800 [INFO] delete websock TCP connect:4ccb77f068794e86be780ee476817261
2017-07-14 09:19:47+0800 [INFO] websocket is disconnected.
2017-07-14 09:19:49+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:01:19:48 +0000] "GET /devices/iptalk/getiptalkdevicemessage HTTP/1.1" 200 83 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 09:19:49+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 51811) .
2017-07-14 09:19:49+0800 [INFO] WebSocket keepAlive is on
2017-07-14 09:19:49+0800 [INFO] websocket is connected.
2017-07-14 09:20:05+0800 [INFO] delete websock TCP connect:3f993c85be484122bc1f64a53790a3a9
2017-07-14 09:20:05+0800 [INFO] websocket is disconnected.
2017-07-14 09:20:07+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:01:20:07 +0000] "GET /devices/iptalk/getiptalkdevicemessage HTTP/1.1" 200 83 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 09:20:07+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 51847) .
2017-07-14 09:20:07+0800 [INFO] WebSocket keepAlive is on
2017-07-14 09:20:07+0800 [INFO] websocket is connected.
2017-07-14 09:20:12+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:01:20:11 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 09:20:12+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:01:20:12 +0000] "POST /upgrade/sysUpgrade HTTP/1.1" 200 21 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 09:22:00+0800 [INFO] delete websock TCP connect:9ee183d235b04a70be7ec3342c01f716
2017-07-14 09:22:00+0800 [INFO] websocket is disconnected.
2017-07-14 09:22:02+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:01:22:02 +0000] "GET /devices/iptalk/getiptalkdevicemessage HTTP/1.1" 200 83 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 09:22:02+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 52105) .
2017-07-14 09:22:02+0800 [INFO] WebSocket keepAlive is on
2017-07-14 09:22:02+0800 [INFO] websocket is connected.
2017-07-14 09:22:37+0800 [INFO] delete websock TCP connect:155f8e274c7542539b52d3d9e87f3350
2017-07-14 09:22:37+0800 [INFO] websocket is disconnected.
2017-07-14 09:22:38+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:01:22:38 +0000] "GET /devices/iptalk/getiptalkdevicemessage HTTP/1.1" 200 83 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 09:22:38+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 52169) .
2017-07-14 09:22:38+0800 [INFO] WebSocket keepAlive is on
2017-07-14 09:22:38+0800 [INFO] websocket is connected.
2017-07-14 09:22:42+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:01:22:42 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 09:22:54+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:01:22:51 +0000] "POST /upgrade/sysUpgrade HTTP/1.1" 200 21 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 09:23:40+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:01:23:39 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 09:23:40+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:01:23:39 +0000] "POST /upgrade/sysUpgrade HTTP/1.1" 200 21 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 09:27:27+0800 [INFO] Starting SmartTalk IoTService.Version is v0.3.6
2017-07-14 09:27:28+0800 [INFO] (1050, "Table 'device' already exists")
2017-07-14 09:27:29+0800 [INFO] (1050, "Table 'devicepanel' already exists")
2017-07-14 09:27:29+0800 [INFO] (1050, "Table 'deviceio' already exists")
2017-07-14 09:27:29+0800 [INFO] (1050, "Table 'deviceaudiovideo' already exists")
2017-07-14 09:27:29+0800 [INFO] (1050, "Table 'devicealarm' already exists")
2017-07-14 09:27:29+0800 [INFO] (1050, "Table 'feedback' already exists")
2017-07-14 09:27:29+0800 [INFO] (1050, "Table 'log_call' already exists")
2017-07-14 09:27:29+0800 [INFO] (1050, "Table 'log_device' already exists")
2017-07-14 09:27:29+0800 [INFO] (1050, "Table 'log_alarm' already exists")
2017-07-14 09:27:29+0800 [INFO] (1050, "Table 'devicetree' already exists")
2017-07-14 09:27:29+0800 [INFO] (1050, "Table 'authority' already exists")
2017-07-14 09:27:29+0800 [INFO] (1050, "Table 'identity' already exists")
2017-07-14 09:27:29+0800 [INFO] (1050, "Table 'authorization' already exists")
2017-07-14 09:27:29+0800 [INFO] (1050, "Table 'user' already exists")
2017-07-14 09:27:29+0800 [INFO] TreeNode has been initialized
2017-07-14 09:27:29+0800 [INFO] FeedBack has been initialized
2017-07-14 09:27:29+0800 [INFO] Administrator has been initialized
2017-07-14 09:27:29+0800 [INFO] Opened iptalk.db successfully
2017-07-14 09:27:31+0800 [INFO] OrderFactory starting on 12200
2017-07-14 09:27:31+0800 [INFO] Starting factory <devices.iptalk.factory.OrderFactory instance at 0x000000000460AB48>
2017-07-14 09:27:31+0800 [INFO] QueryFactory starting on 34952
2017-07-14 09:27:31+0800 [INFO] Starting factory <devices.iptalk.factory.QueryFactory instance at 0x0000000004698408>
2017-07-14 09:27:31+0800 [INFO] AudioFactory starting on 3478
2017-07-14 09:27:31+0800 [INFO] Starting protocol <devices.iptalk.factory.AudioFactory instance at 0x000000000469C0C8>
2017-07-14 09:27:31+0800 [INFO] VideoFactory starting on 3456
2017-07-14 09:27:31+0800 [INFO] Starting protocol <devices.iptalk.factory.VideoFactory instance at 0x000000000469C508>
2017-07-14 09:27:31+0800 [INFO] IPTalkWebSite starting on 85
2017-07-14 09:27:31+0800 [INFO] Starting factory <web.site.IPTalkWebSite instance at 0x000000000469C848>
2017-07-14 09:27:31+0800 [INFO] WebSocketFactory starting on 89
2017-07-14 09:27:31+0800 [INFO] Starting factory <devices.iptalk.factory.WebSocketFactory instance at 0x00000000046AC348>
2017-07-14 09:27:31+0800 [INFO] TCPPushFactory starting on 90
2017-07-14 09:27:31+0800 [INFO] Starting factory <devices.iptalk.factory.TCPPushFactory instance at 0x00000000046AC808>
2017-07-14 09:27:31+0800 [INFO] SearchFactory starting on 3550
2017-07-14 09:27:31+0800 [INFO] Starting protocol <devices.iptalk.factory.SearchFactory instance at 0x00000000046ACCC8>
2017-07-14 09:27:31+0800 [INFO] MyFTPFactory starting on 21
2017-07-14 09:27:31+0800 [INFO] Starting factory <devices.iptalk.ftp.MyFTPFactory instance at 0x0000000004703088>
2017-07-14 09:27:35+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 52751) .
2017-07-14 09:27:35+0800 [INFO] WebSocket keepAlive is on
2017-07-14 09:27:35+0800 [INFO] websocket is connected.
2017-07-14 09:28:08+0800 [INFO] delete websock TCP connect:50bce4d006374c2fa20ddd7f4a36a099
2017-07-14 09:28:08+0800 [INFO] websocket is disconnected.
2017-07-14 09:28:10+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 52847) .
2017-07-14 09:28:10+0800 [INFO] WebSocket keepAlive is on
2017-07-14 09:28:10+0800 [INFO] websocket is connected.
2017-07-14 09:28:10+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:01:28:09 +0000] "GET /devices/iptalk/getiptalkdevicemessage HTTP/1.1" 200 83 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 09:28:22+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:01:28:21 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 09:59:32+0800 [INFO] Starting SmartTalk IoTService.Version is v0.3.6
2017-07-14 09:59:32+0800 [INFO] (1050, "Table 'device' already exists")
2017-07-14 09:59:32+0800 [INFO] (1050, "Table 'devicepanel' already exists")
2017-07-14 09:59:32+0800 [INFO] (1050, "Table 'deviceio' already exists")
2017-07-14 09:59:32+0800 [INFO] (1050, "Table 'deviceaudiovideo' already exists")
2017-07-14 09:59:32+0800 [INFO] (1050, "Table 'devicealarm' already exists")
2017-07-14 09:59:32+0800 [INFO] (1050, "Table 'feedback' already exists")
2017-07-14 09:59:32+0800 [INFO] (1050, "Table 'log_call' already exists")
2017-07-14 09:59:32+0800 [INFO] (1050, "Table 'log_device' already exists")
2017-07-14 09:59:32+0800 [INFO] (1050, "Table 'log_alarm' already exists")
2017-07-14 09:59:32+0800 [INFO] (1050, "Table 'devicetree' already exists")
2017-07-14 09:59:32+0800 [INFO] (1050, "Table 'authority' already exists")
2017-07-14 09:59:32+0800 [INFO] (1050, "Table 'identity' already exists")
2017-07-14 09:59:32+0800 [INFO] (1050, "Table 'authorization' already exists")
2017-07-14 09:59:32+0800 [INFO] (1050, "Table 'user' already exists")
2017-07-14 09:59:32+0800 [INFO] TreeNode has been initialized
2017-07-14 09:59:32+0800 [INFO] FeedBack has been initialized
2017-07-14 09:59:32+0800 [INFO] Administrator has been initialized
2017-07-14 09:59:32+0800 [INFO] Opened iptalk.db successfully
2017-07-14 09:59:44+0800 [INFO] Starting SmartTalk IoTService.Version is v0.3.6
2017-07-14 09:59:44+0800 [INFO] (1050, "Table 'device' already exists")
2017-07-14 09:59:44+0800 [INFO] (1050, "Table 'devicepanel' already exists")
2017-07-14 09:59:44+0800 [INFO] (1050, "Table 'deviceio' already exists")
2017-07-14 09:59:44+0800 [INFO] (1050, "Table 'deviceaudiovideo' already exists")
2017-07-14 09:59:44+0800 [INFO] (1050, "Table 'devicealarm' already exists")
2017-07-14 09:59:44+0800 [INFO] (1050, "Table 'feedback' already exists")
2017-07-14 09:59:44+0800 [INFO] (1050, "Table 'log_call' already exists")
2017-07-14 09:59:44+0800 [INFO] (1050, "Table 'log_device' already exists")
2017-07-14 09:59:44+0800 [INFO] (1050, "Table 'log_alarm' already exists")
2017-07-14 09:59:44+0800 [INFO] (1050, "Table 'devicetree' already exists")
2017-07-14 09:59:44+0800 [INFO] (1050, "Table 'authority' already exists")
2017-07-14 09:59:44+0800 [INFO] (1050, "Table 'identity' already exists")
2017-07-14 09:59:44+0800 [INFO] (1050, "Table 'authorization' already exists")
2017-07-14 09:59:44+0800 [INFO] (1050, "Table 'user' already exists")
2017-07-14 09:59:44+0800 [INFO] TreeNode has been initialized
2017-07-14 09:59:44+0800 [INFO] FeedBack has been initialized
2017-07-14 09:59:44+0800 [INFO] Administrator has been initialized
2017-07-14 09:59:44+0800 [INFO] Opened iptalk.db successfully
2017-07-14 09:59:45+0800 [INFO] OrderFactory starting on 12200
2017-07-14 09:59:45+0800 [INFO] Starting factory <devices.iptalk.factory.OrderFactory instance at 0x00000000046308C8>
2017-07-14 09:59:45+0800 [INFO] QueryFactory starting on 34952
2017-07-14 09:59:45+0800 [INFO] Starting factory <devices.iptalk.factory.QueryFactory instance at 0x00000000046BB1C8>
2017-07-14 09:59:45+0800 [INFO] AudioFactory starting on 3478
2017-07-14 09:59:45+0800 [INFO] Starting protocol <devices.iptalk.factory.AudioFactory instance at 0x00000000046BEE88>
2017-07-14 09:59:45+0800 [INFO] VideoFactory starting on 3456
2017-07-14 09:59:45+0800 [INFO] Starting protocol <devices.iptalk.factory.VideoFactory instance at 0x00000000046C3308>
2017-07-14 09:59:45+0800 [INFO] IPTalkWebSite starting on 85
2017-07-14 09:59:45+0800 [INFO] Starting factory <web.site.IPTalkWebSite instance at 0x00000000046C3648>
2017-07-14 09:59:45+0800 [INFO] WebSocketFactory starting on 89
2017-07-14 09:59:45+0800 [INFO] Starting factory <devices.iptalk.factory.WebSocketFactory instance at 0x00000000046D0088>
2017-07-14 09:59:45+0800 [INFO] TCPPushFactory starting on 90
2017-07-14 09:59:45+0800 [INFO] Starting factory <devices.iptalk.factory.TCPPushFactory instance at 0x00000000046D0548>
2017-07-14 09:59:45+0800 [INFO] SearchFactory starting on 3550
2017-07-14 09:59:45+0800 [INFO] Starting protocol <devices.iptalk.factory.SearchFactory instance at 0x00000000046D0A08>
2017-07-14 09:59:45+0800 [INFO] MyFTPFactory starting on 21
2017-07-14 09:59:45+0800 [INFO] Starting factory <devices.iptalk.ftp.MyFTPFactory instance at 0x00000000046D0D88>
2017-07-14 09:59:46+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 57395) .
2017-07-14 09:59:46+0800 [INFO] WebSocket keepAlive is on
2017-07-14 09:59:46+0800 [INFO] websocket is connected.
2017-07-14 09:59:52+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:01:59:52 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 10:24:07+0800 [INFO] Starting SmartTalk IoTService.Version is v0.3.6
2017-07-14 10:24:07+0800 [INFO] (1050, "Table 'device' already exists")
2017-07-14 10:24:07+0800 [INFO] (1050, "Table 'devicepanel' already exists")
2017-07-14 10:24:07+0800 [INFO] (1050, "Table 'deviceio' already exists")
2017-07-14 10:24:07+0800 [INFO] (1050, "Table 'deviceaudiovideo' already exists")
2017-07-14 10:24:07+0800 [INFO] (1050, "Table 'devicealarm' already exists")
2017-07-14 10:24:07+0800 [INFO] (1050, "Table 'feedback' already exists")
2017-07-14 10:24:07+0800 [INFO] (1050, "Table 'log_call' already exists")
2017-07-14 10:24:07+0800 [INFO] (1050, "Table 'log_device' already exists")
2017-07-14 10:24:07+0800 [INFO] (1050, "Table 'log_alarm' already exists")
2017-07-14 10:24:07+0800 [INFO] (1050, "Table 'devicetree' already exists")
2017-07-14 10:24:07+0800 [INFO] (1050, "Table 'authority' already exists")
2017-07-14 10:24:07+0800 [INFO] (1050, "Table 'identity' already exists")
2017-07-14 10:24:07+0800 [INFO] (1050, "Table 'authorization' already exists")
2017-07-14 10:24:07+0800 [INFO] (1050, "Table 'user' already exists")
2017-07-14 10:24:07+0800 [INFO] TreeNode has been initialized
2017-07-14 10:24:07+0800 [INFO] FeedBack has been initialized
2017-07-14 10:24:07+0800 [INFO] Administrator has been initialized
2017-07-14 10:24:07+0800 [INFO] Opened iptalk.db successfully
2017-07-14 10:24:08+0800 [INFO] OrderFactory starting on 12200
2017-07-14 10:24:08+0800 [INFO] Starting factory <devices.iptalk.factory.OrderFactory instance at 0x00000000046148C8>
2017-07-14 10:24:08+0800 [INFO] QueryFactory starting on 34952
2017-07-14 10:24:08+0800 [INFO] Starting factory <devices.iptalk.factory.QueryFactory instance at 0x00000000046A01C8>
2017-07-14 10:24:08+0800 [INFO] AudioFactory starting on 3478
2017-07-14 10:24:08+0800 [INFO] Starting protocol <devices.iptalk.factory.AudioFactory instance at 0x00000000046A3E88>
2017-07-14 10:24:08+0800 [INFO] VideoFactory starting on 3456
2017-07-14 10:24:08+0800 [INFO] Starting protocol <devices.iptalk.factory.VideoFactory instance at 0x00000000046A8308>
2017-07-14 10:24:08+0800 [INFO] IPTalkWebSite starting on 85
2017-07-14 10:24:08+0800 [INFO] Starting factory <web.site.IPTalkWebSite instance at 0x00000000046A8648>
2017-07-14 10:24:08+0800 [INFO] WebSocketFactory starting on 89
2017-07-14 10:24:08+0800 [INFO] Starting factory <devices.iptalk.factory.WebSocketFactory instance at 0x00000000046B71C8>
2017-07-14 10:24:08+0800 [INFO] TCPPushFactory starting on 90
2017-07-14 10:24:08+0800 [INFO] Starting factory <devices.iptalk.factory.TCPPushFactory instance at 0x00000000046B7688>
2017-07-14 10:24:08+0800 [INFO] SearchFactory starting on 3550
2017-07-14 10:24:08+0800 [INFO] Starting protocol <devices.iptalk.factory.SearchFactory instance at 0x00000000046B7B48>
2017-07-14 10:24:08+0800 [INFO] MyFTPFactory starting on 21
2017-07-14 10:24:08+0800 [INFO] Starting factory <devices.iptalk.ftp.MyFTPFactory instance at 0x00000000046B7EC8>
2017-07-14 10:24:08+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 61356) .
2017-07-14 10:24:08+0800 [INFO] WebSocket keepAlive is on
2017-07-14 10:24:08+0800 [INFO] websocket is connected.
2017-07-14 10:24:16+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 61400) .
2017-07-14 10:24:16+0800 [INFO] WebSocket keepAlive is on
2017-07-14 10:24:16+0800 [INFO] websocket is connected.
2017-07-14 10:24:17+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:02:24:17 +0000] "GET /devices/iptalk/getiptalkdevicemessage HTTP/1.1" 200 83 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 10:24:24+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:02:24:24 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 10:24:24+0800 [ERROR] Unhandled Error
	Traceback (most recent call last):
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 1442, in dataReceived
	    finishCallback(data[contentLength:])
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 1768, in _finishRequestBody
	    self.allContentReceived()
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 1845, in allContentReceived
	    req.requestReceived(command, path, version)
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 766, in requestReceived
	    self.process()
	--- <exception caught here> ---
	  File "C:\Python27\lib\site-packages\twisted\web\server.py", line 183, in process
	    self.render(resrc)
	  File "C:\Python27\lib\site-packages\twisted\web\server.py", line 234, in render
	    body = resrc.render(self)
	  File "C:\Python27\lib\site-packages\twisted\web\resource.py", line 250, in render
	    return m(request)
	  File "D:/Documents/catcuts/project/iot_combination\devices\iptalk\webmanager.py", line 368, in render_POST
	    f = self.parse_upload(request)
	exceptions.TypeError: parse_upload() takes exactly 1 argument (2 given)
	
2017-07-14 10:24:25+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:02:24:24 +0000] "POST /upgrade/sysUpgrade HTTP/1.1" 500 4613 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 10:24:47+0800 [INFO] Starting SmartTalk IoTService.Version is v0.3.6
2017-07-14 10:24:48+0800 [INFO] (1050, "Table 'device' already exists")
2017-07-14 10:24:48+0800 [INFO] (1050, "Table 'devicepanel' already exists")
2017-07-14 10:24:48+0800 [INFO] (1050, "Table 'deviceio' already exists")
2017-07-14 10:24:48+0800 [INFO] (1050, "Table 'deviceaudiovideo' already exists")
2017-07-14 10:24:48+0800 [INFO] (1050, "Table 'devicealarm' already exists")
2017-07-14 10:24:48+0800 [INFO] (1050, "Table 'feedback' already exists")
2017-07-14 10:24:48+0800 [INFO] (1050, "Table 'log_call' already exists")
2017-07-14 10:24:48+0800 [INFO] (1050, "Table 'log_device' already exists")
2017-07-14 10:24:48+0800 [INFO] (1050, "Table 'log_alarm' already exists")
2017-07-14 10:24:48+0800 [INFO] (1050, "Table 'devicetree' already exists")
2017-07-14 10:24:48+0800 [INFO] (1050, "Table 'authority' already exists")
2017-07-14 10:24:48+0800 [INFO] (1050, "Table 'identity' already exists")
2017-07-14 10:24:48+0800 [INFO] (1050, "Table 'authorization' already exists")
2017-07-14 10:24:48+0800 [INFO] (1050, "Table 'user' already exists")
2017-07-14 10:24:48+0800 [INFO] TreeNode has been initialized
2017-07-14 10:24:48+0800 [INFO] FeedBack has been initialized
2017-07-14 10:24:48+0800 [INFO] Administrator has been initialized
2017-07-14 10:24:48+0800 [INFO] Opened iptalk.db successfully
2017-07-14 10:24:48+0800 [INFO] OrderFactory starting on 12200
2017-07-14 10:24:48+0800 [INFO] Starting factory <devices.iptalk.factory.OrderFactory instance at 0x00000000046918C8>
2017-07-14 10:24:48+0800 [INFO] QueryFactory starting on 34952
2017-07-14 10:24:48+0800 [INFO] Starting factory <devices.iptalk.factory.QueryFactory instance at 0x000000000471D1C8>
2017-07-14 10:24:48+0800 [INFO] AudioFactory starting on 3478
2017-07-14 10:24:48+0800 [INFO] Starting protocol <devices.iptalk.factory.AudioFactory instance at 0x0000000004720E88>
2017-07-14 10:24:48+0800 [INFO] VideoFactory starting on 3456
2017-07-14 10:24:48+0800 [INFO] Starting protocol <devices.iptalk.factory.VideoFactory instance at 0x0000000004725308>
2017-07-14 10:24:48+0800 [INFO] IPTalkWebSite starting on 85
2017-07-14 10:24:48+0800 [INFO] Starting factory <web.site.IPTalkWebSite instance at 0x0000000004725648>
2017-07-14 10:24:48+0800 [INFO] WebSocketFactory starting on 89
2017-07-14 10:24:48+0800 [INFO] Starting factory <devices.iptalk.factory.WebSocketFactory instance at 0x00000000047341C8>
2017-07-14 10:24:48+0800 [INFO] TCPPushFactory starting on 90
2017-07-14 10:24:48+0800 [INFO] Starting factory <devices.iptalk.factory.TCPPushFactory instance at 0x0000000004734688>
2017-07-14 10:24:48+0800 [INFO] SearchFactory starting on 3550
2017-07-14 10:24:48+0800 [INFO] Starting protocol <devices.iptalk.factory.SearchFactory instance at 0x0000000004734B48>
2017-07-14 10:24:48+0800 [INFO] MyFTPFactory starting on 21
2017-07-14 10:24:48+0800 [INFO] Starting factory <devices.iptalk.ftp.MyFTPFactory instance at 0x0000000004734EC8>
2017-07-14 10:24:48+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 61477) .
2017-07-14 10:24:48+0800 [INFO] WebSocket keepAlive is on
2017-07-14 10:24:48+0800 [INFO] websocket is connected.
2017-07-14 10:24:49+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 61488) .
2017-07-14 10:24:49+0800 [INFO] WebSocket keepAlive is on
2017-07-14 10:24:49+0800 [INFO] websocket is connected.
2017-07-14 10:24:52+0800 [INFO] delete websock TCP connect:7d353eef6ac54efda5abfab077846425
2017-07-14 10:24:52+0800 [INFO] websocket is disconnected.
2017-07-14 10:24:53+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 61513) .
2017-07-14 10:24:53+0800 [INFO] WebSocket keepAlive is on
2017-07-14 10:24:53+0800 [INFO] websocket is connected.
2017-07-14 10:24:53+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:02:24:52 +0000] "GET /devices/iptalk/getiptalkdevicemessage HTTP/1.1" 200 83 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 10:24:56+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:02:24:55 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 10:35:01+0800 [INFO] Starting SmartTalk IoTService.Version is v0.3.6
2017-07-14 10:35:01+0800 [INFO] (1050, "Table 'device' already exists")
2017-07-14 10:35:01+0800 [INFO] (1050, "Table 'devicepanel' already exists")
2017-07-14 10:35:01+0800 [INFO] (1050, "Table 'deviceio' already exists")
2017-07-14 10:35:01+0800 [INFO] (1050, "Table 'deviceaudiovideo' already exists")
2017-07-14 10:35:01+0800 [INFO] (1050, "Table 'devicealarm' already exists")
2017-07-14 10:35:01+0800 [INFO] (1050, "Table 'feedback' already exists")
2017-07-14 10:35:01+0800 [INFO] (1050, "Table 'log_call' already exists")
2017-07-14 10:35:01+0800 [INFO] (1050, "Table 'log_device' already exists")
2017-07-14 10:35:01+0800 [INFO] (1050, "Table 'log_alarm' already exists")
2017-07-14 10:35:01+0800 [INFO] (1050, "Table 'devicetree' already exists")
2017-07-14 10:35:01+0800 [INFO] (1050, "Table 'authority' already exists")
2017-07-14 10:35:01+0800 [INFO] (1050, "Table 'identity' already exists")
2017-07-14 10:35:01+0800 [INFO] (1050, "Table 'authorization' already exists")
2017-07-14 10:35:01+0800 [INFO] (1050, "Table 'user' already exists")
2017-07-14 10:35:01+0800 [INFO] TreeNode has been initialized
2017-07-14 10:35:01+0800 [INFO] FeedBack has been initialized
2017-07-14 10:35:01+0800 [INFO] Administrator has been initialized
2017-07-14 10:35:01+0800 [INFO] Opened iptalk.db successfully
2017-07-14 10:35:02+0800 [INFO] OrderFactory starting on 12200
2017-07-14 10:35:02+0800 [INFO] Starting factory <devices.iptalk.factory.OrderFactory instance at 0x00000000045FE8C8>
2017-07-14 10:35:02+0800 [INFO] QueryFactory starting on 34952
2017-07-14 10:35:02+0800 [INFO] Starting factory <devices.iptalk.factory.QueryFactory instance at 0x00000000046891C8>
2017-07-14 10:35:02+0800 [INFO] AudioFactory starting on 3478
2017-07-14 10:35:02+0800 [INFO] Starting protocol <devices.iptalk.factory.AudioFactory instance at 0x000000000468CE88>
2017-07-14 10:35:02+0800 [INFO] VideoFactory starting on 3456
2017-07-14 10:35:02+0800 [INFO] Starting protocol <devices.iptalk.factory.VideoFactory instance at 0x0000000004691308>
2017-07-14 10:35:02+0800 [INFO] IPTalkWebSite starting on 85
2017-07-14 10:35:02+0800 [INFO] Starting factory <web.site.IPTalkWebSite instance at 0x0000000004691648>
2017-07-14 10:35:02+0800 [INFO] WebSocketFactory starting on 89
2017-07-14 10:35:02+0800 [INFO] Starting factory <devices.iptalk.factory.WebSocketFactory instance at 0x000000000469F208>
2017-07-14 10:35:02+0800 [INFO] TCPPushFactory starting on 90
2017-07-14 10:35:02+0800 [INFO] Starting factory <devices.iptalk.factory.TCPPushFactory instance at 0x000000000469F6C8>
2017-07-14 10:35:02+0800 [INFO] SearchFactory starting on 3550
2017-07-14 10:35:02+0800 [INFO] Starting protocol <devices.iptalk.factory.SearchFactory instance at 0x000000000469FB88>
2017-07-14 10:35:02+0800 [INFO] MyFTPFactory starting on 21
2017-07-14 10:35:02+0800 [INFO] Starting factory <devices.iptalk.ftp.MyFTPFactory instance at 0x000000000469FF08>
2017-07-14 10:35:05+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 62790) .
2017-07-14 10:35:05+0800 [INFO] WebSocket keepAlive is on
2017-07-14 10:35:05+0800 [INFO] websocket is connected.
2017-07-14 10:35:10+0800 [INFO] delete websock TCP connect:51286a20ec6f4d5a94963574823e607c
2017-07-14 10:35:10+0800 [INFO] websocket is disconnected.
2017-07-14 10:35:11+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 62841) .
2017-07-14 10:35:11+0800 [INFO] WebSocket keepAlive is on
2017-07-14 10:35:11+0800 [INFO] websocket is connected.
2017-07-14 10:35:11+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:02:35:11 +0000] "GET /devices/iptalk/getiptalkdevicemessage HTTP/1.1" 200 83 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 10:35:13+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:02:35:13 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 10:35:13+0800 [ERROR] Unhandled Error
	Traceback (most recent call last):
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 1442, in dataReceived
	    finishCallback(data[contentLength:])
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 1768, in _finishRequestBody
	    self.allContentReceived()
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 1845, in allContentReceived
	    req.requestReceived(command, path, version)
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 766, in requestReceived
	    self.process()
	--- <exception caught here> ---
	  File "C:\Python27\lib\site-packages\twisted\web\server.py", line 183, in process
	    self.render(resrc)
	  File "C:\Python27\lib\site-packages\twisted\web\server.py", line 234, in render
	    body = resrc.render(self)
	  File "C:\Python27\lib\site-packages\twisted\web\resource.py", line 250, in render
	    return m(request)
	  File "D:/Documents/catcuts/project/iot_combination\devices\iptalk\webmanager.py", line 375, in render_POST
	    fileitem = form['filename']
	  File "C:\Python27\lib\cgi.py", line 540, in __getitem__
	    raise KeyError, key
	exceptions.KeyError: 'filename'
	
2017-07-14 10:35:14+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:02:35:13 +0000] "POST /upgrade/sysUpgrade HTTP/1.1" 500 5151 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 10:35:35+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 62892) .
2017-07-14 10:35:35+0800 [INFO] WebSocket keepAlive is on
2017-07-14 10:35:35+0800 [INFO] websocket is connected.
2017-07-14 10:39:31+0800 [INFO] Starting SmartTalk IoTService.Version is v0.3.6
2017-07-14 10:39:31+0800 [INFO] (1050, "Table 'device' already exists")
2017-07-14 10:39:31+0800 [INFO] (1050, "Table 'devicepanel' already exists")
2017-07-14 10:39:31+0800 [INFO] (1050, "Table 'deviceio' already exists")
2017-07-14 10:39:31+0800 [INFO] (1050, "Table 'deviceaudiovideo' already exists")
2017-07-14 10:39:31+0800 [INFO] (1050, "Table 'devicealarm' already exists")
2017-07-14 10:39:31+0800 [INFO] (1050, "Table 'feedback' already exists")
2017-07-14 10:39:31+0800 [INFO] (1050, "Table 'log_call' already exists")
2017-07-14 10:39:31+0800 [INFO] (1050, "Table 'log_device' already exists")
2017-07-14 10:39:31+0800 [INFO] (1050, "Table 'log_alarm' already exists")
2017-07-14 10:39:31+0800 [INFO] (1050, "Table 'devicetree' already exists")
2017-07-14 10:39:31+0800 [INFO] (1050, "Table 'authority' already exists")
2017-07-14 10:39:31+0800 [INFO] (1050, "Table 'identity' already exists")
2017-07-14 10:39:31+0800 [INFO] (1050, "Table 'authorization' already exists")
2017-07-14 10:39:31+0800 [INFO] (1050, "Table 'user' already exists")
2017-07-14 10:39:31+0800 [INFO] TreeNode has been initialized
2017-07-14 10:39:31+0800 [INFO] FeedBack has been initialized
2017-07-14 10:39:31+0800 [INFO] Administrator has been initialized
2017-07-14 10:39:31+0800 [INFO] Opened iptalk.db successfully
2017-07-14 10:39:32+0800 [INFO] OrderFactory starting on 12200
2017-07-14 10:39:32+0800 [INFO] Starting factory <devices.iptalk.factory.OrderFactory instance at 0x00000000046AF8C8>
2017-07-14 10:39:32+0800 [INFO] QueryFactory starting on 34952
2017-07-14 10:39:32+0800 [INFO] Starting factory <devices.iptalk.factory.QueryFactory instance at 0x000000000473B1C8>
2017-07-14 10:39:32+0800 [INFO] AudioFactory starting on 3478
2017-07-14 10:39:32+0800 [INFO] Starting protocol <devices.iptalk.factory.AudioFactory instance at 0x000000000473EE88>
2017-07-14 10:39:32+0800 [INFO] VideoFactory starting on 3456
2017-07-14 10:39:32+0800 [INFO] Starting protocol <devices.iptalk.factory.VideoFactory instance at 0x0000000004743308>
2017-07-14 10:39:32+0800 [INFO] IPTalkWebSite starting on 85
2017-07-14 10:39:32+0800 [INFO] Starting factory <web.site.IPTalkWebSite instance at 0x0000000004743648>
2017-07-14 10:39:32+0800 [INFO] WebSocketFactory starting on 89
2017-07-14 10:39:32+0800 [INFO] Starting factory <devices.iptalk.factory.WebSocketFactory instance at 0x0000000004750208>
2017-07-14 10:39:32+0800 [INFO] TCPPushFactory starting on 90
2017-07-14 10:39:32+0800 [INFO] Starting factory <devices.iptalk.factory.TCPPushFactory instance at 0x00000000047506C8>
2017-07-14 10:39:32+0800 [INFO] SearchFactory starting on 3550
2017-07-14 10:39:32+0800 [INFO] Starting protocol <devices.iptalk.factory.SearchFactory instance at 0x0000000004750B88>
2017-07-14 10:39:32+0800 [INFO] MyFTPFactory starting on 21
2017-07-14 10:39:32+0800 [INFO] Starting factory <devices.iptalk.ftp.MyFTPFactory instance at 0x0000000004750F08>
2017-07-14 10:39:32+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 63362) .
2017-07-14 10:39:32+0800 [INFO] WebSocket keepAlive is on
2017-07-14 10:39:32+0800 [INFO] websocket is connected.
2017-07-14 10:39:33+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 63366) .
2017-07-14 10:39:33+0800 [INFO] WebSocket keepAlive is on
2017-07-14 10:39:33+0800 [INFO] websocket is connected.
2017-07-14 10:39:48+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:02:39:47 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 10:39:58+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:02:39:47 +0000] "POST /upgrade/sysUpgrade HTTP/1.1" 200 21 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 10:40:04+0800 [INFO] Starting SmartTalk IoTService.Version is v0.3.6
2017-07-14 10:40:04+0800 [INFO] (1050, "Table 'device' already exists")
2017-07-14 10:40:04+0800 [INFO] (1050, "Table 'devicepanel' already exists")
2017-07-14 10:40:04+0800 [INFO] (1050, "Table 'deviceio' already exists")
2017-07-14 10:40:04+0800 [INFO] (1050, "Table 'deviceaudiovideo' already exists")
2017-07-14 10:40:04+0800 [INFO] (1050, "Table 'devicealarm' already exists")
2017-07-14 10:40:04+0800 [INFO] (1050, "Table 'feedback' already exists")
2017-07-14 10:40:04+0800 [INFO] (1050, "Table 'log_call' already exists")
2017-07-14 10:40:04+0800 [INFO] (1050, "Table 'log_device' already exists")
2017-07-14 10:40:04+0800 [INFO] (1050, "Table 'log_alarm' already exists")
2017-07-14 10:40:04+0800 [INFO] (1050, "Table 'devicetree' already exists")
2017-07-14 10:40:04+0800 [INFO] (1050, "Table 'authority' already exists")
2017-07-14 10:40:04+0800 [INFO] (1050, "Table 'identity' already exists")
2017-07-14 10:40:04+0800 [INFO] (1050, "Table 'authorization' already exists")
2017-07-14 10:40:05+0800 [INFO] (1050, "Table 'user' already exists")
2017-07-14 10:40:05+0800 [INFO] TreeNode has been initialized
2017-07-14 10:40:05+0800 [INFO] FeedBack has been initialized
2017-07-14 10:40:05+0800 [INFO] Administrator has been initialized
2017-07-14 10:40:05+0800 [INFO] Opened iptalk.db successfully
2017-07-14 10:40:05+0800 [INFO] OrderFactory starting on 12200
2017-07-14 10:40:05+0800 [INFO] Starting factory <devices.iptalk.factory.OrderFactory instance at 0x00000000045F68C8>
2017-07-14 10:40:05+0800 [INFO] QueryFactory starting on 34952
2017-07-14 10:40:05+0800 [INFO] Starting factory <devices.iptalk.factory.QueryFactory instance at 0x00000000046821C8>
2017-07-14 10:40:05+0800 [INFO] AudioFactory starting on 3478
2017-07-14 10:40:05+0800 [INFO] Starting protocol <devices.iptalk.factory.AudioFactory instance at 0x0000000004685E88>
2017-07-14 10:40:05+0800 [INFO] VideoFactory starting on 3456
2017-07-14 10:40:05+0800 [INFO] Starting protocol <devices.iptalk.factory.VideoFactory instance at 0x000000000468A308>
2017-07-14 10:40:05+0800 [INFO] IPTalkWebSite starting on 85
2017-07-14 10:40:05+0800 [INFO] Starting factory <web.site.IPTalkWebSite instance at 0x000000000468A648>
2017-07-14 10:40:05+0800 [INFO] WebSocketFactory starting on 89
2017-07-14 10:40:05+0800 [INFO] Starting factory <devices.iptalk.factory.WebSocketFactory instance at 0x00000000046991C8>
2017-07-14 10:40:05+0800 [INFO] TCPPushFactory starting on 90
2017-07-14 10:40:05+0800 [INFO] Starting factory <devices.iptalk.factory.TCPPushFactory instance at 0x0000000004699688>
2017-07-14 10:40:05+0800 [INFO] SearchFactory starting on 3550
2017-07-14 10:40:05+0800 [INFO] Starting protocol <devices.iptalk.factory.SearchFactory instance at 0x0000000004699B48>
2017-07-14 10:40:05+0800 [INFO] MyFTPFactory starting on 21
2017-07-14 10:40:05+0800 [INFO] Starting factory <devices.iptalk.ftp.MyFTPFactory instance at 0x0000000004699EC8>
2017-07-14 10:40:05+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 63434) .
2017-07-14 10:40:05+0800 [INFO] WebSocket keepAlive is on
2017-07-14 10:40:05+0800 [INFO] websocket is connected.
2017-07-14 10:40:06+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 63445) .
2017-07-14 10:40:06+0800 [INFO] WebSocket keepAlive is on
2017-07-14 10:40:06+0800 [INFO] websocket is connected.
2017-07-14 10:40:11+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:02:40:10 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 10:40:11+0800 [ERROR] Unhandled Error
	Traceback (most recent call last):
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 1442, in dataReceived
	    finishCallback(data[contentLength:])
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 1768, in _finishRequestBody
	    self.allContentReceived()
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 1845, in allContentReceived
	    req.requestReceived(command, path, version)
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 766, in requestReceived
	    self.process()
	--- <exception caught here> ---
	  File "C:\Python27\lib\site-packages\twisted\web\server.py", line 183, in process
	    self.render(resrc)
	  File "C:\Python27\lib\site-packages\twisted\web\server.py", line 234, in render
	    body = resrc.render(self)
	  File "C:\Python27\lib\site-packages\twisted\web\resource.py", line 250, in render
	    return m(request)
	  File "D:/Documents/catcuts/project/iot_combination\devices\iptalk\webmanager.py", line 368, in render_POST
	    f = self.parse_upload(request)
	  File "D:/Documents/catcuts/project/iot_combination\devices\iptalk\webmanager.py", line 382, in parse_upload
	    file_data = form_data['upgradePackage'].value
	  File "C:\Python27\lib\cgi.py", line 540, in __getitem__
	    raise KeyError, key
	exceptions.KeyError: 'upgradePackage'
	
2017-07-14 10:40:11+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:02:40:10 +0000] "POST /upgrade/sysUpgrade HTTP/1.1" 500 6144 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 10:40:31+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:02:40:31 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 10:44:09+0800 [INFO] Starting SmartTalk IoTService.Version is v0.3.6
2017-07-14 10:44:09+0800 [INFO] (1050, "Table 'device' already exists")
2017-07-14 10:44:09+0800 [INFO] (1050, "Table 'devicepanel' already exists")
2017-07-14 10:44:09+0800 [INFO] (1050, "Table 'deviceio' already exists")
2017-07-14 10:44:09+0800 [INFO] (1050, "Table 'deviceaudiovideo' already exists")
2017-07-14 10:44:09+0800 [INFO] (1050, "Table 'devicealarm' already exists")
2017-07-14 10:44:09+0800 [INFO] (1050, "Table 'feedback' already exists")
2017-07-14 10:44:09+0800 [INFO] (1050, "Table 'log_call' already exists")
2017-07-14 10:44:09+0800 [INFO] (1050, "Table 'log_device' already exists")
2017-07-14 10:44:09+0800 [INFO] (1050, "Table 'log_alarm' already exists")
2017-07-14 10:44:09+0800 [INFO] (1050, "Table 'devicetree' already exists")
2017-07-14 10:44:09+0800 [INFO] (1050, "Table 'authority' already exists")
2017-07-14 10:44:09+0800 [INFO] (1050, "Table 'identity' already exists")
2017-07-14 10:44:09+0800 [INFO] (1050, "Table 'authorization' already exists")
2017-07-14 10:44:09+0800 [INFO] (1050, "Table 'user' already exists")
2017-07-14 10:44:09+0800 [INFO] TreeNode has been initialized
2017-07-14 10:44:09+0800 [INFO] FeedBack has been initialized
2017-07-14 10:44:09+0800 [INFO] Administrator has been initialized
2017-07-14 10:44:09+0800 [INFO] Opened iptalk.db successfully
2017-07-14 10:44:10+0800 [INFO] OrderFactory starting on 12200
2017-07-14 10:44:10+0800 [INFO] Starting factory <devices.iptalk.factory.OrderFactory instance at 0x00000000046868C8>
2017-07-14 10:44:10+0800 [INFO] QueryFactory starting on 34952
2017-07-14 10:44:10+0800 [INFO] Starting factory <devices.iptalk.factory.QueryFactory instance at 0x00000000047121C8>
2017-07-14 10:44:10+0800 [INFO] AudioFactory starting on 3478
2017-07-14 10:44:10+0800 [INFO] Starting protocol <devices.iptalk.factory.AudioFactory instance at 0x0000000004715E88>
2017-07-14 10:44:10+0800 [INFO] VideoFactory starting on 3456
2017-07-14 10:44:10+0800 [INFO] Starting protocol <devices.iptalk.factory.VideoFactory instance at 0x000000000471A308>
2017-07-14 10:44:10+0800 [INFO] IPTalkWebSite starting on 85
2017-07-14 10:44:10+0800 [INFO] Starting factory <web.site.IPTalkWebSite instance at 0x000000000471A648>
2017-07-14 10:44:10+0800 [INFO] WebSocketFactory starting on 89
2017-07-14 10:44:10+0800 [INFO] Starting factory <devices.iptalk.factory.WebSocketFactory instance at 0x00000000047291C8>
2017-07-14 10:44:10+0800 [INFO] TCPPushFactory starting on 90
2017-07-14 10:44:10+0800 [INFO] Starting factory <devices.iptalk.factory.TCPPushFactory instance at 0x0000000004729688>
2017-07-14 10:44:10+0800 [INFO] SearchFactory starting on 3550
2017-07-14 10:44:10+0800 [INFO] Starting protocol <devices.iptalk.factory.SearchFactory instance at 0x0000000004729B48>
2017-07-14 10:44:10+0800 [INFO] MyFTPFactory starting on 21
2017-07-14 10:44:10+0800 [INFO] Starting factory <devices.iptalk.ftp.MyFTPFactory instance at 0x0000000004729EC8>
2017-07-14 10:44:11+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 64012) .
2017-07-14 10:44:11+0800 [INFO] WebSocket keepAlive is on
2017-07-14 10:44:11+0800 [INFO] websocket is connected.
2017-07-14 10:44:12+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 64014) .
2017-07-14 10:44:12+0800 [INFO] WebSocket keepAlive is on
2017-07-14 10:44:12+0800 [INFO] websocket is connected.
2017-07-14 10:44:18+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:02:44:18 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 10:44:18+0800 [ERROR] Unhandled Error
	Traceback (most recent call last):
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 1442, in dataReceived
	    finishCallback(data[contentLength:])
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 1768, in _finishRequestBody
	    self.allContentReceived()
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 1845, in allContentReceived
	    req.requestReceived(command, path, version)
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 766, in requestReceived
	    self.process()
	--- <exception caught here> ---
	  File "C:\Python27\lib\site-packages\twisted\web\server.py", line 183, in process
	    self.render(resrc)
	  File "C:\Python27\lib\site-packages\twisted\web\server.py", line 234, in render
	    body = resrc.render(self)
	  File "C:\Python27\lib\site-packages\twisted\web\resource.py", line 250, in render
	    return m(request)
	  File "D:/Documents/catcuts/project/iot_combination\devices\iptalk\webmanager.py", line 368, in render_POST
	    f = self.parse_upload(request)
	  File "D:/Documents/catcuts/project/iot_combination\devices\iptalk\webmanager.py", line 383, in parse_upload
	    fp = open('/data/tmp/file', 'wb')
	exceptions.IOError: [Errno 2] No such file or directory: '/data/tmp/file'
	
2017-07-14 10:44:19+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:02:44:18 +0000] "POST /upgrade/sysUpgrade HTTP/1.1" 500 5457 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 10:45:29+0800 [INFO] Starting SmartTalk IoTService.Version is v0.3.6
2017-07-14 10:45:29+0800 [INFO] (1050, "Table 'device' already exists")
2017-07-14 10:45:29+0800 [INFO] (1050, "Table 'devicepanel' already exists")
2017-07-14 10:45:29+0800 [INFO] (1050, "Table 'deviceio' already exists")
2017-07-14 10:45:29+0800 [INFO] (1050, "Table 'deviceaudiovideo' already exists")
2017-07-14 10:45:29+0800 [INFO] (1050, "Table 'devicealarm' already exists")
2017-07-14 10:45:29+0800 [INFO] (1050, "Table 'feedback' already exists")
2017-07-14 10:45:29+0800 [INFO] (1050, "Table 'log_call' already exists")
2017-07-14 10:45:29+0800 [INFO] (1050, "Table 'log_device' already exists")
2017-07-14 10:45:29+0800 [INFO] (1050, "Table 'log_alarm' already exists")
2017-07-14 10:45:29+0800 [INFO] (1050, "Table 'devicetree' already exists")
2017-07-14 10:45:29+0800 [INFO] (1050, "Table 'authority' already exists")
2017-07-14 10:45:30+0800 [INFO] (1050, "Table 'identity' already exists")
2017-07-14 10:45:30+0800 [INFO] (1050, "Table 'authorization' already exists")
2017-07-14 10:45:30+0800 [INFO] (1050, "Table 'user' already exists")
2017-07-14 10:45:30+0800 [INFO] TreeNode has been initialized
2017-07-14 10:45:30+0800 [INFO] FeedBack has been initialized
2017-07-14 10:45:30+0800 [INFO] Administrator has been initialized
2017-07-14 10:45:30+0800 [INFO] Opened iptalk.db successfully
2017-07-14 10:45:30+0800 [INFO] OrderFactory starting on 12200
2017-07-14 10:45:30+0800 [INFO] Starting factory <devices.iptalk.factory.OrderFactory instance at 0x00000000045F68C8>
2017-07-14 10:45:30+0800 [INFO] QueryFactory starting on 34952
2017-07-14 10:45:30+0800 [INFO] Starting factory <devices.iptalk.factory.QueryFactory instance at 0x0000000004682108>
2017-07-14 10:45:30+0800 [INFO] AudioFactory starting on 3478
2017-07-14 10:45:30+0800 [INFO] Starting protocol <devices.iptalk.factory.AudioFactory instance at 0x0000000004685E88>
2017-07-14 10:45:30+0800 [INFO] VideoFactory starting on 3456
2017-07-14 10:45:30+0800 [INFO] Starting protocol <devices.iptalk.factory.VideoFactory instance at 0x000000000468A308>
2017-07-14 10:45:30+0800 [INFO] IPTalkWebSite starting on 85
2017-07-14 10:45:30+0800 [INFO] Starting factory <web.site.IPTalkWebSite instance at 0x000000000468A648>
2017-07-14 10:45:30+0800 [INFO] WebSocketFactory starting on 89
2017-07-14 10:45:30+0800 [INFO] Starting factory <devices.iptalk.factory.WebSocketFactory instance at 0x0000000004696088>
2017-07-14 10:45:30+0800 [INFO] TCPPushFactory starting on 90
2017-07-14 10:45:30+0800 [INFO] Starting factory <devices.iptalk.factory.TCPPushFactory instance at 0x0000000004696548>
2017-07-14 10:45:30+0800 [INFO] SearchFactory starting on 3550
2017-07-14 10:45:30+0800 [INFO] Starting protocol <devices.iptalk.factory.SearchFactory instance at 0x0000000004696A08>
2017-07-14 10:45:30+0800 [INFO] MyFTPFactory starting on 21
2017-07-14 10:45:30+0800 [INFO] Starting factory <devices.iptalk.ftp.MyFTPFactory instance at 0x0000000004696D88>
2017-07-14 10:45:30+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 64182) .
2017-07-14 10:45:30+0800 [INFO] WebSocket keepAlive is on
2017-07-14 10:45:30+0800 [INFO] websocket is connected.
2017-07-14 10:45:31+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 64189) .
2017-07-14 10:45:31+0800 [INFO] WebSocket keepAlive is on
2017-07-14 10:45:31+0800 [INFO] websocket is connected.
2017-07-14 10:45:36+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:02:45:36 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 10:46:26+0800 [INFO] Starting SmartTalk IoTService.Version is v0.3.6
2017-07-14 10:46:26+0800 [INFO] (1050, "Table 'device' already exists")
2017-07-14 10:46:26+0800 [INFO] (1050, "Table 'devicepanel' already exists")
2017-07-14 10:46:26+0800 [INFO] (1050, "Table 'deviceio' already exists")
2017-07-14 10:46:26+0800 [INFO] (1050, "Table 'deviceaudiovideo' already exists")
2017-07-14 10:46:26+0800 [INFO] (1050, "Table 'devicealarm' already exists")
2017-07-14 10:46:26+0800 [INFO] (1050, "Table 'feedback' already exists")
2017-07-14 10:46:26+0800 [INFO] (1050, "Table 'log_call' already exists")
2017-07-14 10:46:26+0800 [INFO] (1050, "Table 'log_device' already exists")
2017-07-14 10:46:26+0800 [INFO] (1050, "Table 'log_alarm' already exists")
2017-07-14 10:46:26+0800 [INFO] (1050, "Table 'devicetree' already exists")
2017-07-14 10:46:26+0800 [INFO] (1050, "Table 'authority' already exists")
2017-07-14 10:46:26+0800 [INFO] (1050, "Table 'identity' already exists")
2017-07-14 10:46:26+0800 [INFO] (1050, "Table 'authorization' already exists")
2017-07-14 10:46:26+0800 [INFO] (1050, "Table 'user' already exists")
2017-07-14 10:46:26+0800 [INFO] TreeNode has been initialized
2017-07-14 10:46:26+0800 [INFO] FeedBack has been initialized
2017-07-14 10:46:26+0800 [INFO] Administrator has been initialized
2017-07-14 10:46:26+0800 [INFO] Opened iptalk.db successfully
2017-07-14 10:46:27+0800 [INFO] OrderFactory starting on 12200
2017-07-14 10:46:27+0800 [INFO] Starting factory <devices.iptalk.factory.OrderFactory instance at 0x00000000046198C8>
2017-07-14 10:46:27+0800 [INFO] QueryFactory starting on 34952
2017-07-14 10:46:27+0800 [INFO] Starting factory <devices.iptalk.factory.QueryFactory instance at 0x00000000046A61C8>
2017-07-14 10:46:27+0800 [INFO] AudioFactory starting on 3478
2017-07-14 10:46:27+0800 [INFO] Starting protocol <devices.iptalk.factory.AudioFactory instance at 0x00000000046A9E88>
2017-07-14 10:46:27+0800 [INFO] VideoFactory starting on 3456
2017-07-14 10:46:27+0800 [INFO] Starting protocol <devices.iptalk.factory.VideoFactory instance at 0x00000000046AE308>
2017-07-14 10:46:27+0800 [INFO] IPTalkWebSite starting on 85
2017-07-14 10:46:27+0800 [INFO] Starting factory <web.site.IPTalkWebSite instance at 0x00000000046AE648>
2017-07-14 10:46:27+0800 [INFO] WebSocketFactory starting on 89
2017-07-14 10:46:27+0800 [INFO] Starting factory <devices.iptalk.factory.WebSocketFactory instance at 0x00000000046BB088>
2017-07-14 10:46:27+0800 [INFO] TCPPushFactory starting on 90
2017-07-14 10:46:27+0800 [INFO] Starting factory <devices.iptalk.factory.TCPPushFactory instance at 0x00000000046BB548>
2017-07-14 10:46:27+0800 [INFO] SearchFactory starting on 3550
2017-07-14 10:46:27+0800 [INFO] Starting protocol <devices.iptalk.factory.SearchFactory instance at 0x00000000046BBA08>
2017-07-14 10:46:27+0800 [INFO] MyFTPFactory starting on 21
2017-07-14 10:46:27+0800 [INFO] Starting factory <devices.iptalk.ftp.MyFTPFactory instance at 0x00000000046BBD88>
2017-07-14 10:46:27+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 64335) .
2017-07-14 10:46:27+0800 [INFO] WebSocket keepAlive is on
2017-07-14 10:46:27+0800 [INFO] websocket is connected.
2017-07-14 10:46:29+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 64342) .
2017-07-14 10:46:29+0800 [INFO] WebSocket keepAlive is on
2017-07-14 10:46:29+0800 [INFO] websocket is connected.
2017-07-14 10:46:35+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:02:46:35 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 10:50:40+0800 [INFO] Starting SmartTalk IoTService.Version is v0.3.6
2017-07-14 10:50:40+0800 [INFO] (1050, "Table 'device' already exists")
2017-07-14 10:50:40+0800 [INFO] (1050, "Table 'devicepanel' already exists")
2017-07-14 10:50:40+0800 [INFO] (1050, "Table 'deviceio' already exists")
2017-07-14 10:50:40+0800 [INFO] (1050, "Table 'deviceaudiovideo' already exists")
2017-07-14 10:50:40+0800 [INFO] (1050, "Table 'devicealarm' already exists")
2017-07-14 10:50:40+0800 [INFO] (1050, "Table 'feedback' already exists")
2017-07-14 10:50:40+0800 [INFO] (1050, "Table 'log_call' already exists")
2017-07-14 10:50:40+0800 [INFO] (1050, "Table 'log_device' already exists")
2017-07-14 10:50:40+0800 [INFO] (1050, "Table 'log_alarm' already exists")
2017-07-14 10:50:40+0800 [INFO] (1050, "Table 'devicetree' already exists")
2017-07-14 10:50:40+0800 [INFO] (1050, "Table 'authority' already exists")
2017-07-14 10:50:40+0800 [INFO] (1050, "Table 'identity' already exists")
2017-07-14 10:50:40+0800 [INFO] (1050, "Table 'authorization' already exists")
2017-07-14 10:50:40+0800 [INFO] (1050, "Table 'user' already exists")
2017-07-14 10:50:40+0800 [INFO] TreeNode has been initialized
2017-07-14 10:50:40+0800 [INFO] FeedBack has been initialized
2017-07-14 10:50:40+0800 [INFO] Administrator has been initialized
2017-07-14 10:50:40+0800 [INFO] Opened iptalk.db successfully
2017-07-14 10:50:40+0800 [INFO] OrderFactory starting on 12200
2017-07-14 10:50:40+0800 [INFO] Starting factory <devices.iptalk.factory.OrderFactory instance at 0x00000000045DF8C8>
2017-07-14 10:50:40+0800 [INFO] QueryFactory starting on 34952
2017-07-14 10:50:40+0800 [INFO] Starting factory <devices.iptalk.factory.QueryFactory instance at 0x000000000466B1C8>
2017-07-14 10:50:40+0800 [INFO] AudioFactory starting on 3478
2017-07-14 10:50:40+0800 [INFO] Starting protocol <devices.iptalk.factory.AudioFactory instance at 0x000000000466EE88>
2017-07-14 10:50:40+0800 [INFO] VideoFactory starting on 3456
2017-07-14 10:50:40+0800 [INFO] Starting protocol <devices.iptalk.factory.VideoFactory instance at 0x0000000004673308>
2017-07-14 10:50:40+0800 [INFO] IPTalkWebSite starting on 85
2017-07-14 10:50:40+0800 [INFO] Starting factory <web.site.IPTalkWebSite instance at 0x0000000004673648>
2017-07-14 10:50:40+0800 [INFO] WebSocketFactory starting on 89
2017-07-14 10:50:40+0800 [INFO] Starting factory <devices.iptalk.factory.WebSocketFactory instance at 0x00000000046801C8>
2017-07-14 10:50:40+0800 [INFO] TCPPushFactory starting on 90
2017-07-14 10:50:40+0800 [INFO] Starting factory <devices.iptalk.factory.TCPPushFactory instance at 0x0000000004680688>
2017-07-14 10:50:40+0800 [INFO] SearchFactory starting on 3550
2017-07-14 10:50:40+0800 [INFO] Starting protocol <devices.iptalk.factory.SearchFactory instance at 0x0000000004680B48>
2017-07-14 10:50:40+0800 [INFO] MyFTPFactory starting on 21
2017-07-14 10:50:40+0800 [INFO] Starting factory <devices.iptalk.ftp.MyFTPFactory instance at 0x0000000004680EC8>
2017-07-14 10:50:41+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 64846) .
2017-07-14 10:50:41+0800 [INFO] WebSocket keepAlive is on
2017-07-14 10:50:41+0800 [INFO] websocket is connected.
2017-07-14 10:50:43+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 64855) .
2017-07-14 10:50:43+0800 [INFO] WebSocket keepAlive is on
2017-07-14 10:50:43+0800 [INFO] websocket is connected.
2017-07-14 10:50:45+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:02:50:44 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 10:50:48+0800 [ERROR] Unhandled Error
	Traceback (most recent call last):
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 1442, in dataReceived
	    finishCallback(data[contentLength:])
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 1768, in _finishRequestBody
	    self.allContentReceived()
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 1845, in allContentReceived
	    req.requestReceived(command, path, version)
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 766, in requestReceived
	    self.process()
	--- <exception caught here> ---
	  File "C:\Python27\lib\site-packages\twisted\web\server.py", line 183, in process
	    self.render(resrc)
	  File "C:\Python27\lib\site-packages\twisted\web\server.py", line 234, in render
	    body = resrc.render(self)
	  File "C:\Python27\lib\site-packages\twisted\web\resource.py", line 250, in render
	    return m(request)
	  File "D:/Documents/catcuts/project/iot_combination\devices\iptalk\webmanager.py", line 368, in render_POST
	    f = self.parse_upload(request)
	  File "D:/Documents/catcuts/project/iot_combination\devices\iptalk\webmanager.py", line 384, in parse_upload
	    fp = open('/data/tmp/file', 'wb')
	exceptions.IOError: [Errno 2] No such file or directory: '/data/tmp/file'
	
2017-07-14 10:50:48+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:02:50:44 +0000] "POST /upgrade/sysUpgrade HTTP/1.1" 500 5456 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 10:51:07+0800 [INFO] Starting SmartTalk IoTService.Version is v0.3.6
2017-07-14 10:51:07+0800 [INFO] (1050, "Table 'device' already exists")
2017-07-14 10:51:07+0800 [INFO] (1050, "Table 'devicepanel' already exists")
2017-07-14 10:51:07+0800 [INFO] (1050, "Table 'deviceio' already exists")
2017-07-14 10:51:07+0800 [INFO] (1050, "Table 'deviceaudiovideo' already exists")
2017-07-14 10:51:07+0800 [INFO] (1050, "Table 'devicealarm' already exists")
2017-07-14 10:51:07+0800 [INFO] (1050, "Table 'feedback' already exists")
2017-07-14 10:51:07+0800 [INFO] (1050, "Table 'log_call' already exists")
2017-07-14 10:51:07+0800 [INFO] (1050, "Table 'log_device' already exists")
2017-07-14 10:51:07+0800 [INFO] (1050, "Table 'log_alarm' already exists")
2017-07-14 10:51:07+0800 [INFO] (1050, "Table 'devicetree' already exists")
2017-07-14 10:51:08+0800 [INFO] (1050, "Table 'authority' already exists")
2017-07-14 10:51:08+0800 [INFO] (1050, "Table 'identity' already exists")
2017-07-14 10:51:08+0800 [INFO] (1050, "Table 'authorization' already exists")
2017-07-14 10:51:08+0800 [INFO] (1050, "Table 'user' already exists")
2017-07-14 10:51:08+0800 [INFO] TreeNode has been initialized
2017-07-14 10:51:08+0800 [INFO] FeedBack has been initialized
2017-07-14 10:51:08+0800 [INFO] Administrator has been initialized
2017-07-14 10:51:08+0800 [INFO] Opened iptalk.db successfully
2017-07-14 10:51:08+0800 [INFO] OrderFactory starting on 12200
2017-07-14 10:51:08+0800 [INFO] Starting factory <devices.iptalk.factory.OrderFactory instance at 0x000000000471D8C8>
2017-07-14 10:51:08+0800 [INFO] QueryFactory starting on 34952
2017-07-14 10:51:08+0800 [INFO] Starting factory <devices.iptalk.factory.QueryFactory instance at 0x00000000047AC1C8>
2017-07-14 10:51:08+0800 [INFO] AudioFactory starting on 3478
2017-07-14 10:51:08+0800 [INFO] Starting protocol <devices.iptalk.factory.AudioFactory instance at 0x00000000047AFE88>
2017-07-14 10:51:08+0800 [INFO] VideoFactory starting on 3456
2017-07-14 10:51:08+0800 [INFO] Starting protocol <devices.iptalk.factory.VideoFactory instance at 0x00000000047B4308>
2017-07-14 10:51:08+0800 [INFO] IPTalkWebSite starting on 85
2017-07-14 10:51:08+0800 [INFO] Starting factory <web.site.IPTalkWebSite instance at 0x00000000047B4648>
2017-07-14 10:51:08+0800 [INFO] WebSocketFactory starting on 89
2017-07-14 10:51:08+0800 [INFO] Starting factory <devices.iptalk.factory.WebSocketFactory instance at 0x00000000047C31C8>
2017-07-14 10:51:08+0800 [INFO] TCPPushFactory starting on 90
2017-07-14 10:51:08+0800 [INFO] Starting factory <devices.iptalk.factory.TCPPushFactory instance at 0x00000000047C3688>
2017-07-14 10:51:08+0800 [INFO] SearchFactory starting on 3550
2017-07-14 10:51:08+0800 [INFO] Starting protocol <devices.iptalk.factory.SearchFactory instance at 0x00000000047C3B48>
2017-07-14 10:51:08+0800 [INFO] MyFTPFactory starting on 21
2017-07-14 10:51:08+0800 [INFO] Starting factory <devices.iptalk.ftp.MyFTPFactory instance at 0x00000000047C3EC8>
2017-07-14 10:51:08+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 64913) .
2017-07-14 10:51:08+0800 [INFO] WebSocket keepAlive is on
2017-07-14 10:51:08+0800 [INFO] websocket is connected.
2017-07-14 10:51:09+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 64919) .
2017-07-14 10:51:09+0800 [INFO] WebSocket keepAlive is on
2017-07-14 10:51:09+0800 [INFO] websocket is connected.
2017-07-14 10:51:15+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:02:51:14 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 10:51:15+0800 [ERROR] Unhandled Error
	Traceback (most recent call last):
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 1442, in dataReceived
	    finishCallback(data[contentLength:])
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 1768, in _finishRequestBody
	    self.allContentReceived()
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 1845, in allContentReceived
	    req.requestReceived(command, path, version)
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 766, in requestReceived
	    self.process()
	--- <exception caught here> ---
	  File "C:\Python27\lib\site-packages\twisted\web\server.py", line 183, in process
	    self.render(resrc)
	  File "C:\Python27\lib\site-packages\twisted\web\server.py", line 234, in render
	    body = resrc.render(self)
	  File "C:\Python27\lib\site-packages\twisted\web\resource.py", line 250, in render
	    return m(request)
	  File "D:/Documents/catcuts/project/iot_combination\devices\iptalk\webmanager.py", line 369, in render_POST
	    with open('/data/tmp/file.zip', 'wb') as f:
	exceptions.IOError: [Errno 2] No such file or directory: '/data/tmp/file.zip'
	
2017-07-14 10:51:15+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:02:51:14 +0000] "POST /upgrade/sysUpgrade HTTP/1.1" 500 4604 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 10:51:31+0800 [INFO] Starting SmartTalk IoTService.Version is v0.3.6
2017-07-14 10:51:31+0800 [INFO] (1050, "Table 'device' already exists")
2017-07-14 10:51:31+0800 [INFO] (1050, "Table 'devicepanel' already exists")
2017-07-14 10:51:31+0800 [INFO] (1050, "Table 'deviceio' already exists")
2017-07-14 10:51:31+0800 [INFO] (1050, "Table 'deviceaudiovideo' already exists")
2017-07-14 10:51:31+0800 [INFO] (1050, "Table 'devicealarm' already exists")
2017-07-14 10:51:31+0800 [INFO] (1050, "Table 'feedback' already exists")
2017-07-14 10:51:31+0800 [INFO] (1050, "Table 'log_call' already exists")
2017-07-14 10:51:31+0800 [INFO] (1050, "Table 'log_device' already exists")
2017-07-14 10:51:31+0800 [INFO] (1050, "Table 'log_alarm' already exists")
2017-07-14 10:51:31+0800 [INFO] (1050, "Table 'devicetree' already exists")
2017-07-14 10:51:31+0800 [INFO] (1050, "Table 'authority' already exists")
2017-07-14 10:51:31+0800 [INFO] (1050, "Table 'identity' already exists")
2017-07-14 10:51:31+0800 [INFO] (1050, "Table 'authorization' already exists")
2017-07-14 10:51:31+0800 [INFO] (1050, "Table 'user' already exists")
2017-07-14 10:51:31+0800 [INFO] TreeNode has been initialized
2017-07-14 10:51:31+0800 [INFO] FeedBack has been initialized
2017-07-14 10:51:31+0800 [INFO] Administrator has been initialized
2017-07-14 10:51:31+0800 [INFO] Opened iptalk.db successfully
2017-07-14 10:51:32+0800 [INFO] OrderFactory starting on 12200
2017-07-14 10:51:32+0800 [INFO] Starting factory <devices.iptalk.factory.OrderFactory instance at 0x000000000460B8C8>
2017-07-14 10:51:32+0800 [INFO] QueryFactory starting on 34952
2017-07-14 10:51:32+0800 [INFO] Starting factory <devices.iptalk.factory.QueryFactory instance at 0x00000000046B71C8>
2017-07-14 10:51:32+0800 [INFO] AudioFactory starting on 3478
2017-07-14 10:51:32+0800 [INFO] Starting protocol <devices.iptalk.factory.AudioFactory instance at 0x00000000046BAE88>
2017-07-14 10:51:32+0800 [INFO] VideoFactory starting on 3456
2017-07-14 10:51:32+0800 [INFO] Starting protocol <devices.iptalk.factory.VideoFactory instance at 0x00000000046BF308>
2017-07-14 10:51:32+0800 [INFO] IPTalkWebSite starting on 85
2017-07-14 10:51:32+0800 [INFO] Starting factory <web.site.IPTalkWebSite instance at 0x00000000046BF648>
2017-07-14 10:51:32+0800 [INFO] WebSocketFactory starting on 89
2017-07-14 10:51:32+0800 [INFO] Starting factory <devices.iptalk.factory.WebSocketFactory instance at 0x00000000046CB088>
2017-07-14 10:51:32+0800 [INFO] TCPPushFactory starting on 90
2017-07-14 10:51:32+0800 [INFO] Starting factory <devices.iptalk.factory.TCPPushFactory instance at 0x00000000046CB548>
2017-07-14 10:51:32+0800 [INFO] SearchFactory starting on 3550
2017-07-14 10:51:32+0800 [INFO] Starting protocol <devices.iptalk.factory.SearchFactory instance at 0x00000000046CBA08>
2017-07-14 10:51:32+0800 [INFO] MyFTPFactory starting on 21
2017-07-14 10:51:32+0800 [INFO] Starting factory <devices.iptalk.ftp.MyFTPFactory instance at 0x00000000046CBD88>
2017-07-14 10:51:32+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 64975) .
2017-07-14 10:51:32+0800 [INFO] WebSocket keepAlive is on
2017-07-14 10:51:32+0800 [INFO] websocket is connected.
2017-07-14 10:51:34+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 64982) .
2017-07-14 10:51:34+0800 [INFO] WebSocket keepAlive is on
2017-07-14 10:51:34+0800 [INFO] websocket is connected.
2017-07-14 10:51:36+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:02:51:36 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 10:51:36+0800 [ERROR] Unhandled Error
	Traceback (most recent call last):
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 1442, in dataReceived
	    finishCallback(data[contentLength:])
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 1768, in _finishRequestBody
	    self.allContentReceived()
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 1845, in allContentReceived
	    req.requestReceived(command, path, version)
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 766, in requestReceived
	    self.process()
	--- <exception caught here> ---
	  File "C:\Python27\lib\site-packages\twisted\web\server.py", line 183, in process
	    self.render(resrc)
	  File "C:\Python27\lib\site-packages\twisted\web\server.py", line 234, in render
	    body = resrc.render(self)
	  File "C:\Python27\lib\site-packages\twisted\web\resource.py", line 250, in render
	    return m(request)
	  File "D:/Documents/catcuts/project/iot_combination\devices\iptalk\webmanager.py", line 369, in render_POST
	    with open('/data/tmp/file.zip', 'wb') as f:
	exceptions.IOError: [Errno 2] No such file or directory: '/data/tmp/file.zip'
	
2017-07-14 10:51:36+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:02:51:36 +0000] "POST /upgrade/sysUpgrade HTTP/1.1" 500 4604 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 10:52:50+0800 [INFO] Starting SmartTalk IoTService.Version is v0.3.6
2017-07-14 10:52:50+0800 [INFO] (1050, "Table 'device' already exists")
2017-07-14 10:52:50+0800 [INFO] (1050, "Table 'devicepanel' already exists")
2017-07-14 10:52:50+0800 [INFO] (1050, "Table 'deviceio' already exists")
2017-07-14 10:52:50+0800 [INFO] (1050, "Table 'deviceaudiovideo' already exists")
2017-07-14 10:52:50+0800 [INFO] (1050, "Table 'devicealarm' already exists")
2017-07-14 10:52:50+0800 [INFO] (1050, "Table 'feedback' already exists")
2017-07-14 10:52:50+0800 [INFO] (1050, "Table 'log_call' already exists")
2017-07-14 10:52:50+0800 [INFO] (1050, "Table 'log_device' already exists")
2017-07-14 10:52:50+0800 [INFO] (1050, "Table 'log_alarm' already exists")
2017-07-14 10:52:50+0800 [INFO] (1050, "Table 'devicetree' already exists")
2017-07-14 10:52:50+0800 [INFO] (1050, "Table 'authority' already exists")
2017-07-14 10:52:50+0800 [INFO] (1050, "Table 'identity' already exists")
2017-07-14 10:52:50+0800 [INFO] (1050, "Table 'authorization' already exists")
2017-07-14 10:52:50+0800 [INFO] (1050, "Table 'user' already exists")
2017-07-14 10:52:50+0800 [INFO] TreeNode has been initialized
2017-07-14 10:52:50+0800 [INFO] FeedBack has been initialized
2017-07-14 10:52:50+0800 [INFO] Administrator has been initialized
2017-07-14 10:52:50+0800 [INFO] Opened iptalk.db successfully
2017-07-14 10:52:50+0800 [INFO] OrderFactory starting on 12200
2017-07-14 10:52:50+0800 [INFO] Starting factory <devices.iptalk.factory.OrderFactory instance at 0x00000000045608C8>
2017-07-14 10:52:50+0800 [INFO] QueryFactory starting on 34952
2017-07-14 10:52:50+0800 [INFO] Starting factory <devices.iptalk.factory.QueryFactory instance at 0x00000000045CC1C8>
2017-07-14 10:52:50+0800 [INFO] AudioFactory starting on 3478
2017-07-14 10:52:50+0800 [INFO] Starting protocol <devices.iptalk.factory.AudioFactory instance at 0x00000000045D0E88>
2017-07-14 10:52:50+0800 [INFO] VideoFactory starting on 3456
2017-07-14 10:52:50+0800 [INFO] Starting protocol <devices.iptalk.factory.VideoFactory instance at 0x00000000045D4308>
2017-07-14 10:52:50+0800 [INFO] IPTalkWebSite starting on 85
2017-07-14 10:52:50+0800 [INFO] Starting factory <web.site.IPTalkWebSite instance at 0x00000000045D4648>
2017-07-14 10:52:50+0800 [INFO] WebSocketFactory starting on 89
2017-07-14 10:52:50+0800 [INFO] Starting factory <devices.iptalk.factory.WebSocketFactory instance at 0x00000000045E41C8>
2017-07-14 10:52:50+0800 [INFO] TCPPushFactory starting on 90
2017-07-14 10:52:50+0800 [INFO] Starting factory <devices.iptalk.factory.TCPPushFactory instance at 0x00000000045E4688>
2017-07-14 10:52:50+0800 [INFO] SearchFactory starting on 3550
2017-07-14 10:52:50+0800 [INFO] Starting protocol <devices.iptalk.factory.SearchFactory instance at 0x00000000045E4B48>
2017-07-14 10:52:50+0800 [INFO] MyFTPFactory starting on 21
2017-07-14 10:52:50+0800 [INFO] Starting factory <devices.iptalk.ftp.MyFTPFactory instance at 0x00000000045E4EC8>
2017-07-14 10:52:51+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 65140) .
2017-07-14 10:52:51+0800 [INFO] WebSocket keepAlive is on
2017-07-14 10:52:51+0800 [INFO] websocket is connected.
2017-07-14 10:52:51+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 65147) .
2017-07-14 10:52:51+0800 [INFO] WebSocket keepAlive is on
2017-07-14 10:52:51+0800 [INFO] websocket is connected.
2017-07-14 10:52:54+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:02:52:54 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 10:52:54+0800 [ERROR] Unhandled Error
	Traceback (most recent call last):
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 1442, in dataReceived
	    finishCallback(data[contentLength:])
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 1768, in _finishRequestBody
	    self.allContentReceived()
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 1845, in allContentReceived
	    req.requestReceived(command, path, version)
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 766, in requestReceived
	    self.process()
	--- <exception caught here> ---
	  File "C:\Python27\lib\site-packages\twisted\web\server.py", line 183, in process
	    self.render(resrc)
	  File "C:\Python27\lib\site-packages\twisted\web\server.py", line 234, in render
	    body = resrc.render(self)
	  File "C:\Python27\lib\site-packages\twisted\web\resource.py", line 250, in render
	    return m(request)
	  File "D:/Documents/catcuts/project/iot_combination\devices\iptalk\webmanager.py", line 369, in render_POST
	    with open('C:/data/tmp/file.zip', 'wb') as f:
	exceptions.IOError: [Errno 2] No such file or directory: 'C:/data/tmp/file.zip'
	
2017-07-14 10:52:55+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:02:52:54 +0000] "POST /upgrade/sysUpgrade HTTP/1.1" 500 4610 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 10:53:16+0800 [INFO] Starting SmartTalk IoTService.Version is v0.3.6
2017-07-14 10:53:16+0800 [INFO] (1050, "Table 'device' already exists")
2017-07-14 10:53:16+0800 [INFO] (1050, "Table 'devicepanel' already exists")
2017-07-14 10:53:16+0800 [INFO] (1050, "Table 'deviceio' already exists")
2017-07-14 10:53:16+0800 [INFO] (1050, "Table 'deviceaudiovideo' already exists")
2017-07-14 10:53:16+0800 [INFO] (1050, "Table 'devicealarm' already exists")
2017-07-14 10:53:16+0800 [INFO] (1050, "Table 'feedback' already exists")
2017-07-14 10:53:16+0800 [INFO] (1050, "Table 'log_call' already exists")
2017-07-14 10:53:16+0800 [INFO] (1050, "Table 'log_device' already exists")
2017-07-14 10:53:16+0800 [INFO] (1050, "Table 'log_alarm' already exists")
2017-07-14 10:53:16+0800 [INFO] (1050, "Table 'devicetree' already exists")
2017-07-14 10:53:16+0800 [INFO] (1050, "Table 'authority' already exists")
2017-07-14 10:53:16+0800 [INFO] (1050, "Table 'identity' already exists")
2017-07-14 10:53:16+0800 [INFO] (1050, "Table 'authorization' already exists")
2017-07-14 10:53:16+0800 [INFO] (1050, "Table 'user' already exists")
2017-07-14 10:53:16+0800 [INFO] TreeNode has been initialized
2017-07-14 10:53:16+0800 [INFO] FeedBack has been initialized
2017-07-14 10:53:16+0800 [INFO] Administrator has been initialized
2017-07-14 10:53:16+0800 [INFO] Opened iptalk.db successfully
2017-07-14 10:53:17+0800 [INFO] OrderFactory starting on 12200
2017-07-14 10:53:17+0800 [INFO] Starting factory <devices.iptalk.factory.OrderFactory instance at 0x000000000462D8C8>
2017-07-14 10:53:17+0800 [INFO] QueryFactory starting on 34952
2017-07-14 10:53:17+0800 [INFO] Starting factory <devices.iptalk.factory.QueryFactory instance at 0x00000000046B81C8>
2017-07-14 10:53:17+0800 [INFO] AudioFactory starting on 3478
2017-07-14 10:53:17+0800 [INFO] Starting protocol <devices.iptalk.factory.AudioFactory instance at 0x00000000046BCE88>
2017-07-14 10:53:17+0800 [INFO] VideoFactory starting on 3456
2017-07-14 10:53:17+0800 [INFO] Starting protocol <devices.iptalk.factory.VideoFactory instance at 0x00000000046C0308>
2017-07-14 10:53:17+0800 [INFO] IPTalkWebSite starting on 85
2017-07-14 10:53:17+0800 [INFO] Starting factory <web.site.IPTalkWebSite instance at 0x00000000046C0648>
2017-07-14 10:53:17+0800 [INFO] WebSocketFactory starting on 89
2017-07-14 10:53:17+0800 [INFO] Starting factory <devices.iptalk.factory.WebSocketFactory instance at 0x00000000046D01C8>
2017-07-14 10:53:17+0800 [INFO] TCPPushFactory starting on 90
2017-07-14 10:53:17+0800 [INFO] Starting factory <devices.iptalk.factory.TCPPushFactory instance at 0x00000000046D0688>
2017-07-14 10:53:17+0800 [INFO] SearchFactory starting on 3550
2017-07-14 10:53:17+0800 [INFO] Starting protocol <devices.iptalk.factory.SearchFactory instance at 0x00000000046D0B48>
2017-07-14 10:53:17+0800 [INFO] MyFTPFactory starting on 21
2017-07-14 10:53:17+0800 [INFO] Starting factory <devices.iptalk.ftp.MyFTPFactory instance at 0x00000000046D0EC8>
2017-07-14 10:53:17+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 65203) .
2017-07-14 10:53:17+0800 [INFO] WebSocket keepAlive is on
2017-07-14 10:53:17+0800 [INFO] websocket is connected.
2017-07-14 10:53:18+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 65209) .
2017-07-14 10:53:18+0800 [INFO] WebSocket keepAlive is on
2017-07-14 10:53:18+0800 [INFO] websocket is connected.
2017-07-14 10:53:20+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:02:53:20 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 11:03:07+0800 [INFO] Starting SmartTalk IoTService.Version is v0.3.6
2017-07-14 11:03:08+0800 [INFO] (1050, "Table 'device' already exists")
2017-07-14 11:03:08+0800 [INFO] (1050, "Table 'devicepanel' already exists")
2017-07-14 11:03:08+0800 [INFO] (1050, "Table 'deviceio' already exists")
2017-07-14 11:03:08+0800 [INFO] (1050, "Table 'deviceaudiovideo' already exists")
2017-07-14 11:03:08+0800 [INFO] (1050, "Table 'devicealarm' already exists")
2017-07-14 11:03:08+0800 [INFO] (1050, "Table 'feedback' already exists")
2017-07-14 11:03:08+0800 [INFO] (1050, "Table 'log_call' already exists")
2017-07-14 11:03:08+0800 [INFO] (1050, "Table 'log_device' already exists")
2017-07-14 11:03:08+0800 [INFO] (1050, "Table 'log_alarm' already exists")
2017-07-14 11:03:08+0800 [INFO] (1050, "Table 'devicetree' already exists")
2017-07-14 11:03:08+0800 [INFO] (1050, "Table 'authority' already exists")
2017-07-14 11:03:08+0800 [INFO] (1050, "Table 'identity' already exists")
2017-07-14 11:03:08+0800 [INFO] (1050, "Table 'authorization' already exists")
2017-07-14 11:03:08+0800 [INFO] (1050, "Table 'user' already exists")
2017-07-14 11:03:08+0800 [INFO] TreeNode has been initialized
2017-07-14 11:03:08+0800 [INFO] FeedBack has been initialized
2017-07-14 11:03:08+0800 [INFO] Administrator has been initialized
2017-07-14 11:03:08+0800 [INFO] Opened iptalk.db successfully
2017-07-14 11:03:21+0800 [INFO] Starting SmartTalk IoTService.Version is v0.3.6
2017-07-14 11:03:22+0800 [INFO] (1050, "Table 'device' already exists")
2017-07-14 11:03:22+0800 [INFO] (1050, "Table 'devicepanel' already exists")
2017-07-14 11:03:22+0800 [INFO] (1050, "Table 'deviceio' already exists")
2017-07-14 11:03:22+0800 [INFO] (1050, "Table 'deviceaudiovideo' already exists")
2017-07-14 11:03:22+0800 [INFO] (1050, "Table 'devicealarm' already exists")
2017-07-14 11:03:22+0800 [INFO] (1050, "Table 'feedback' already exists")
2017-07-14 11:03:22+0800 [INFO] (1050, "Table 'log_call' already exists")
2017-07-14 11:03:22+0800 [INFO] (1050, "Table 'log_device' already exists")
2017-07-14 11:03:22+0800 [INFO] (1050, "Table 'log_alarm' already exists")
2017-07-14 11:03:22+0800 [INFO] (1050, "Table 'devicetree' already exists")
2017-07-14 11:03:22+0800 [INFO] (1050, "Table 'authority' already exists")
2017-07-14 11:03:22+0800 [INFO] (1050, "Table 'identity' already exists")
2017-07-14 11:03:22+0800 [INFO] (1050, "Table 'authorization' already exists")
2017-07-14 11:03:22+0800 [INFO] (1050, "Table 'user' already exists")
2017-07-14 11:03:22+0800 [INFO] TreeNode has been initialized
2017-07-14 11:03:22+0800 [INFO] FeedBack has been initialized
2017-07-14 11:03:22+0800 [INFO] Administrator has been initialized
2017-07-14 11:03:22+0800 [INFO] Opened iptalk.db successfully
2017-07-14 11:03:22+0800 [INFO] OrderFactory starting on 12200
2017-07-14 11:03:22+0800 [INFO] Starting factory <devices.iptalk.factory.OrderFactory instance at 0x000000000463F8C8>
2017-07-14 11:03:22+0800 [INFO] QueryFactory starting on 34952
2017-07-14 11:03:22+0800 [INFO] Starting factory <devices.iptalk.factory.QueryFactory instance at 0x00000000046CB1C8>
2017-07-14 11:03:22+0800 [INFO] AudioFactory starting on 3478
2017-07-14 11:03:22+0800 [INFO] Starting protocol <devices.iptalk.factory.AudioFactory instance at 0x00000000046CEE88>
2017-07-14 11:03:22+0800 [INFO] VideoFactory starting on 3456
2017-07-14 11:03:22+0800 [INFO] Starting protocol <devices.iptalk.factory.VideoFactory instance at 0x00000000046D3308>
2017-07-14 11:03:22+0800 [INFO] IPTalkWebSite starting on 85
2017-07-14 11:03:22+0800 [INFO] Starting factory <web.site.IPTalkWebSite instance at 0x00000000046D3648>
2017-07-14 11:03:22+0800 [INFO] WebSocketFactory starting on 89
2017-07-14 11:03:22+0800 [INFO] Starting factory <devices.iptalk.factory.WebSocketFactory instance at 0x00000000046E1148>
2017-07-14 11:03:22+0800 [INFO] TCPPushFactory starting on 90
2017-07-14 11:03:22+0800 [INFO] Starting factory <devices.iptalk.factory.TCPPushFactory instance at 0x00000000046E1608>
2017-07-14 11:03:22+0800 [INFO] SearchFactory starting on 3550
2017-07-14 11:03:22+0800 [INFO] Starting protocol <devices.iptalk.factory.SearchFactory instance at 0x00000000046E1AC8>
2017-07-14 11:03:22+0800 [INFO] MyFTPFactory starting on 21
2017-07-14 11:03:22+0800 [INFO] Starting factory <devices.iptalk.ftp.MyFTPFactory instance at 0x00000000046E1E48>
2017-07-14 11:03:22+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 50091) .
2017-07-14 11:03:22+0800 [INFO] WebSocket keepAlive is on
2017-07-14 11:03:22+0800 [INFO] websocket is connected.
2017-07-14 11:03:22+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 50095) .
2017-07-14 11:03:22+0800 [INFO] WebSocket keepAlive is on
2017-07-14 11:03:22+0800 [INFO] websocket is connected.
2017-07-14 11:06:31+0800 [INFO] delete websock TCP connect:2d09c4cffd37419aae9c61244efc4ed1
2017-07-14 11:06:31+0800 [INFO] websocket is disconnected.
2017-07-14 11:06:32+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 50489) .
2017-07-14 11:06:32+0800 [INFO] WebSocket keepAlive is on
2017-07-14 11:06:32+0800 [INFO] websocket is connected.
2017-07-14 11:06:33+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:03:06:32 +0000] "GET /devices/iptalk/getiptalkdevicemessage HTTP/1.1" 200 83 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 11:06:35+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:03:06:35 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 11:11:51+0800 [INFO] Starting SmartTalk IoTService.Version is v0.3.6
2017-07-14 11:11:51+0800 [INFO] (1050, "Table 'device' already exists")
2017-07-14 11:11:51+0800 [INFO] (1050, "Table 'devicepanel' already exists")
2017-07-14 11:11:51+0800 [INFO] (1050, "Table 'deviceio' already exists")
2017-07-14 11:11:51+0800 [INFO] (1050, "Table 'deviceaudiovideo' already exists")
2017-07-14 11:11:51+0800 [INFO] (1050, "Table 'devicealarm' already exists")
2017-07-14 11:11:52+0800 [INFO] (1050, "Table 'feedback' already exists")
2017-07-14 11:11:52+0800 [INFO] (1050, "Table 'log_call' already exists")
2017-07-14 11:11:52+0800 [INFO] (1050, "Table 'log_device' already exists")
2017-07-14 11:11:52+0800 [INFO] (1050, "Table 'log_alarm' already exists")
2017-07-14 11:11:52+0800 [INFO] (1050, "Table 'devicetree' already exists")
2017-07-14 11:11:52+0800 [INFO] (1050, "Table 'authority' already exists")
2017-07-14 11:11:52+0800 [INFO] (1050, "Table 'identity' already exists")
2017-07-14 11:11:52+0800 [INFO] (1050, "Table 'authorization' already exists")
2017-07-14 11:11:52+0800 [INFO] (1050, "Table 'user' already exists")
2017-07-14 11:11:52+0800 [INFO] TreeNode has been initialized
2017-07-14 11:11:52+0800 [INFO] FeedBack has been initialized
2017-07-14 11:11:52+0800 [INFO] Administrator has been initialized
2017-07-14 11:11:52+0800 [INFO] Opened iptalk.db successfully
2017-07-14 11:11:52+0800 [INFO] OrderFactory starting on 12200
2017-07-14 11:11:52+0800 [INFO] Starting factory <devices.iptalk.factory.OrderFactory instance at 0x000000000479F8C8>
2017-07-14 11:11:52+0800 [INFO] QueryFactory starting on 34952
2017-07-14 11:11:52+0800 [INFO] Starting factory <devices.iptalk.factory.QueryFactory instance at 0x000000000482A1C8>
2017-07-14 11:11:52+0800 [INFO] AudioFactory starting on 3478
2017-07-14 11:11:52+0800 [INFO] Starting protocol <devices.iptalk.factory.AudioFactory instance at 0x000000000482EE88>
2017-07-14 11:11:52+0800 [INFO] VideoFactory starting on 3456
2017-07-14 11:11:52+0800 [INFO] Starting protocol <devices.iptalk.factory.VideoFactory instance at 0x0000000004832308>
2017-07-14 11:11:52+0800 [INFO] IPTalkWebSite starting on 85
2017-07-14 11:11:52+0800 [INFO] Starting factory <web.site.IPTalkWebSite instance at 0x0000000004832648>
2017-07-14 11:11:52+0800 [INFO] WebSocketFactory starting on 89
2017-07-14 11:11:52+0800 [INFO] Starting factory <devices.iptalk.factory.WebSocketFactory instance at 0x0000000004841108>
2017-07-14 11:11:52+0800 [INFO] TCPPushFactory starting on 90
2017-07-14 11:11:52+0800 [INFO] Starting factory <devices.iptalk.factory.TCPPushFactory instance at 0x00000000048415C8>
2017-07-14 11:11:52+0800 [INFO] SearchFactory starting on 3550
2017-07-14 11:11:52+0800 [INFO] Starting protocol <devices.iptalk.factory.SearchFactory instance at 0x0000000004841A88>
2017-07-14 11:11:52+0800 [INFO] MyFTPFactory starting on 21
2017-07-14 11:11:52+0800 [INFO] Starting factory <devices.iptalk.ftp.MyFTPFactory instance at 0x0000000004841E08>
2017-07-14 11:11:53+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 51115) .
2017-07-14 11:11:53+0800 [INFO] WebSocket keepAlive is on
2017-07-14 11:11:53+0800 [INFO] websocket is connected.
2017-07-14 11:11:55+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 51122) .
2017-07-14 11:11:55+0800 [INFO] WebSocket keepAlive is on
2017-07-14 11:11:55+0800 [INFO] websocket is connected.
2017-07-14 11:11:57+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:03:11:57 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 11:11:57+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:03:11:57 +0000] "POST /upgrade/sysUpgrade HTTP/1.1" 500 389 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 11:12:19+0800 [INFO] Starting SmartTalk IoTService.Version is v0.3.6
2017-07-14 11:12:20+0800 [INFO] (1050, "Table 'device' already exists")
2017-07-14 11:12:20+0800 [INFO] (1050, "Table 'devicepanel' already exists")
2017-07-14 11:12:20+0800 [INFO] (1050, "Table 'deviceio' already exists")
2017-07-14 11:12:20+0800 [INFO] (1050, "Table 'deviceaudiovideo' already exists")
2017-07-14 11:12:20+0800 [INFO] (1050, "Table 'devicealarm' already exists")
2017-07-14 11:12:20+0800 [INFO] (1050, "Table 'feedback' already exists")
2017-07-14 11:12:20+0800 [INFO] (1050, "Table 'log_call' already exists")
2017-07-14 11:12:20+0800 [INFO] (1050, "Table 'log_device' already exists")
2017-07-14 11:12:20+0800 [INFO] (1050, "Table 'log_alarm' already exists")
2017-07-14 11:12:20+0800 [INFO] (1050, "Table 'devicetree' already exists")
2017-07-14 11:12:20+0800 [INFO] (1050, "Table 'authority' already exists")
2017-07-14 11:12:20+0800 [INFO] (1050, "Table 'identity' already exists")
2017-07-14 11:12:20+0800 [INFO] (1050, "Table 'authorization' already exists")
2017-07-14 11:12:20+0800 [INFO] (1050, "Table 'user' already exists")
2017-07-14 11:12:20+0800 [INFO] TreeNode has been initialized
2017-07-14 11:12:20+0800 [INFO] FeedBack has been initialized
2017-07-14 11:12:20+0800 [INFO] Administrator has been initialized
2017-07-14 11:12:20+0800 [INFO] Opened iptalk.db successfully
2017-07-14 11:12:20+0800 [INFO] OrderFactory starting on 12200
2017-07-14 11:12:20+0800 [INFO] Starting factory <devices.iptalk.factory.OrderFactory instance at 0x000000000452F8C8>
2017-07-14 11:12:20+0800 [INFO] QueryFactory starting on 34952
2017-07-14 11:12:20+0800 [INFO] Starting factory <devices.iptalk.factory.QueryFactory instance at 0x00000000045BA1C8>
2017-07-14 11:12:20+0800 [INFO] AudioFactory starting on 3478
2017-07-14 11:12:20+0800 [INFO] Starting protocol <devices.iptalk.factory.AudioFactory instance at 0x00000000045BEE88>
2017-07-14 11:12:20+0800 [INFO] VideoFactory starting on 3456
2017-07-14 11:12:20+0800 [INFO] Starting protocol <devices.iptalk.factory.VideoFactory instance at 0x00000000045C2308>
2017-07-14 11:12:20+0800 [INFO] IPTalkWebSite starting on 85
2017-07-14 11:12:20+0800 [INFO] Starting factory <web.site.IPTalkWebSite instance at 0x00000000045C2648>
2017-07-14 11:12:20+0800 [INFO] WebSocketFactory starting on 89
2017-07-14 11:12:20+0800 [INFO] Starting factory <devices.iptalk.factory.WebSocketFactory instance at 0x00000000045D1108>
2017-07-14 11:12:20+0800 [INFO] TCPPushFactory starting on 90
2017-07-14 11:12:20+0800 [INFO] Starting factory <devices.iptalk.factory.TCPPushFactory instance at 0x00000000045D15C8>
2017-07-14 11:12:20+0800 [INFO] SearchFactory starting on 3550
2017-07-14 11:12:20+0800 [INFO] Starting protocol <devices.iptalk.factory.SearchFactory instance at 0x00000000045D1A88>
2017-07-14 11:12:20+0800 [INFO] MyFTPFactory starting on 21
2017-07-14 11:12:20+0800 [INFO] Starting factory <devices.iptalk.ftp.MyFTPFactory instance at 0x00000000045D1E08>
2017-07-14 11:12:20+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 51184) .
2017-07-14 11:12:20+0800 [INFO] WebSocket keepAlive is on
2017-07-14 11:12:20+0800 [INFO] websocket is connected.
2017-07-14 11:12:21+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:03:12:21 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 11:12:21+0800 [ERROR] Unhandled Error
	Traceback (most recent call last):
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 1442, in dataReceived
	    finishCallback(data[contentLength:])
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 1768, in _finishRequestBody
	    self.allContentReceived()
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 1845, in allContentReceived
	    req.requestReceived(command, path, version)
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 766, in requestReceived
	    self.process()
	--- <exception caught here> ---
	  File "C:\Python27\lib\site-packages\twisted\web\server.py", line 183, in process
	    self.render(resrc)
	  File "C:\Python27\lib\site-packages\twisted\web\server.py", line 234, in render
	    body = resrc.render(self)
	  File "C:\Python27\lib\site-packages\twisted\web\resource.py", line 250, in render
	    return m(request)
	  File "D:/Documents/catcuts/project/iot_combination\devices\iptalk\webmanager.py", line 366, in render_POST
	    self.exeSysUpgrade(request)
	  File "D:/Documents/catcuts/project/iot_combination\devices\iptalk\webmanager.py", line 376, in exeSysUpgrade
	    with open(temppath, 'wb') as f:
	exceptions.IOError: [Errno 2] No such file or directory: 'D:\\data\\updrade\\src.zip'
	
2017-07-14 11:12:21+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:03:12:21 +0000] "POST /upgrade/sysUpgrade HTTP/1.1" 500 5369 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 11:12:22+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 51194) .
2017-07-14 11:12:22+0800 [INFO] WebSocket keepAlive is on
2017-07-14 11:12:22+0800 [INFO] websocket is connected.
2017-07-14 11:13:07+0800 [INFO] Starting SmartTalk IoTService.Version is v0.3.6
2017-07-14 11:13:07+0800 [INFO] (1050, "Table 'device' already exists")
2017-07-14 11:13:07+0800 [INFO] (1050, "Table 'devicepanel' already exists")
2017-07-14 11:13:07+0800 [INFO] (1050, "Table 'deviceio' already exists")
2017-07-14 11:13:07+0800 [INFO] (1050, "Table 'deviceaudiovideo' already exists")
2017-07-14 11:13:07+0800 [INFO] (1050, "Table 'devicealarm' already exists")
2017-07-14 11:13:07+0800 [INFO] (1050, "Table 'feedback' already exists")
2017-07-14 11:13:07+0800 [INFO] (1050, "Table 'log_call' already exists")
2017-07-14 11:13:07+0800 [INFO] (1050, "Table 'log_device' already exists")
2017-07-14 11:13:07+0800 [INFO] (1050, "Table 'log_alarm' already exists")
2017-07-14 11:13:07+0800 [INFO] (1050, "Table 'devicetree' already exists")
2017-07-14 11:13:07+0800 [INFO] (1050, "Table 'authority' already exists")
2017-07-14 11:13:07+0800 [INFO] (1050, "Table 'identity' already exists")
2017-07-14 11:13:07+0800 [INFO] (1050, "Table 'authorization' already exists")
2017-07-14 11:13:07+0800 [INFO] (1050, "Table 'user' already exists")
2017-07-14 11:13:07+0800 [INFO] TreeNode has been initialized
2017-07-14 11:13:07+0800 [INFO] FeedBack has been initialized
2017-07-14 11:13:07+0800 [INFO] Administrator has been initialized
2017-07-14 11:13:07+0800 [INFO] Opened iptalk.db successfully
2017-07-14 11:13:08+0800 [INFO] OrderFactory starting on 12200
2017-07-14 11:13:08+0800 [INFO] Starting factory <devices.iptalk.factory.OrderFactory instance at 0x00000000045A08C8>
2017-07-14 11:13:08+0800 [INFO] QueryFactory starting on 34952
2017-07-14 11:13:08+0800 [INFO] Starting factory <devices.iptalk.factory.QueryFactory instance at 0x000000000460C1C8>
2017-07-14 11:13:08+0800 [INFO] AudioFactory starting on 3478
2017-07-14 11:13:08+0800 [INFO] Starting protocol <devices.iptalk.factory.AudioFactory instance at 0x0000000004610E88>
2017-07-14 11:13:08+0800 [INFO] VideoFactory starting on 3456
2017-07-14 11:13:08+0800 [INFO] Starting protocol <devices.iptalk.factory.VideoFactory instance at 0x0000000004614308>
2017-07-14 11:13:08+0800 [INFO] IPTalkWebSite starting on 85
2017-07-14 11:13:08+0800 [INFO] Starting factory <web.site.IPTalkWebSite instance at 0x0000000004614648>
2017-07-14 11:13:08+0800 [INFO] WebSocketFactory starting on 89
2017-07-14 11:13:08+0800 [INFO] Starting factory <devices.iptalk.factory.WebSocketFactory instance at 0x0000000004623108>
2017-07-14 11:13:08+0800 [INFO] TCPPushFactory starting on 90
2017-07-14 11:13:08+0800 [INFO] Starting factory <devices.iptalk.factory.TCPPushFactory instance at 0x00000000046235C8>
2017-07-14 11:13:08+0800 [INFO] SearchFactory starting on 3550
2017-07-14 11:13:08+0800 [INFO] Starting protocol <devices.iptalk.factory.SearchFactory instance at 0x0000000004623A88>
2017-07-14 11:13:08+0800 [INFO] MyFTPFactory starting on 21
2017-07-14 11:13:08+0800 [INFO] Starting factory <devices.iptalk.ftp.MyFTPFactory instance at 0x0000000004623E08>
2017-07-14 11:13:08+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 51291) .
2017-07-14 11:13:08+0800 [INFO] WebSocket keepAlive is on
2017-07-14 11:13:08+0800 [INFO] websocket is connected.
2017-07-14 11:13:09+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 51297) .
2017-07-14 11:13:09+0800 [INFO] WebSocket keepAlive is on
2017-07-14 11:13:09+0800 [INFO] websocket is connected.
2017-07-14 11:13:14+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:03:13:13 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 11:13:14+0800 [ERROR] Unhandled Error
	Traceback (most recent call last):
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 1442, in dataReceived
	    finishCallback(data[contentLength:])
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 1768, in _finishRequestBody
	    self.allContentReceived()
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 1845, in allContentReceived
	    req.requestReceived(command, path, version)
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 766, in requestReceived
	    self.process()
	--- <exception caught here> ---
	  File "C:\Python27\lib\site-packages\twisted\web\server.py", line 183, in process
	    self.render(resrc)
	  File "C:\Python27\lib\site-packages\twisted\web\server.py", line 234, in render
	    body = resrc.render(self)
	  File "C:\Python27\lib\site-packages\twisted\web\resource.py", line 250, in render
	    return m(request)
	  File "D:/Documents/catcuts/project/iot_combination\devices\iptalk\webmanager.py", line 366, in render_POST
	    self.exeSysUpgrade(request)
	  File "D:/Documents/catcuts/project/iot_combination\devices\iptalk\webmanager.py", line 377, in exeSysUpgrade
	    with open(temppath, 'wb') as f:
	exceptions.IOError: [Errno 2] No such file or directory: 'D:\\data\\updrade\\src.zip'
	
2017-07-14 11:13:14+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:03:13:13 +0000] "POST /upgrade/sysUpgrade HTTP/1.1" 500 5369 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 11:19:24+0800 [INFO] Starting SmartTalk IoTService.Version is v0.3.6
2017-07-14 11:19:25+0800 [INFO] (1050, "Table 'device' already exists")
2017-07-14 11:19:25+0800 [INFO] (1050, "Table 'devicepanel' already exists")
2017-07-14 11:19:25+0800 [INFO] (1050, "Table 'deviceio' already exists")
2017-07-14 11:19:25+0800 [INFO] (1050, "Table 'deviceaudiovideo' already exists")
2017-07-14 11:19:25+0800 [INFO] (1050, "Table 'devicealarm' already exists")
2017-07-14 11:19:25+0800 [INFO] (1050, "Table 'feedback' already exists")
2017-07-14 11:19:25+0800 [INFO] (1050, "Table 'log_call' already exists")
2017-07-14 11:19:25+0800 [INFO] (1050, "Table 'log_device' already exists")
2017-07-14 11:19:25+0800 [INFO] (1050, "Table 'log_alarm' already exists")
2017-07-14 11:19:25+0800 [INFO] (1050, "Table 'devicetree' already exists")
2017-07-14 11:19:25+0800 [INFO] (1050, "Table 'authority' already exists")
2017-07-14 11:19:25+0800 [INFO] (1050, "Table 'identity' already exists")
2017-07-14 11:19:25+0800 [INFO] (1050, "Table 'authorization' already exists")
2017-07-14 11:19:25+0800 [INFO] (1050, "Table 'user' already exists")
2017-07-14 11:19:25+0800 [INFO] TreeNode has been initialized
2017-07-14 11:19:25+0800 [INFO] FeedBack has been initialized
2017-07-14 11:19:25+0800 [INFO] Administrator has been initialized
2017-07-14 11:19:25+0800 [INFO] Opened iptalk.db successfully
2017-07-14 11:19:25+0800 [INFO] OrderFactory starting on 12200
2017-07-14 11:19:25+0800 [INFO] Starting factory <devices.iptalk.factory.OrderFactory instance at 0x000000000459E8C8>
2017-07-14 11:19:25+0800 [INFO] QueryFactory starting on 34952
2017-07-14 11:19:25+0800 [INFO] Starting factory <devices.iptalk.factory.QueryFactory instance at 0x00000000046291C8>
2017-07-14 11:19:25+0800 [INFO] AudioFactory starting on 3478
2017-07-14 11:19:25+0800 [INFO] Starting protocol <devices.iptalk.factory.AudioFactory instance at 0x000000000462DE88>
2017-07-14 11:19:25+0800 [INFO] VideoFactory starting on 3456
2017-07-14 11:19:25+0800 [INFO] Starting protocol <devices.iptalk.factory.VideoFactory instance at 0x0000000004631308>
2017-07-14 11:19:25+0800 [INFO] IPTalkWebSite starting on 85
2017-07-14 11:19:25+0800 [INFO] Starting factory <web.site.IPTalkWebSite instance at 0x0000000004631648>
2017-07-14 11:19:25+0800 [INFO] WebSocketFactory starting on 89
2017-07-14 11:19:25+0800 [INFO] Starting factory <devices.iptalk.factory.WebSocketFactory instance at 0x0000000004640108>
2017-07-14 11:19:25+0800 [INFO] TCPPushFactory starting on 90
2017-07-14 11:19:25+0800 [INFO] Starting factory <devices.iptalk.factory.TCPPushFactory instance at 0x00000000046405C8>
2017-07-14 11:19:25+0800 [INFO] SearchFactory starting on 3550
2017-07-14 11:19:25+0800 [INFO] Starting protocol <devices.iptalk.factory.SearchFactory instance at 0x0000000004640A88>
2017-07-14 11:19:25+0800 [INFO] MyFTPFactory starting on 21
2017-07-14 11:19:25+0800 [INFO] Starting factory <devices.iptalk.ftp.MyFTPFactory instance at 0x0000000004640E08>
2017-07-14 11:19:25+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 52004) .
2017-07-14 11:19:25+0800 [INFO] WebSocket keepAlive is on
2017-07-14 11:19:25+0800 [INFO] websocket is connected.
2017-07-14 11:19:26+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 52013) .
2017-07-14 11:19:26+0800 [INFO] WebSocket keepAlive is on
2017-07-14 11:19:26+0800 [INFO] websocket is connected.
2017-07-14 11:19:30+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:03:19:30 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 11:19:30+0800 [ERROR] Unhandled Error
	Traceback (most recent call last):
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 1442, in dataReceived
	    finishCallback(data[contentLength:])
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 1768, in _finishRequestBody
	    self.allContentReceived()
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 1845, in allContentReceived
	    req.requestReceived(command, path, version)
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 766, in requestReceived
	    self.process()
	--- <exception caught here> ---
	  File "C:\Python27\lib\site-packages\twisted\web\server.py", line 183, in process
	    self.render(resrc)
	  File "C:\Python27\lib\site-packages\twisted\web\server.py", line 234, in render
	    body = resrc.render(self)
	  File "C:\Python27\lib\site-packages\twisted\web\resource.py", line 250, in render
	    return m(request)
	  File "D:/Documents/catcuts/project/iot_combination\devices\iptalk\webmanager.py", line 366, in render_POST
	    self.exeSysUpgrade(request)
	  File "D:/Documents/catcuts/project/iot_combination\devices\iptalk\webmanager.py", line 377, in exeSysUpgrade
	    with open(temppath, 'wb') as f:
	exceptions.IOError: [Errno 2] No such file or directory: 'D:\\Documents\\catcuts\\project\\iot_combination\\data\\updrade\\src.zip'
	
2017-07-14 11:19:30+0800 [ERROR] Unhandled Error
	Traceback (most recent call last):
	  File "C:\Python27\lib\site-packages\twisted\web\server.py", line 319, in processingFailed
	    util.formatFailure(reason) +
	  File "C:\Python27\lib\site-packages\twisted\web\util.py", line 432, in formatFailure
	    flattenString(None, FailureElement(myFailure)).addBoth(result.append)
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 410, in flattenString
	    d = flatten(request, root, io.write)
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 392, in flatten
	    _writeFlattenedData(state, write, result)
	--- <exception caught here> ---
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 353, in _writeFlattenedData
	    element = next(state)
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 321, in _flattenTree
	    raise FlattenerError(e, roots, extract_tb(exc_info()[2]))
	twisted.web.error.FlattenerError: Exception while flattening:
	  <twisted.web.util.FailureElement object at 0x00000000046B5A90>
	  [Tag(u'div', children=[u'\n', u'  ', Tag(u'style', attributes=OrderedDict([(u'type', u'text/css')]), children=[u'\n', u'    div.error {', u'\n', u'      color: red;', u'\n', u'      font-family: Verdana, Arial, helvetica, sans-serif;', u'\n', u'      font-weight: bold;', u'\n', u'    }', u'\n', u'\n', u'    div {', u'\n', u'      font-family: Verdana, Arial, helvetica, sans-serif;', u'\n', u'    }', u'\n', u'\n', u'    div.stackTrace {', u'\n', u'    }', u'\n', u'\n', u'    div.frame {', u'\n', u'      padding: 1em;', u'\n', u'      background: white;', u'\n', u'      border-bottom: thin black dashed;', u'\n', u'    }', u'\n', u'\n', u'    div.frame:first-child {', u'\n', u'      padding: 1em;', u'\n', u'      background: white;', u'\n', u'      border-top: thin black dashed;', u'\n', u'      border-bottom: thin black dashed;', u'\n', u'    }', u'\n', u'\n', u'    div.location {', u'\n', u'    }', u'\n', u'\n', u'    span.function {', u'\n', u'      font-weight: bold;', u'\n', u'      font-family: "Courier New", courier, monospace;', u'\n', u'    }', u'\n', u'\n', u'    div.snippet {', u'\n', u'      margin-bottom: 0.5em;', u'\n', u'      margin-left: 1em;', u'\n', u'      background: #FFFFDD;', u'\n', u'    }', u'\n', u'\n', u'    div.snippetHighlightLine {', u'\n', u'      color: red;', u'\n', u'    }', u'\n', u'\n', u'    span.code {', u'\n', u'      font-family: "Courier New", courier, monospace;', u'\n', u'    }', u'\n', u'  ']), u'\n', u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'error')]), children=[u'\n', u'    ', Tag(u'span'), u': ', Tag(u'span'), u'\n', u'  ']), u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'stackTrace')]), children=[u'\n', u'    ', Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']), u'\n', u'  ']), u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'error')]), children=[u'\n', u'    ', Tag(u'span'), u': ', Tag(u'span'), u'\n', u'  ']), u'\n'])]
	  Tag <div>
	  [u'\n', u'  ', Tag(u'style', attributes=OrderedDict([(u'type', u'text/css')]), children=[u'\n', u'    div.error {', u'\n', u'      color: red;', u'\n', u'      font-family: Verdana, Arial, helvetica, sans-serif;', u'\n', u'      font-weight: bold;', u'\n', u'    }', u'\n', u'\n', u'    div {', u'\n', u'      font-family: Verdana, Arial, helvetica, sans-serif;', u'\n', u'    }', u'\n', u'\n', u'    div.stackTrace {', u'\n', u'    }', u'\n', u'\n', u'    div.frame {', u'\n', u'      padding: 1em;', u'\n', u'      background: white;', u'\n', u'      border-bottom: thin black dashed;', u'\n', u'    }', u'\n', u'\n', u'    div.frame:first-child {', u'\n', u'      padding: 1em;', u'\n', u'      background: white;', u'\n', u'      border-top: thin black dashed;', u'\n', u'      border-bottom: thin black dashed;', u'\n', u'    }', u'\n', u'\n', u'    div.location {', u'\n', u'    }', u'\n', u'\n', u'    span.function {', u'\n', u'      font-weight: bold;', u'\n', u'      font-family: "Courier New", courier, monospace;', u'\n', u'    }', u'\n', u'\n', u'    div.snippet {', u'\n', u'      margin-bottom: 0.5em;', u'\n', u'      margin-left: 1em;', u'\n', u'      background: #FFFFDD;', u'\n', u'    }', u'\n', u'\n', u'    div.snippetHighlightLine {', u'\n', u'      color: red;', u'\n', u'    }', u'\n', u'\n', u'    span.code {', u'\n', u'      font-family: "Courier New", courier, monospace;', u'\n', u'    }', u'\n', u'  ']), u'\n', u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'error')]), children=[u'\n', u'    ', Tag(u'span'), u': ', Tag(u'span'), u'\n', u'  ']), u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'stackTrace')]), children=[u'\n', u'    ', Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']), u'\n', u'  ']), u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'error')]), children=[u'\n', u'    ', Tag(u'span'), u': ', Tag(u'span'), u'\n', u'  ']), u'\n']
	  Tag <div>
	  <twisted.web.util._StackElement object at 0x0000000004706B70>
	  [Tag(u'div', attributes=OrderedDict([(u'class', u'stackTrace')]), children=[u'\n', u'    ', Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']), u'\n', u'  '])]
	  Tag <div>
	  [u'\n', u'    ', Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']), u'\n', u'  ']
	  Tag <div>
	  [<twisted.web.util._FrameElement object at 0x000000000471B080>, <twisted.web.util._FrameElement object at 0x000000000471B2E8>, <twisted.web.util._FrameElement object at 0x000000000471B550>, <twisted.web.util._FrameElement object at 0x000000000471B7B8>, <twisted.web.util._FrameElement object at 0x000000000471BA20>]
	  <twisted.web.util._FrameElement object at 0x000000000471BA20>
	  [Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    '])]
	  Tag <div>
	  [u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']
	  Tag <div>
	  <twisted.web.util._SourceFragmentElement object at 0x000000000471BCC0>
	  [Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      '])]
	  Tag <div>
	  [u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']
	  Tag <div>
	  <generator object sourceLines at 0x000000000476C120>
	  <twisted.web.util._SourceLineElement object at 0x0000000004770080>
	  [Tag(u'div', attributes=OrderedDict([('class', 'snippetLine')]), children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        '])]
	  Tag <div>
	  [u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']
	  Tag <code>
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 312, in _flattenTree
	    element = next(stack[-1])
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 231, in _flattenElement
	    result = renderMethod(request, rootClone)
	  File "C:\Python27\lib\site-packages\twisted\web\util.py", line 171, in sourceLine
	    return tag(self.source.replace('  ', u' \N{NO-BREAK SPACE}'))
	UnicodeDecodeError: 'ascii' codec can't decode byte 0xe4 in position 78: ordinal not in range(128)
	
	
2017-07-14 11:19:31+0800 [ERROR] Unhandled Error
	Traceback (most recent call last):
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 1442, in dataReceived
	    finishCallback(data[contentLength:])
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 1768, in _finishRequestBody
	    self.allContentReceived()
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 1845, in allContentReceived
	    req.requestReceived(command, path, version)
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 766, in requestReceived
	    self.process()
	--- <exception caught here> ---
	  File "C:\Python27\lib\site-packages\twisted\web\server.py", line 183, in process
	    self.render(resrc)
	  File "C:\Python27\lib\site-packages\twisted\web\server.py", line 234, in render
	    body = resrc.render(self)
	  File "C:\Python27\lib\site-packages\twisted\web\resource.py", line 250, in render
	    return m(request)
	  File "D:/Documents/catcuts/project/iot_combination\devices\iptalk\webmanager.py", line 366, in render_POST
	    self.exeSysUpgrade(request)
	  File "D:/Documents/catcuts/project/iot_combination\devices\iptalk\webmanager.py", line 377, in exeSysUpgrade
	    with open(temppath, 'wb') as f:
	exceptions.IOError: [Errno 2] No such file or directory: 'D:\\Documents\\catcuts\\project\\iot_combination\\data\\updrade\\src.zip'
	
2017-07-14 11:19:31+0800 [ERROR] Unhandled Error
	Traceback (most recent call last):
	  File "C:\Python27\lib\site-packages\twisted\web\server.py", line 319, in processingFailed
	    util.formatFailure(reason) +
	  File "C:\Python27\lib\site-packages\twisted\web\util.py", line 432, in formatFailure
	    flattenString(None, FailureElement(myFailure)).addBoth(result.append)
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 410, in flattenString
	    d = flatten(request, root, io.write)
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 392, in flatten
	    _writeFlattenedData(state, write, result)
	--- <exception caught here> ---
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 353, in _writeFlattenedData
	    element = next(state)
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 321, in _flattenTree
	    raise FlattenerError(e, roots, extract_tb(exc_info()[2]))
	twisted.web.error.FlattenerError: Exception while flattening:
	  <twisted.web.util.FailureElement object at 0x0000000004780358>
	  [Tag(u'div', children=[u'\n', u'  ', Tag(u'style', attributes=OrderedDict([(u'type', u'text/css')]), children=[u'\n', u'    div.error {', u'\n', u'      color: red;', u'\n', u'      font-family: Verdana, Arial, helvetica, sans-serif;', u'\n', u'      font-weight: bold;', u'\n', u'    }', u'\n', u'\n', u'    div {', u'\n', u'      font-family: Verdana, Arial, helvetica, sans-serif;', u'\n', u'    }', u'\n', u'\n', u'    div.stackTrace {', u'\n', u'    }', u'\n', u'\n', u'    div.frame {', u'\n', u'      padding: 1em;', u'\n', u'      background: white;', u'\n', u'      border-bottom: thin black dashed;', u'\n', u'    }', u'\n', u'\n', u'    div.frame:first-child {', u'\n', u'      padding: 1em;', u'\n', u'      background: white;', u'\n', u'      border-top: thin black dashed;', u'\n', u'      border-bottom: thin black dashed;', u'\n', u'    }', u'\n', u'\n', u'    div.location {', u'\n', u'    }', u'\n', u'\n', u'    span.function {', u'\n', u'      font-weight: bold;', u'\n', u'      font-family: "Courier New", courier, monospace;', u'\n', u'    }', u'\n', u'\n', u'    div.snippet {', u'\n', u'      margin-bottom: 0.5em;', u'\n', u'      margin-left: 1em;', u'\n', u'      background: #FFFFDD;', u'\n', u'    }', u'\n', u'\n', u'    div.snippetHighlightLine {', u'\n', u'      color: red;', u'\n', u'    }', u'\n', u'\n', u'    span.code {', u'\n', u'      font-family: "Courier New", courier, monospace;', u'\n', u'    }', u'\n', u'  ']), u'\n', u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'error')]), children=[u'\n', u'    ', Tag(u'span'), u': ', Tag(u'span'), u'\n', u'  ']), u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'stackTrace')]), children=[u'\n', u'    ', Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']), u'\n', u'  ']), u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'error')]), children=[u'\n', u'    ', Tag(u'span'), u': ', Tag(u'span'), u'\n', u'  ']), u'\n'])]
	  Tag <div>
	  [u'\n', u'  ', Tag(u'style', attributes=OrderedDict([(u'type', u'text/css')]), children=[u'\n', u'    div.error {', u'\n', u'      color: red;', u'\n', u'      font-family: Verdana, Arial, helvetica, sans-serif;', u'\n', u'      font-weight: bold;', u'\n', u'    }', u'\n', u'\n', u'    div {', u'\n', u'      font-family: Verdana, Arial, helvetica, sans-serif;', u'\n', u'    }', u'\n', u'\n', u'    div.stackTrace {', u'\n', u'    }', u'\n', u'\n', u'    div.frame {', u'\n', u'      padding: 1em;', u'\n', u'      background: white;', u'\n', u'      border-bottom: thin black dashed;', u'\n', u'    }', u'\n', u'\n', u'    div.frame:first-child {', u'\n', u'      padding: 1em;', u'\n', u'      background: white;', u'\n', u'      border-top: thin black dashed;', u'\n', u'      border-bottom: thin black dashed;', u'\n', u'    }', u'\n', u'\n', u'    div.location {', u'\n', u'    }', u'\n', u'\n', u'    span.function {', u'\n', u'      font-weight: bold;', u'\n', u'      font-family: "Courier New", courier, monospace;', u'\n', u'    }', u'\n', u'\n', u'    div.snippet {', u'\n', u'      margin-bottom: 0.5em;', u'\n', u'      margin-left: 1em;', u'\n', u'      background: #FFFFDD;', u'\n', u'    }', u'\n', u'\n', u'    div.snippetHighlightLine {', u'\n', u'      color: red;', u'\n', u'    }', u'\n', u'\n', u'    span.code {', u'\n', u'      font-family: "Courier New", courier, monospace;', u'\n', u'    }', u'\n', u'  ']), u'\n', u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'error')]), children=[u'\n', u'    ', Tag(u'span'), u': ', Tag(u'span'), u'\n', u'  ']), u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'stackTrace')]), children=[u'\n', u'    ', Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']), u'\n', u'  ']), u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'error')]), children=[u'\n', u'    ', Tag(u'span'), u': ', Tag(u'span'), u'\n', u'  ']), u'\n']
	  Tag <div>
	  <twisted.web.util._StackElement object at 0x00000000047803C8>
	  [Tag(u'div', attributes=OrderedDict([(u'class', u'stackTrace')]), children=[u'\n', u'    ', Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']), u'\n', u'  '])]
	  Tag <div>
	  [u'\n', u'    ', Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']), u'\n', u'  ']
	  Tag <div>
	  [<twisted.web.util._FrameElement object at 0x0000000004780898>, <twisted.web.util._FrameElement object at 0x0000000004780B00>, <twisted.web.util._FrameElement object at 0x0000000004780D68>, <twisted.web.util._FrameElement object at 0x0000000004780FD0>, <twisted.web.util._FrameElement object at 0x0000000004798278>]
	  <twisted.web.util._FrameElement object at 0x0000000004798278>
	  [Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    '])]
	  Tag <div>
	  [u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']
	  Tag <div>
	  <twisted.web.util._SourceFragmentElement object at 0x0000000004798390>
	  [Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      '])]
	  Tag <div>
	  [u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']
	  Tag <div>
	  <generator object sourceLines at 0x000000000476C630>
	  <twisted.web.util._SourceLineElement object at 0x0000000004798588>
	  [Tag(u'div', attributes=OrderedDict([('class', 'snippetLine')]), children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        '])]
	  Tag <div>
	  [u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']
	  Tag <code>
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 312, in _flattenTree
	    element = next(stack[-1])
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 231, in _flattenElement
	    result = renderMethod(request, rootClone)
	  File "C:\Python27\lib\site-packages\twisted\web\util.py", line 171, in sourceLine
	    return tag(self.source.replace('  ', u' \N{NO-BREAK SPACE}'))
	UnicodeDecodeError: 'ascii' codec can't decode byte 0xe4 in position 78: ordinal not in range(128)
	
	
2017-07-14 11:20:06+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:03:20:05 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 11:21:34+0800 [ERROR] Unhandled Error
	Traceback (most recent call last):
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 1442, in dataReceived
	    finishCallback(data[contentLength:])
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 1768, in _finishRequestBody
	    self.allContentReceived()
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 1845, in allContentReceived
	    req.requestReceived(command, path, version)
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 766, in requestReceived
	    self.process()
	--- <exception caught here> ---
	  File "C:\Python27\lib\site-packages\twisted\web\server.py", line 183, in process
	    self.render(resrc)
	  File "C:\Python27\lib\site-packages\twisted\web\server.py", line 234, in render
	    body = resrc.render(self)
	  File "C:\Python27\lib\site-packages\twisted\web\resource.py", line 250, in render
	    return m(request)
	  File "D:/Documents/catcuts/project/iot_combination\devices\iptalk\webmanager.py", line 366, in render_POST
	    self.exeSysUpgrade(request)
	  File "D:/Documents/catcuts/project/iot_combination\devices\iptalk\webmanager.py", line 377, in exeSysUpgrade
	    with open(temppath, 'wb') as f:
	exceptions.IOError: [Errno 2] No such file or directory: 'D:\\Documents\\catcuts\\project\\iot_combination\\data\\updrade\\src.zip'
	
2017-07-14 11:21:34+0800 [ERROR] Unhandled Error
	Traceback (most recent call last):
	  File "C:\Python27\lib\site-packages\twisted\web\server.py", line 319, in processingFailed
	    util.formatFailure(reason) +
	  File "C:\Python27\lib\site-packages\twisted\web\util.py", line 432, in formatFailure
	    flattenString(None, FailureElement(myFailure)).addBoth(result.append)
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 410, in flattenString
	    d = flatten(request, root, io.write)
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 392, in flatten
	    _writeFlattenedData(state, write, result)
	--- <exception caught here> ---
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 353, in _writeFlattenedData
	    element = next(state)
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 321, in _flattenTree
	    raise FlattenerError(e, roots, extract_tb(exc_info()[2]))
	twisted.web.error.FlattenerError: Exception while flattening:
	  <twisted.web.util.FailureElement object at 0x00000000047D35C0>
	  [Tag(u'div', children=[u'\n', u'  ', Tag(u'style', attributes=OrderedDict([(u'type', u'text/css')]), children=[u'\n', u'    div.error {', u'\n', u'      color: red;', u'\n', u'      font-family: Verdana, Arial, helvetica, sans-serif;', u'\n', u'      font-weight: bold;', u'\n', u'    }', u'\n', u'\n', u'    div {', u'\n', u'      font-family: Verdana, Arial, helvetica, sans-serif;', u'\n', u'    }', u'\n', u'\n', u'    div.stackTrace {', u'\n', u'    }', u'\n', u'\n', u'    div.frame {', u'\n', u'      padding: 1em;', u'\n', u'      background: white;', u'\n', u'      border-bottom: thin black dashed;', u'\n', u'    }', u'\n', u'\n', u'    div.frame:first-child {', u'\n', u'      padding: 1em;', u'\n', u'      background: white;', u'\n', u'      border-top: thin black dashed;', u'\n', u'      border-bottom: thin black dashed;', u'\n', u'    }', u'\n', u'\n', u'    div.location {', u'\n', u'    }', u'\n', u'\n', u'    span.function {', u'\n', u'      font-weight: bold;', u'\n', u'      font-family: "Courier New", courier, monospace;', u'\n', u'    }', u'\n', u'\n', u'    div.snippet {', u'\n', u'      margin-bottom: 0.5em;', u'\n', u'      margin-left: 1em;', u'\n', u'      background: #FFFFDD;', u'\n', u'    }', u'\n', u'\n', u'    div.snippetHighlightLine {', u'\n', u'      color: red;', u'\n', u'    }', u'\n', u'\n', u'    span.code {', u'\n', u'      font-family: "Courier New", courier, monospace;', u'\n', u'    }', u'\n', u'  ']), u'\n', u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'error')]), children=[u'\n', u'    ', Tag(u'span'), u': ', Tag(u'span'), u'\n', u'  ']), u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'stackTrace')]), children=[u'\n', u'    ', Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']), u'\n', u'  ']), u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'error')]), children=[u'\n', u'    ', Tag(u'span'), u': ', Tag(u'span'), u'\n', u'  ']), u'\n'])]
	  Tag <div>
	  [u'\n', u'  ', Tag(u'style', attributes=OrderedDict([(u'type', u'text/css')]), children=[u'\n', u'    div.error {', u'\n', u'      color: red;', u'\n', u'      font-family: Verdana, Arial, helvetica, sans-serif;', u'\n', u'      font-weight: bold;', u'\n', u'    }', u'\n', u'\n', u'    div {', u'\n', u'      font-family: Verdana, Arial, helvetica, sans-serif;', u'\n', u'    }', u'\n', u'\n', u'    div.stackTrace {', u'\n', u'    }', u'\n', u'\n', u'    div.frame {', u'\n', u'      padding: 1em;', u'\n', u'      background: white;', u'\n', u'      border-bottom: thin black dashed;', u'\n', u'    }', u'\n', u'\n', u'    div.frame:first-child {', u'\n', u'      padding: 1em;', u'\n', u'      background: white;', u'\n', u'      border-top: thin black dashed;', u'\n', u'      border-bottom: thin black dashed;', u'\n', u'    }', u'\n', u'\n', u'    div.location {', u'\n', u'    }', u'\n', u'\n', u'    span.function {', u'\n', u'      font-weight: bold;', u'\n', u'      font-family: "Courier New", courier, monospace;', u'\n', u'    }', u'\n', u'\n', u'    div.snippet {', u'\n', u'      margin-bottom: 0.5em;', u'\n', u'      margin-left: 1em;', u'\n', u'      background: #FFFFDD;', u'\n', u'    }', u'\n', u'\n', u'    div.snippetHighlightLine {', u'\n', u'      color: red;', u'\n', u'    }', u'\n', u'\n', u'    span.code {', u'\n', u'      font-family: "Courier New", courier, monospace;', u'\n', u'    }', u'\n', u'  ']), u'\n', u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'error')]), children=[u'\n', u'    ', Tag(u'span'), u': ', Tag(u'span'), u'\n', u'  ']), u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'stackTrace')]), children=[u'\n', u'    ', Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']), u'\n', u'  ']), u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'error')]), children=[u'\n', u'    ', Tag(u'span'), u': ', Tag(u'span'), u'\n', u'  ']), u'\n']
	  Tag <div>
	  <twisted.web.util._StackElement object at 0x00000000047D3780>
	  [Tag(u'div', attributes=OrderedDict([(u'class', u'stackTrace')]), children=[u'\n', u'    ', Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']), u'\n', u'  '])]
	  Tag <div>
	  [u'\n', u'    ', Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']), u'\n', u'  ']
	  Tag <div>
	  [<twisted.web.util._FrameElement object at 0x00000000047D3AC8>, <twisted.web.util._FrameElement object at 0x00000000047D3D30>, <twisted.web.util._FrameElement object at 0x00000000047D3F98>, <twisted.web.util._FrameElement object at 0x00000000047E2240>, <twisted.web.util._FrameElement object at 0x00000000047E24A8>]
	  <twisted.web.util._FrameElement object at 0x00000000047E24A8>
	  [Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    '])]
	  Tag <div>
	  [u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']
	  Tag <div>
	  <twisted.web.util._SourceFragmentElement object at 0x00000000047E25C0>
	  [Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      '])]
	  Tag <div>
	  [u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']
	  Tag <div>
	  <generator object sourceLines at 0x00000000047D1B88>
	  <twisted.web.util._SourceLineElement object at 0x00000000047E27B8>
	  [Tag(u'div', attributes=OrderedDict([('class', 'snippetLine')]), children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        '])]
	  Tag <div>
	  [u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']
	  Tag <code>
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 312, in _flattenTree
	    element = next(stack[-1])
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 231, in _flattenElement
	    result = renderMethod(request, rootClone)
	  File "C:\Python27\lib\site-packages\twisted\web\util.py", line 171, in sourceLine
	    return tag(self.source.replace('  ', u' \N{NO-BREAK SPACE}'))
	UnicodeDecodeError: 'ascii' codec can't decode byte 0xe4 in position 78: ordinal not in range(128)
	
	
2017-07-14 11:21:43+0800 [ERROR] Unhandled Error
	Traceback (most recent call last):
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 1442, in dataReceived
	    finishCallback(data[contentLength:])
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 1768, in _finishRequestBody
	    self.allContentReceived()
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 1845, in allContentReceived
	    req.requestReceived(command, path, version)
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 766, in requestReceived
	    self.process()
	--- <exception caught here> ---
	  File "C:\Python27\lib\site-packages\twisted\web\server.py", line 183, in process
	    self.render(resrc)
	  File "C:\Python27\lib\site-packages\twisted\web\server.py", line 234, in render
	    body = resrc.render(self)
	  File "C:\Python27\lib\site-packages\twisted\web\resource.py", line 250, in render
	    return m(request)
	  File "D:/Documents/catcuts/project/iot_combination\devices\iptalk\webmanager.py", line 366, in render_POST
	    self.exeSysUpgrade(request)
	  File "D:/Documents/catcuts/project/iot_combination\devices\iptalk\webmanager.py", line 377, in exeSysUpgrade
	    with open(temppath, 'wb') as f:
	exceptions.IOError: [Errno 2] No such file or directory: 'D:\\Documents\\catcuts\\project\\iot_combination\\data\\updrade\\src.zip'
	
2017-07-14 11:21:44+0800 [ERROR] Unhandled Error
	Traceback (most recent call last):
	  File "C:\Python27\lib\site-packages\twisted\web\server.py", line 319, in processingFailed
	    util.formatFailure(reason) +
	  File "C:\Python27\lib\site-packages\twisted\web\util.py", line 432, in formatFailure
	    flattenString(None, FailureElement(myFailure)).addBoth(result.append)
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 410, in flattenString
	    d = flatten(request, root, io.write)
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 392, in flatten
	    _writeFlattenedData(state, write, result)
	--- <exception caught here> ---
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 353, in _writeFlattenedData
	    element = next(state)
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 321, in _flattenTree
	    raise FlattenerError(e, roots, extract_tb(exc_info()[2]))
	twisted.web.error.FlattenerError: Exception while flattening:
	  <twisted.web.util.FailureElement object at 0x00000000047E2940>
	  [Tag(u'div', children=[u'\n', u'  ', Tag(u'style', attributes=OrderedDict([(u'type', u'text/css')]), children=[u'\n', u'    div.error {', u'\n', u'      color: red;', u'\n', u'      font-family: Verdana, Arial, helvetica, sans-serif;', u'\n', u'      font-weight: bold;', u'\n', u'    }', u'\n', u'\n', u'    div {', u'\n', u'      font-family: Verdana, Arial, helvetica, sans-serif;', u'\n', u'    }', u'\n', u'\n', u'    div.stackTrace {', u'\n', u'    }', u'\n', u'\n', u'    div.frame {', u'\n', u'      padding: 1em;', u'\n', u'      background: white;', u'\n', u'      border-bottom: thin black dashed;', u'\n', u'    }', u'\n', u'\n', u'    div.frame:first-child {', u'\n', u'      padding: 1em;', u'\n', u'      background: white;', u'\n', u'      border-top: thin black dashed;', u'\n', u'      border-bottom: thin black dashed;', u'\n', u'    }', u'\n', u'\n', u'    div.location {', u'\n', u'    }', u'\n', u'\n', u'    span.function {', u'\n', u'      font-weight: bold;', u'\n', u'      font-family: "Courier New", courier, monospace;', u'\n', u'    }', u'\n', u'\n', u'    div.snippet {', u'\n', u'      margin-bottom: 0.5em;', u'\n', u'      margin-left: 1em;', u'\n', u'      background: #FFFFDD;', u'\n', u'    }', u'\n', u'\n', u'    div.snippetHighlightLine {', u'\n', u'      color: red;', u'\n', u'    }', u'\n', u'\n', u'    span.code {', u'\n', u'      font-family: "Courier New", courier, monospace;', u'\n', u'    }', u'\n', u'  ']), u'\n', u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'error')]), children=[u'\n', u'    ', Tag(u'span'), u': ', Tag(u'span'), u'\n', u'  ']), u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'stackTrace')]), children=[u'\n', u'    ', Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']), u'\n', u'  ']), u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'error')]), children=[u'\n', u'    ', Tag(u'span'), u': ', Tag(u'span'), u'\n', u'  ']), u'\n'])]
	  Tag <div>
	  [u'\n', u'  ', Tag(u'style', attributes=OrderedDict([(u'type', u'text/css')]), children=[u'\n', u'    div.error {', u'\n', u'      color: red;', u'\n', u'      font-family: Verdana, Arial, helvetica, sans-serif;', u'\n', u'      font-weight: bold;', u'\n', u'    }', u'\n', u'\n', u'    div {', u'\n', u'      font-family: Verdana, Arial, helvetica, sans-serif;', u'\n', u'    }', u'\n', u'\n', u'    div.stackTrace {', u'\n', u'    }', u'\n', u'\n', u'    div.frame {', u'\n', u'      padding: 1em;', u'\n', u'      background: white;', u'\n', u'      border-bottom: thin black dashed;', u'\n', u'    }', u'\n', u'\n', u'    div.frame:first-child {', u'\n', u'      padding: 1em;', u'\n', u'      background: white;', u'\n', u'      border-top: thin black dashed;', u'\n', u'      border-bottom: thin black dashed;', u'\n', u'    }', u'\n', u'\n', u'    div.location {', u'\n', u'    }', u'\n', u'\n', u'    span.function {', u'\n', u'      font-weight: bold;', u'\n', u'      font-family: "Courier New", courier, monospace;', u'\n', u'    }', u'\n', u'\n', u'    div.snippet {', u'\n', u'      margin-bottom: 0.5em;', u'\n', u'      margin-left: 1em;', u'\n', u'      background: #FFFFDD;', u'\n', u'    }', u'\n', u'\n', u'    div.snippetHighlightLine {', u'\n', u'      color: red;', u'\n', u'    }', u'\n', u'\n', u'    span.code {', u'\n', u'      font-family: "Courier New", courier, monospace;', u'\n', u'    }', u'\n', u'  ']), u'\n', u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'error')]), children=[u'\n', u'    ', Tag(u'span'), u': ', Tag(u'span'), u'\n', u'  ']), u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'stackTrace')]), children=[u'\n', u'    ', Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']), u'\n', u'  ']), u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'error')]), children=[u'\n', u'    ', Tag(u'span'), u': ', Tag(u'span'), u'\n', u'  ']), u'\n']
	  Tag <div>
	  <twisted.web.util._StackElement object at 0x00000000047E29E8>
	  [Tag(u'div', attributes=OrderedDict([(u'class', u'stackTrace')]), children=[u'\n', u'    ', Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']), u'\n', u'  '])]
	  Tag <div>
	  [u'\n', u'    ', Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']), u'\n', u'  ']
	  Tag <div>
	  [<twisted.web.util._FrameElement object at 0x00000000047E2E80>, <twisted.web.util._FrameElement object at 0x00000000047F8128>, <twisted.web.util._FrameElement object at 0x00000000047F8390>, <twisted.web.util._FrameElement object at 0x00000000047F85F8>, <twisted.web.util._FrameElement object at 0x00000000047F8860>]
	  <twisted.web.util._FrameElement object at 0x00000000047F8860>
	  [Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    '])]
	  Tag <div>
	  [u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']
	  Tag <div>
	  <twisted.web.util._SourceFragmentElement object at 0x00000000047F8978>
	  [Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      '])]
	  Tag <div>
	  [u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']
	  Tag <div>
	  <generator object sourceLines at 0x00000000047EB750>
	  <twisted.web.util._SourceLineElement object at 0x00000000047F8B70>
	  [Tag(u'div', attributes=OrderedDict([('class', 'snippetLine')]), children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        '])]
	  Tag <div>
	  [u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']
	  Tag <code>
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 312, in _flattenTree
	    element = next(stack[-1])
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 231, in _flattenElement
	    result = renderMethod(request, rootClone)
	  File "C:\Python27\lib\site-packages\twisted\web\util.py", line 171, in sourceLine
	    return tag(self.source.replace('  ', u' \N{NO-BREAK SPACE}'))
	UnicodeDecodeError: 'ascii' codec can't decode byte 0xe4 in position 78: ordinal not in range(128)
	
	
2017-07-14 11:21:59+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:03:21:59 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 11:22:01+0800 [ERROR] Unhandled Error
	Traceback (most recent call last):
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 1442, in dataReceived
	    finishCallback(data[contentLength:])
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 1768, in _finishRequestBody
	    self.allContentReceived()
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 1845, in allContentReceived
	    req.requestReceived(command, path, version)
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 766, in requestReceived
	    self.process()
	--- <exception caught here> ---
	  File "C:\Python27\lib\site-packages\twisted\web\server.py", line 183, in process
	    self.render(resrc)
	  File "C:\Python27\lib\site-packages\twisted\web\server.py", line 234, in render
	    body = resrc.render(self)
	  File "C:\Python27\lib\site-packages\twisted\web\resource.py", line 250, in render
	    return m(request)
	  File "D:/Documents/catcuts/project/iot_combination\devices\iptalk\webmanager.py", line 366, in render_POST
	    self.exeSysUpgrade(request)
	  File "D:/Documents/catcuts/project/iot_combination\devices\iptalk\webmanager.py", line 377, in exeSysUpgrade
	    with open(temppath, 'wb') as f:
	exceptions.IOError: [Errno 2] No such file or directory: 'D:\\Documents\\catcuts\\project\\iot_combination\\data\\updrade\\src.zip'
	
2017-07-14 11:22:01+0800 [ERROR] Unhandled Error
	Traceback (most recent call last):
	  File "C:\Python27\lib\site-packages\twisted\web\server.py", line 319, in processingFailed
	    util.formatFailure(reason) +
	  File "C:\Python27\lib\site-packages\twisted\web\util.py", line 432, in formatFailure
	    flattenString(None, FailureElement(myFailure)).addBoth(result.append)
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 410, in flattenString
	    d = flatten(request, root, io.write)
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 392, in flatten
	    _writeFlattenedData(state, write, result)
	--- <exception caught here> ---
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 353, in _writeFlattenedData
	    element = next(state)
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 321, in _flattenTree
	    raise FlattenerError(e, roots, extract_tb(exc_info()[2]))
	twisted.web.error.FlattenerError: Exception while flattening:
	  <twisted.web.util.FailureElement object at 0x00000000047F8D30>
	  [Tag(u'div', children=[u'\n', u'  ', Tag(u'style', attributes=OrderedDict([(u'type', u'text/css')]), children=[u'\n', u'    div.error {', u'\n', u'      color: red;', u'\n', u'      font-family: Verdana, Arial, helvetica, sans-serif;', u'\n', u'      font-weight: bold;', u'\n', u'    }', u'\n', u'\n', u'    div {', u'\n', u'      font-family: Verdana, Arial, helvetica, sans-serif;', u'\n', u'    }', u'\n', u'\n', u'    div.stackTrace {', u'\n', u'    }', u'\n', u'\n', u'    div.frame {', u'\n', u'      padding: 1em;', u'\n', u'      background: white;', u'\n', u'      border-bottom: thin black dashed;', u'\n', u'    }', u'\n', u'\n', u'    div.frame:first-child {', u'\n', u'      padding: 1em;', u'\n', u'      background: white;', u'\n', u'      border-top: thin black dashed;', u'\n', u'      border-bottom: thin black dashed;', u'\n', u'    }', u'\n', u'\n', u'    div.location {', u'\n', u'    }', u'\n', u'\n', u'    span.function {', u'\n', u'      font-weight: bold;', u'\n', u'      font-family: "Courier New", courier, monospace;', u'\n', u'    }', u'\n', u'\n', u'    div.snippet {', u'\n', u'      margin-bottom: 0.5em;', u'\n', u'      margin-left: 1em;', u'\n', u'      background: #FFFFDD;', u'\n', u'    }', u'\n', u'\n', u'    div.snippetHighlightLine {', u'\n', u'      color: red;', u'\n', u'    }', u'\n', u'\n', u'    span.code {', u'\n', u'      font-family: "Courier New", courier, monospace;', u'\n', u'    }', u'\n', u'  ']), u'\n', u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'error')]), children=[u'\n', u'    ', Tag(u'span'), u': ', Tag(u'span'), u'\n', u'  ']), u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'stackTrace')]), children=[u'\n', u'    ', Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']), u'\n', u'  ']), u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'error')]), children=[u'\n', u'    ', Tag(u'span'), u': ', Tag(u'span'), u'\n', u'  ']), u'\n'])]
	  Tag <div>
	  [u'\n', u'  ', Tag(u'style', attributes=OrderedDict([(u'type', u'text/css')]), children=[u'\n', u'    div.error {', u'\n', u'      color: red;', u'\n', u'      font-family: Verdana, Arial, helvetica, sans-serif;', u'\n', u'      font-weight: bold;', u'\n', u'    }', u'\n', u'\n', u'    div {', u'\n', u'      font-family: Verdana, Arial, helvetica, sans-serif;', u'\n', u'    }', u'\n', u'\n', u'    div.stackTrace {', u'\n', u'    }', u'\n', u'\n', u'    div.frame {', u'\n', u'      padding: 1em;', u'\n', u'      background: white;', u'\n', u'      border-bottom: thin black dashed;', u'\n', u'    }', u'\n', u'\n', u'    div.frame:first-child {', u'\n', u'      padding: 1em;', u'\n', u'      background: white;', u'\n', u'      border-top: thin black dashed;', u'\n', u'      border-bottom: thin black dashed;', u'\n', u'    }', u'\n', u'\n', u'    div.location {', u'\n', u'    }', u'\n', u'\n', u'    span.function {', u'\n', u'      font-weight: bold;', u'\n', u'      font-family: "Courier New", courier, monospace;', u'\n', u'    }', u'\n', u'\n', u'    div.snippet {', u'\n', u'      margin-bottom: 0.5em;', u'\n', u'      margin-left: 1em;', u'\n', u'      background: #FFFFDD;', u'\n', u'    }', u'\n', u'\n', u'    div.snippetHighlightLine {', u'\n', u'      color: red;', u'\n', u'    }', u'\n', u'\n', u'    span.code {', u'\n', u'      font-family: "Courier New", courier, monospace;', u'\n', u'    }', u'\n', u'  ']), u'\n', u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'error')]), children=[u'\n', u'    ', Tag(u'span'), u': ', Tag(u'span'), u'\n', u'  ']), u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'stackTrace')]), children=[u'\n', u'    ', Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']), u'\n', u'  ']), u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'error')]), children=[u'\n', u'    ', Tag(u'span'), u': ', Tag(u'span'), u'\n', u'  ']), u'\n']
	  Tag <div>
	  <twisted.web.util._StackElement object at 0x00000000047F8D68>
	  [Tag(u'div', attributes=OrderedDict([(u'class', u'stackTrace')]), children=[u'\n', u'    ', Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']), u'\n', u'  '])]
	  Tag <div>
	  [u'\n', u'    ', Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']), u'\n', u'  ']
	  Tag <div>
	  [<twisted.web.util._FrameElement object at 0x000000000488D2B0>, <twisted.web.util._FrameElement object at 0x000000000488D518>, <twisted.web.util._FrameElement object at 0x000000000488D780>, <twisted.web.util._FrameElement object at 0x000000000488D9E8>, <twisted.web.util._FrameElement object at 0x000000000488DC50>]
	  <twisted.web.util._FrameElement object at 0x000000000488DC50>
	  [Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    '])]
	  Tag <div>
	  [u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']
	  Tag <div>
	  <twisted.web.util._SourceFragmentElement object at 0x000000000488DD68>
	  [Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      '])]
	  Tag <div>
	  [u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']
	  Tag <div>
	  <generator object sourceLines at 0x00000000047EB120>
	  <twisted.web.util._SourceLineElement object at 0x000000000488DF60>
	  [Tag(u'div', attributes=OrderedDict([('class', 'snippetLine')]), children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        '])]
	  Tag <div>
	  [u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']
	  Tag <code>
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 312, in _flattenTree
	    element = next(stack[-1])
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 231, in _flattenElement
	    result = renderMethod(request, rootClone)
	  File "C:\Python27\lib\site-packages\twisted\web\util.py", line 171, in sourceLine
	    return tag(self.source.replace('  ', u' \N{NO-BREAK SPACE}'))
	UnicodeDecodeError: 'ascii' codec can't decode byte 0xe4 in position 78: ordinal not in range(128)
	
	
2017-07-14 11:22:02+0800 [ERROR] Unhandled Error
	Traceback (most recent call last):
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 1442, in dataReceived
	    finishCallback(data[contentLength:])
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 1768, in _finishRequestBody
	    self.allContentReceived()
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 1845, in allContentReceived
	    req.requestReceived(command, path, version)
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 766, in requestReceived
	    self.process()
	--- <exception caught here> ---
	  File "C:\Python27\lib\site-packages\twisted\web\server.py", line 183, in process
	    self.render(resrc)
	  File "C:\Python27\lib\site-packages\twisted\web\server.py", line 234, in render
	    body = resrc.render(self)
	  File "C:\Python27\lib\site-packages\twisted\web\resource.py", line 250, in render
	    return m(request)
	  File "D:/Documents/catcuts/project/iot_combination\devices\iptalk\webmanager.py", line 366, in render_POST
	    self.exeSysUpgrade(request)
	  File "D:/Documents/catcuts/project/iot_combination\devices\iptalk\webmanager.py", line 377, in exeSysUpgrade
	    with open(temppath, 'wb') as f:
	exceptions.IOError: [Errno 2] No such file or directory: 'D:\\Documents\\catcuts\\project\\iot_combination\\data\\updrade\\src.zip'
	
2017-07-14 11:22:02+0800 [ERROR] Unhandled Error
	Traceback (most recent call last):
	  File "C:\Python27\lib\site-packages\twisted\web\server.py", line 319, in processingFailed
	    util.formatFailure(reason) +
	  File "C:\Python27\lib\site-packages\twisted\web\util.py", line 432, in formatFailure
	    flattenString(None, FailureElement(myFailure)).addBoth(result.append)
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 410, in flattenString
	    d = flatten(request, root, io.write)
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 392, in flatten
	    _writeFlattenedData(state, write, result)
	--- <exception caught here> ---
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 353, in _writeFlattenedData
	    element = next(state)
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 321, in _flattenTree
	    raise FlattenerError(e, roots, extract_tb(exc_info()[2]))
	twisted.web.error.FlattenerError: Exception while flattening:
	  <twisted.web.util.FailureElement object at 0x000000000489F128>
	  [Tag(u'div', children=[u'\n', u'  ', Tag(u'style', attributes=OrderedDict([(u'type', u'text/css')]), children=[u'\n', u'    div.error {', u'\n', u'      color: red;', u'\n', u'      font-family: Verdana, Arial, helvetica, sans-serif;', u'\n', u'      font-weight: bold;', u'\n', u'    }', u'\n', u'\n', u'    div {', u'\n', u'      font-family: Verdana, Arial, helvetica, sans-serif;', u'\n', u'    }', u'\n', u'\n', u'    div.stackTrace {', u'\n', u'    }', u'\n', u'\n', u'    div.frame {', u'\n', u'      padding: 1em;', u'\n', u'      background: white;', u'\n', u'      border-bottom: thin black dashed;', u'\n', u'    }', u'\n', u'\n', u'    div.frame:first-child {', u'\n', u'      padding: 1em;', u'\n', u'      background: white;', u'\n', u'      border-top: thin black dashed;', u'\n', u'      border-bottom: thin black dashed;', u'\n', u'    }', u'\n', u'\n', u'    div.location {', u'\n', u'    }', u'\n', u'\n', u'    span.function {', u'\n', u'      font-weight: bold;', u'\n', u'      font-family: "Courier New", courier, monospace;', u'\n', u'    }', u'\n', u'\n', u'    div.snippet {', u'\n', u'      margin-bottom: 0.5em;', u'\n', u'      margin-left: 1em;', u'\n', u'      background: #FFFFDD;', u'\n', u'    }', u'\n', u'\n', u'    div.snippetHighlightLine {', u'\n', u'      color: red;', u'\n', u'    }', u'\n', u'\n', u'    span.code {', u'\n', u'      font-family: "Courier New", courier, monospace;', u'\n', u'    }', u'\n', u'  ']), u'\n', u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'error')]), children=[u'\n', u'    ', Tag(u'span'), u': ', Tag(u'span'), u'\n', u'  ']), u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'stackTrace')]), children=[u'\n', u'    ', Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']), u'\n', u'  ']), u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'error')]), children=[u'\n', u'    ', Tag(u'span'), u': ', Tag(u'span'), u'\n', u'  ']), u'\n'])]
	  Tag <div>
	  [u'\n', u'  ', Tag(u'style', attributes=OrderedDict([(u'type', u'text/css')]), children=[u'\n', u'    div.error {', u'\n', u'      color: red;', u'\n', u'      font-family: Verdana, Arial, helvetica, sans-serif;', u'\n', u'      font-weight: bold;', u'\n', u'    }', u'\n', u'\n', u'    div {', u'\n', u'      font-family: Verdana, Arial, helvetica, sans-serif;', u'\n', u'    }', u'\n', u'\n', u'    div.stackTrace {', u'\n', u'    }', u'\n', u'\n', u'    div.frame {', u'\n', u'      padding: 1em;', u'\n', u'      background: white;', u'\n', u'      border-bottom: thin black dashed;', u'\n', u'    }', u'\n', u'\n', u'    div.frame:first-child {', u'\n', u'      padding: 1em;', u'\n', u'      background: white;', u'\n', u'      border-top: thin black dashed;', u'\n', u'      border-bottom: thin black dashed;', u'\n', u'    }', u'\n', u'\n', u'    div.location {', u'\n', u'    }', u'\n', u'\n', u'    span.function {', u'\n', u'      font-weight: bold;', u'\n', u'      font-family: "Courier New", courier, monospace;', u'\n', u'    }', u'\n', u'\n', u'    div.snippet {', u'\n', u'      margin-bottom: 0.5em;', u'\n', u'      margin-left: 1em;', u'\n', u'      background: #FFFFDD;', u'\n', u'    }', u'\n', u'\n', u'    div.snippetHighlightLine {', u'\n', u'      color: red;', u'\n', u'    }', u'\n', u'\n', u'    span.code {', u'\n', u'      font-family: "Courier New", courier, monospace;', u'\n', u'    }', u'\n', u'  ']), u'\n', u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'error')]), children=[u'\n', u'    ', Tag(u'span'), u': ', Tag(u'span'), u'\n', u'  ']), u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'stackTrace')]), children=[u'\n', u'    ', Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']), u'\n', u'  ']), u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'error')]), children=[u'\n', u'    ', Tag(u'span'), u': ', Tag(u'span'), u'\n', u'  ']), u'\n']
	  Tag <div>
	  <twisted.web.util._StackElement object at 0x000000000489F198>
	  [Tag(u'div', attributes=OrderedDict([(u'class', u'stackTrace')]), children=[u'\n', u'    ', Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']), u'\n', u'  '])]
	  Tag <div>
	  [u'\n', u'    ', Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']), u'\n', u'  ']
	  Tag <div>
	  [<twisted.web.util._FrameElement object at 0x000000000489F668>, <twisted.web.util._FrameElement object at 0x000000000489F8D0>, <twisted.web.util._FrameElement object at 0x000000000489FB38>, <twisted.web.util._FrameElement object at 0x000000000489FC50>, <twisted.web.util._FrameElement object at 0x000000000489FEB8>]
	  <twisted.web.util._FrameElement object at 0x000000000489FEB8>
	  [Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    '])]
	  Tag <div>
	  [u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']
	  Tag <div>
	  <twisted.web.util._SourceFragmentElement object at 0x000000000489FFD0>
	  [Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      '])]
	  Tag <div>
	  [u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']
	  Tag <div>
	  <generator object sourceLines at 0x00000000042C6EA0>
	  <twisted.web.util._SourceLineElement object at 0x00000000048B7208>
	  [Tag(u'div', attributes=OrderedDict([('class', 'snippetLine')]), children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        '])]
	  Tag <div>
	  [u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']
	  Tag <code>
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 312, in _flattenTree
	    element = next(stack[-1])
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 231, in _flattenElement
	    result = renderMethod(request, rootClone)
	  File "C:\Python27\lib\site-packages\twisted\web\util.py", line 171, in sourceLine
	    return tag(self.source.replace('  ', u' \N{NO-BREAK SPACE}'))
	UnicodeDecodeError: 'ascii' codec can't decode byte 0xe4 in position 78: ordinal not in range(128)
	
	
2017-07-14 11:24:35+0800 [INFO] Starting SmartTalk IoTService.Version is v0.3.6
2017-07-14 11:24:35+0800 [INFO] (1050, "Table 'device' already exists")
2017-07-14 11:24:35+0800 [INFO] (1050, "Table 'devicepanel' already exists")
2017-07-14 11:24:35+0800 [INFO] (1050, "Table 'deviceio' already exists")
2017-07-14 11:24:35+0800 [INFO] (1050, "Table 'deviceaudiovideo' already exists")
2017-07-14 11:24:35+0800 [INFO] (1050, "Table 'devicealarm' already exists")
2017-07-14 11:24:35+0800 [INFO] (1050, "Table 'feedback' already exists")
2017-07-14 11:24:35+0800 [INFO] (1050, "Table 'log_call' already exists")
2017-07-14 11:24:35+0800 [INFO] (1050, "Table 'log_device' already exists")
2017-07-14 11:24:35+0800 [INFO] (1050, "Table 'log_alarm' already exists")
2017-07-14 11:24:35+0800 [INFO] (1050, "Table 'devicetree' already exists")
2017-07-14 11:24:35+0800 [INFO] (1050, "Table 'authority' already exists")
2017-07-14 11:24:35+0800 [INFO] (1050, "Table 'identity' already exists")
2017-07-14 11:24:35+0800 [INFO] (1050, "Table 'authorization' already exists")
2017-07-14 11:24:35+0800 [INFO] (1050, "Table 'user' already exists")
2017-07-14 11:24:35+0800 [INFO] TreeNode has been initialized
2017-07-14 11:24:35+0800 [INFO] FeedBack has been initialized
2017-07-14 11:24:35+0800 [INFO] Administrator has been initialized
2017-07-14 11:24:35+0800 [INFO] Opened iptalk.db successfully
2017-07-14 11:24:36+0800 [INFO] OrderFactory starting on 12200
2017-07-14 11:24:36+0800 [INFO] Starting factory <devices.iptalk.factory.OrderFactory instance at 0x00000000046838C8>
2017-07-14 11:24:36+0800 [INFO] QueryFactory starting on 34952
2017-07-14 11:24:36+0800 [INFO] Starting factory <devices.iptalk.factory.QueryFactory instance at 0x000000000470F1C8>
2017-07-14 11:24:36+0800 [INFO] AudioFactory starting on 3478
2017-07-14 11:24:36+0800 [INFO] Starting protocol <devices.iptalk.factory.AudioFactory instance at 0x0000000004712E88>
2017-07-14 11:24:36+0800 [INFO] VideoFactory starting on 3456
2017-07-14 11:24:36+0800 [INFO] Starting protocol <devices.iptalk.factory.VideoFactory instance at 0x0000000004717308>
2017-07-14 11:24:36+0800 [INFO] IPTalkWebSite starting on 85
2017-07-14 11:24:36+0800 [INFO] Starting factory <web.site.IPTalkWebSite instance at 0x0000000004717648>
2017-07-14 11:24:36+0800 [INFO] WebSocketFactory starting on 89
2017-07-14 11:24:36+0800 [INFO] Starting factory <devices.iptalk.factory.WebSocketFactory instance at 0x0000000004725108>
2017-07-14 11:24:36+0800 [INFO] TCPPushFactory starting on 90
2017-07-14 11:24:36+0800 [INFO] Starting factory <devices.iptalk.factory.TCPPushFactory instance at 0x00000000047255C8>
2017-07-14 11:24:36+0800 [INFO] SearchFactory starting on 3550
2017-07-14 11:24:36+0800 [INFO] Starting protocol <devices.iptalk.factory.SearchFactory instance at 0x0000000004725A88>
2017-07-14 11:24:36+0800 [INFO] MyFTPFactory starting on 21
2017-07-14 11:24:36+0800 [INFO] Starting factory <devices.iptalk.ftp.MyFTPFactory instance at 0x0000000004725E08>
2017-07-14 11:24:36+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 52627) .
2017-07-14 11:24:36+0800 [INFO] WebSocket keepAlive is on
2017-07-14 11:24:36+0800 [INFO] websocket is connected.
2017-07-14 11:24:37+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 52631) .
2017-07-14 11:24:37+0800 [INFO] WebSocket keepAlive is on
2017-07-14 11:24:37+0800 [INFO] websocket is connected.
2017-07-14 11:24:39+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:03:24:38 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 11:24:42+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:03:24:38 +0000] "POST /upgrade/sysUpgrade HTTP/1.1" 500 389 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 11:25:07+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:03:25:07 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 11:25:28+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:03:25:07 +0000] "POST /upgrade/sysUpgrade HTTP/1.1" 500 389 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 11:25:36+0800 [INFO] Starting SmartTalk IoTService.Version is v0.3.6
2017-07-14 11:25:36+0800 [INFO] (1050, "Table 'device' already exists")
2017-07-14 11:25:36+0800 [INFO] (1050, "Table 'devicepanel' already exists")
2017-07-14 11:25:36+0800 [INFO] (1050, "Table 'deviceio' already exists")
2017-07-14 11:25:36+0800 [INFO] (1050, "Table 'deviceaudiovideo' already exists")
2017-07-14 11:25:36+0800 [INFO] (1050, "Table 'devicealarm' already exists")
2017-07-14 11:25:36+0800 [INFO] (1050, "Table 'feedback' already exists")
2017-07-14 11:25:36+0800 [INFO] (1050, "Table 'log_call' already exists")
2017-07-14 11:25:36+0800 [INFO] (1050, "Table 'log_device' already exists")
2017-07-14 11:25:36+0800 [INFO] (1050, "Table 'log_alarm' already exists")
2017-07-14 11:25:36+0800 [INFO] (1050, "Table 'devicetree' already exists")
2017-07-14 11:25:36+0800 [INFO] (1050, "Table 'authority' already exists")
2017-07-14 11:25:36+0800 [INFO] (1050, "Table 'identity' already exists")
2017-07-14 11:25:36+0800 [INFO] (1050, "Table 'authorization' already exists")
2017-07-14 11:25:36+0800 [INFO] (1050, "Table 'user' already exists")
2017-07-14 11:25:36+0800 [INFO] TreeNode has been initialized
2017-07-14 11:25:36+0800 [INFO] FeedBack has been initialized
2017-07-14 11:25:36+0800 [INFO] Administrator has been initialized
2017-07-14 11:25:36+0800 [INFO] Opened iptalk.db successfully
2017-07-14 11:25:36+0800 [INFO] OrderFactory starting on 12200
2017-07-14 11:25:36+0800 [INFO] Starting factory <devices.iptalk.factory.OrderFactory instance at 0x00000000046218C8>
2017-07-14 11:25:36+0800 [INFO] QueryFactory starting on 34952
2017-07-14 11:25:36+0800 [INFO] Starting factory <devices.iptalk.factory.QueryFactory instance at 0x00000000046B11C8>
2017-07-14 11:25:36+0800 [INFO] AudioFactory starting on 3478
2017-07-14 11:25:36+0800 [INFO] Starting protocol <devices.iptalk.factory.AudioFactory instance at 0x00000000046B4E88>
2017-07-14 11:25:36+0800 [INFO] VideoFactory starting on 3456
2017-07-14 11:25:36+0800 [INFO] Starting protocol <devices.iptalk.factory.VideoFactory instance at 0x00000000046B9308>
2017-07-14 11:25:36+0800 [INFO] IPTalkWebSite starting on 85
2017-07-14 11:25:36+0800 [INFO] Starting factory <web.site.IPTalkWebSite instance at 0x00000000046B9648>
2017-07-14 11:25:36+0800 [INFO] WebSocketFactory starting on 89
2017-07-14 11:25:36+0800 [INFO] Starting factory <devices.iptalk.factory.WebSocketFactory instance at 0x00000000046C7108>
2017-07-14 11:25:36+0800 [INFO] TCPPushFactory starting on 90
2017-07-14 11:25:36+0800 [INFO] Starting factory <devices.iptalk.factory.TCPPushFactory instance at 0x00000000046C75C8>
2017-07-14 11:25:36+0800 [INFO] SearchFactory starting on 3550
2017-07-14 11:25:36+0800 [INFO] Starting protocol <devices.iptalk.factory.SearchFactory instance at 0x00000000046C7A88>
2017-07-14 11:25:36+0800 [INFO] MyFTPFactory starting on 21
2017-07-14 11:25:36+0800 [INFO] Starting factory <devices.iptalk.ftp.MyFTPFactory instance at 0x00000000046C7E08>
2017-07-14 11:25:37+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 52755) .
2017-07-14 11:25:37+0800 [INFO] WebSocket keepAlive is on
2017-07-14 11:25:37+0800 [INFO] websocket is connected.
2017-07-14 11:25:38+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 52761) .
2017-07-14 11:25:38+0800 [INFO] WebSocket keepAlive is on
2017-07-14 11:25:38+0800 [INFO] websocket is connected.
2017-07-14 11:25:40+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:03:25:39 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 11:25:45+0800 [ERROR] Unhandled Error
	Traceback (most recent call last):
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 1442, in dataReceived
	    finishCallback(data[contentLength:])
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 1768, in _finishRequestBody
	    self.allContentReceived()
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 1845, in allContentReceived
	    req.requestReceived(command, path, version)
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 766, in requestReceived
	    self.process()
	--- <exception caught here> ---
	  File "C:\Python27\lib\site-packages\twisted\web\server.py", line 183, in process
	    self.render(resrc)
	  File "C:\Python27\lib\site-packages\twisted\web\server.py", line 234, in render
	    body = resrc.render(self)
	  File "C:\Python27\lib\site-packages\twisted\web\resource.py", line 250, in render
	    return m(request)
	  File "D:/Documents/catcuts/project/iot_combination\devices\iptalk\webmanager.py", line 366, in render_POST
	    self.exeSysUpgrade(request)
	  File "D:/Documents/catcuts/project/iot_combination\devices\iptalk\webmanager.py", line 376, in exeSysUpgrade
	    with open('D:\\Documents\\catcuts\\project\\iot_combination\\data\\updrade\\src.zip', 'wb') as f:
	exceptions.IOError: [Errno 2] No such file or directory: 'D:\\Documents\\catcuts\\project\\iot_combination\\data\\updrade\\src.zip'
	
2017-07-14 11:25:45+0800 [ERROR] Unhandled Error
	Traceback (most recent call last):
	  File "C:\Python27\lib\site-packages\twisted\web\server.py", line 319, in processingFailed
	    util.formatFailure(reason) +
	  File "C:\Python27\lib\site-packages\twisted\web\util.py", line 432, in formatFailure
	    flattenString(None, FailureElement(myFailure)).addBoth(result.append)
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 410, in flattenString
	    d = flatten(request, root, io.write)
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 392, in flatten
	    _writeFlattenedData(state, write, result)
	--- <exception caught here> ---
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 353, in _writeFlattenedData
	    element = next(state)
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 321, in _flattenTree
	    raise FlattenerError(e, roots, extract_tb(exc_info()[2]))
	twisted.web.error.FlattenerError: Exception while flattening:
	  <twisted.web.util.FailureElement object at 0x000000000473BC50>
	  [Tag(u'div', children=[u'\n', u'  ', Tag(u'style', attributes=OrderedDict([(u'type', u'text/css')]), children=[u'\n', u'    div.error {', u'\n', u'      color: red;', u'\n', u'      font-family: Verdana, Arial, helvetica, sans-serif;', u'\n', u'      font-weight: bold;', u'\n', u'    }', u'\n', u'\n', u'    div {', u'\n', u'      font-family: Verdana, Arial, helvetica, sans-serif;', u'\n', u'    }', u'\n', u'\n', u'    div.stackTrace {', u'\n', u'    }', u'\n', u'\n', u'    div.frame {', u'\n', u'      padding: 1em;', u'\n', u'      background: white;', u'\n', u'      border-bottom: thin black dashed;', u'\n', u'    }', u'\n', u'\n', u'    div.frame:first-child {', u'\n', u'      padding: 1em;', u'\n', u'      background: white;', u'\n', u'      border-top: thin black dashed;', u'\n', u'      border-bottom: thin black dashed;', u'\n', u'    }', u'\n', u'\n', u'    div.location {', u'\n', u'    }', u'\n', u'\n', u'    span.function {', u'\n', u'      font-weight: bold;', u'\n', u'      font-family: "Courier New", courier, monospace;', u'\n', u'    }', u'\n', u'\n', u'    div.snippet {', u'\n', u'      margin-bottom: 0.5em;', u'\n', u'      margin-left: 1em;', u'\n', u'      background: #FFFFDD;', u'\n', u'    }', u'\n', u'\n', u'    div.snippetHighlightLine {', u'\n', u'      color: red;', u'\n', u'    }', u'\n', u'\n', u'    span.code {', u'\n', u'      font-family: "Courier New", courier, monospace;', u'\n', u'    }', u'\n', u'  ']), u'\n', u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'error')]), children=[u'\n', u'    ', Tag(u'span'), u': ', Tag(u'span'), u'\n', u'  ']), u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'stackTrace')]), children=[u'\n', u'    ', Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']), u'\n', u'  ']), u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'error')]), children=[u'\n', u'    ', Tag(u'span'), u': ', Tag(u'span'), u'\n', u'  ']), u'\n'])]
	  Tag <div>
	  [u'\n', u'  ', Tag(u'style', attributes=OrderedDict([(u'type', u'text/css')]), children=[u'\n', u'    div.error {', u'\n', u'      color: red;', u'\n', u'      font-family: Verdana, Arial, helvetica, sans-serif;', u'\n', u'      font-weight: bold;', u'\n', u'    }', u'\n', u'\n', u'    div {', u'\n', u'      font-family: Verdana, Arial, helvetica, sans-serif;', u'\n', u'    }', u'\n', u'\n', u'    div.stackTrace {', u'\n', u'    }', u'\n', u'\n', u'    div.frame {', u'\n', u'      padding: 1em;', u'\n', u'      background: white;', u'\n', u'      border-bottom: thin black dashed;', u'\n', u'    }', u'\n', u'\n', u'    div.frame:first-child {', u'\n', u'      padding: 1em;', u'\n', u'      background: white;', u'\n', u'      border-top: thin black dashed;', u'\n', u'      border-bottom: thin black dashed;', u'\n', u'    }', u'\n', u'\n', u'    div.location {', u'\n', u'    }', u'\n', u'\n', u'    span.function {', u'\n', u'      font-weight: bold;', u'\n', u'      font-family: "Courier New", courier, monospace;', u'\n', u'    }', u'\n', u'\n', u'    div.snippet {', u'\n', u'      margin-bottom: 0.5em;', u'\n', u'      margin-left: 1em;', u'\n', u'      background: #FFFFDD;', u'\n', u'    }', u'\n', u'\n', u'    div.snippetHighlightLine {', u'\n', u'      color: red;', u'\n', u'    }', u'\n', u'\n', u'    span.code {', u'\n', u'      font-family: "Courier New", courier, monospace;', u'\n', u'    }', u'\n', u'  ']), u'\n', u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'error')]), children=[u'\n', u'    ', Tag(u'span'), u': ', Tag(u'span'), u'\n', u'  ']), u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'stackTrace')]), children=[u'\n', u'    ', Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']), u'\n', u'  ']), u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'error')]), children=[u'\n', u'    ', Tag(u'span'), u': ', Tag(u'span'), u'\n', u'  ']), u'\n']
	  Tag <div>
	  <twisted.web.util._StackElement object at 0x00000000047A2BE0>
	  [Tag(u'div', attributes=OrderedDict([(u'class', u'stackTrace')]), children=[u'\n', u'    ', Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']), u'\n', u'  '])]
	  Tag <div>
	  [u'\n', u'    ', Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']), u'\n', u'  ']
	  Tag <div>
	  [<twisted.web.util._FrameElement object at 0x00000000047B70F0>, <twisted.web.util._FrameElement object at 0x00000000047B7358>, <twisted.web.util._FrameElement object at 0x00000000047B75C0>, <twisted.web.util._FrameElement object at 0x00000000047B7828>, <twisted.web.util._FrameElement object at 0x00000000047B7A90>]
	  <twisted.web.util._FrameElement object at 0x00000000047B7A90>
	  [Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    '])]
	  Tag <div>
	  [u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']
	  Tag <div>
	  <twisted.web.util._SourceFragmentElement object at 0x00000000047B7D30>
	  [Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      '])]
	  Tag <div>
	  [u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']
	  Tag <div>
	  <generator object sourceLines at 0x00000000047B50D8>
	  <twisted.web.util._SourceLineElement object at 0x00000000048090F0>
	  [Tag(u'div', attributes=OrderedDict([('class', 'snippetLine')]), children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        '])]
	  Tag <div>
	  [u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']
	  Tag <code>
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 312, in _flattenTree
	    element = next(stack[-1])
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 231, in _flattenElement
	    result = renderMethod(request, rootClone)
	  File "C:\Python27\lib\site-packages\twisted\web\util.py", line 171, in sourceLine
	    return tag(self.source.replace('  ', u' \N{NO-BREAK SPACE}'))
	UnicodeDecodeError: 'ascii' codec can't decode byte 0xe4 in position 78: ordinal not in range(128)
	
	
2017-07-14 11:27:08+0800 [INFO] Starting SmartTalk IoTService.Version is v0.3.6
2017-07-14 11:27:09+0800 [INFO] (1050, "Table 'device' already exists")
2017-07-14 11:27:09+0800 [INFO] (1050, "Table 'devicepanel' already exists")
2017-07-14 11:27:09+0800 [INFO] (1050, "Table 'deviceio' already exists")
2017-07-14 11:27:09+0800 [INFO] (1050, "Table 'deviceaudiovideo' already exists")
2017-07-14 11:27:09+0800 [INFO] (1050, "Table 'devicealarm' already exists")
2017-07-14 11:27:09+0800 [INFO] (1050, "Table 'feedback' already exists")
2017-07-14 11:27:09+0800 [INFO] (1050, "Table 'log_call' already exists")
2017-07-14 11:27:09+0800 [INFO] (1050, "Table 'log_device' already exists")
2017-07-14 11:27:09+0800 [INFO] (1050, "Table 'log_alarm' already exists")
2017-07-14 11:27:09+0800 [INFO] (1050, "Table 'devicetree' already exists")
2017-07-14 11:27:09+0800 [INFO] (1050, "Table 'authority' already exists")
2017-07-14 11:27:09+0800 [INFO] (1050, "Table 'identity' already exists")
2017-07-14 11:27:09+0800 [INFO] (1050, "Table 'authorization' already exists")
2017-07-14 11:27:09+0800 [INFO] (1050, "Table 'user' already exists")
2017-07-14 11:27:09+0800 [INFO] TreeNode has been initialized
2017-07-14 11:27:09+0800 [INFO] FeedBack has been initialized
2017-07-14 11:27:09+0800 [INFO] Administrator has been initialized
2017-07-14 11:27:09+0800 [INFO] Opened iptalk.db successfully
2017-07-14 11:27:09+0800 [INFO] OrderFactory starting on 12200
2017-07-14 11:27:09+0800 [INFO] Starting factory <devices.iptalk.factory.OrderFactory instance at 0x00000000048908C8>
2017-07-14 11:27:09+0800 [INFO] QueryFactory starting on 34952
2017-07-14 11:27:09+0800 [INFO] Starting factory <devices.iptalk.factory.QueryFactory instance at 0x00000000049241C8>
2017-07-14 11:27:09+0800 [INFO] AudioFactory starting on 3478
2017-07-14 11:27:09+0800 [INFO] Starting protocol <devices.iptalk.factory.AudioFactory instance at 0x0000000004927E88>
2017-07-14 11:27:09+0800 [INFO] VideoFactory starting on 3456
2017-07-14 11:27:09+0800 [INFO] Starting protocol <devices.iptalk.factory.VideoFactory instance at 0x000000000492C308>
2017-07-14 11:27:09+0800 [INFO] IPTalkWebSite starting on 85
2017-07-14 11:27:09+0800 [INFO] Starting factory <web.site.IPTalkWebSite instance at 0x000000000492C648>
2017-07-14 11:27:09+0800 [INFO] WebSocketFactory starting on 89
2017-07-14 11:27:09+0800 [INFO] Starting factory <devices.iptalk.factory.WebSocketFactory instance at 0x0000000004939108>
2017-07-14 11:27:09+0800 [INFO] TCPPushFactory starting on 90
2017-07-14 11:27:09+0800 [INFO] Starting factory <devices.iptalk.factory.TCPPushFactory instance at 0x00000000049395C8>
2017-07-14 11:27:09+0800 [INFO] SearchFactory starting on 3550
2017-07-14 11:27:09+0800 [INFO] Starting protocol <devices.iptalk.factory.SearchFactory instance at 0x0000000004939A88>
2017-07-14 11:27:09+0800 [INFO] MyFTPFactory starting on 21
2017-07-14 11:27:09+0800 [INFO] Starting factory <devices.iptalk.ftp.MyFTPFactory instance at 0x0000000004939E08>
2017-07-14 11:27:09+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 52955) .
2017-07-14 11:27:09+0800 [INFO] WebSocket keepAlive is on
2017-07-14 11:27:09+0800 [INFO] websocket is connected.
2017-07-14 11:27:11+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 52963) .
2017-07-14 11:27:11+0800 [INFO] WebSocket keepAlive is on
2017-07-14 11:27:11+0800 [INFO] websocket is connected.
2017-07-14 11:27:12+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:03:27:12 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 11:27:20+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:03:27:12 +0000] "POST /upgrade/sysUpgrade HTTP/1.1" 500 389 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 11:30:02+0800 [INFO] Starting SmartTalk IoTService.Version is v0.3.6
2017-07-14 11:30:02+0800 [INFO] (1050, "Table 'device' already exists")
2017-07-14 11:30:02+0800 [INFO] (1050, "Table 'devicepanel' already exists")
2017-07-14 11:30:02+0800 [INFO] (1050, "Table 'deviceio' already exists")
2017-07-14 11:30:02+0800 [INFO] (1050, "Table 'deviceaudiovideo' already exists")
2017-07-14 11:30:02+0800 [INFO] (1050, "Table 'devicealarm' already exists")
2017-07-14 11:30:02+0800 [INFO] (1050, "Table 'feedback' already exists")
2017-07-14 11:30:02+0800 [INFO] (1050, "Table 'log_call' already exists")
2017-07-14 11:30:02+0800 [INFO] (1050, "Table 'log_device' already exists")
2017-07-14 11:30:02+0800 [INFO] (1050, "Table 'log_alarm' already exists")
2017-07-14 11:30:02+0800 [INFO] (1050, "Table 'devicetree' already exists")
2017-07-14 11:30:02+0800 [INFO] (1050, "Table 'authority' already exists")
2017-07-14 11:30:02+0800 [INFO] (1050, "Table 'identity' already exists")
2017-07-14 11:30:02+0800 [INFO] (1050, "Table 'authorization' already exists")
2017-07-14 11:30:02+0800 [INFO] (1050, "Table 'user' already exists")
2017-07-14 11:30:02+0800 [INFO] TreeNode has been initialized
2017-07-14 11:30:02+0800 [INFO] FeedBack has been initialized
2017-07-14 11:30:02+0800 [INFO] Administrator has been initialized
2017-07-14 11:30:02+0800 [INFO] Opened iptalk.db successfully
2017-07-14 11:30:02+0800 [INFO] OrderFactory starting on 12200
2017-07-14 11:30:02+0800 [INFO] Starting factory <devices.iptalk.factory.OrderFactory instance at 0x00000000046A68C8>
2017-07-14 11:30:02+0800 [INFO] QueryFactory starting on 34952
2017-07-14 11:30:02+0800 [INFO] Starting factory <devices.iptalk.factory.QueryFactory instance at 0x00000000047321C8>
2017-07-14 11:30:02+0800 [INFO] AudioFactory starting on 3478
2017-07-14 11:30:02+0800 [INFO] Starting protocol <devices.iptalk.factory.AudioFactory instance at 0x0000000004735E88>
2017-07-14 11:30:02+0800 [INFO] VideoFactory starting on 3456
2017-07-14 11:30:02+0800 [INFO] Starting protocol <devices.iptalk.factory.VideoFactory instance at 0x000000000473A308>
2017-07-14 11:30:02+0800 [INFO] IPTalkWebSite starting on 85
2017-07-14 11:30:02+0800 [INFO] Starting factory <web.site.IPTalkWebSite instance at 0x000000000473A648>
2017-07-14 11:30:02+0800 [INFO] WebSocketFactory starting on 89
2017-07-14 11:30:02+0800 [INFO] Starting factory <devices.iptalk.factory.WebSocketFactory instance at 0x0000000004747108>
2017-07-14 11:30:02+0800 [INFO] TCPPushFactory starting on 90
2017-07-14 11:30:02+0800 [INFO] Starting factory <devices.iptalk.factory.TCPPushFactory instance at 0x00000000047475C8>
2017-07-14 11:30:02+0800 [INFO] SearchFactory starting on 3550
2017-07-14 11:30:02+0800 [INFO] Starting protocol <devices.iptalk.factory.SearchFactory instance at 0x0000000004747A88>
2017-07-14 11:30:02+0800 [INFO] MyFTPFactory starting on 21
2017-07-14 11:30:02+0800 [INFO] Starting factory <devices.iptalk.ftp.MyFTPFactory instance at 0x0000000004747E08>
2017-07-14 11:30:03+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 53298) .
2017-07-14 11:30:03+0800 [INFO] WebSocket keepAlive is on
2017-07-14 11:30:03+0800 [INFO] websocket is connected.
2017-07-14 11:30:04+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 53306) .
2017-07-14 11:30:04+0800 [INFO] WebSocket keepAlive is on
2017-07-14 11:30:04+0800 [INFO] websocket is connected.
2017-07-14 11:32:13+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:03:32:12 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 11:32:16+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:03:32:12 +0000] "POST /upgrade/sysUpgrade HTTP/1.1" 500 389 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 11:32:48+0800 [INFO] Starting SmartTalk IoTService.Version is v0.3.6
2017-07-14 11:32:49+0800 [INFO] (1050, "Table 'device' already exists")
2017-07-14 11:32:49+0800 [INFO] (1050, "Table 'devicepanel' already exists")
2017-07-14 11:32:49+0800 [INFO] (1050, "Table 'deviceio' already exists")
2017-07-14 11:32:49+0800 [INFO] (1050, "Table 'deviceaudiovideo' already exists")
2017-07-14 11:32:49+0800 [INFO] (1050, "Table 'devicealarm' already exists")
2017-07-14 11:32:49+0800 [INFO] (1050, "Table 'feedback' already exists")
2017-07-14 11:32:49+0800 [INFO] (1050, "Table 'log_call' already exists")
2017-07-14 11:32:49+0800 [INFO] (1050, "Table 'log_device' already exists")
2017-07-14 11:32:49+0800 [INFO] (1050, "Table 'log_alarm' already exists")
2017-07-14 11:32:49+0800 [INFO] (1050, "Table 'devicetree' already exists")
2017-07-14 11:32:49+0800 [INFO] (1050, "Table 'authority' already exists")
2017-07-14 11:32:49+0800 [INFO] (1050, "Table 'identity' already exists")
2017-07-14 11:32:49+0800 [INFO] (1050, "Table 'authorization' already exists")
2017-07-14 11:32:49+0800 [INFO] (1050, "Table 'user' already exists")
2017-07-14 11:32:49+0800 [INFO] TreeNode has been initialized
2017-07-14 11:32:49+0800 [INFO] FeedBack has been initialized
2017-07-14 11:32:49+0800 [INFO] Administrator has been initialized
2017-07-14 11:32:49+0800 [INFO] Opened iptalk.db successfully
2017-07-14 11:32:49+0800 [INFO] OrderFactory starting on 12200
2017-07-14 11:32:49+0800 [INFO] Starting factory <devices.iptalk.factory.OrderFactory instance at 0x00000000045818C8>
2017-07-14 11:32:49+0800 [INFO] QueryFactory starting on 34952
2017-07-14 11:32:49+0800 [INFO] Starting factory <devices.iptalk.factory.QueryFactory instance at 0x00000000046111C8>
2017-07-14 11:32:49+0800 [INFO] AudioFactory starting on 3478
2017-07-14 11:32:49+0800 [INFO] Starting protocol <devices.iptalk.factory.AudioFactory instance at 0x0000000004614E88>
2017-07-14 11:32:49+0800 [INFO] VideoFactory starting on 3456
2017-07-14 11:32:49+0800 [INFO] Starting protocol <devices.iptalk.factory.VideoFactory instance at 0x0000000004619308>
2017-07-14 11:32:49+0800 [INFO] IPTalkWebSite starting on 85
2017-07-14 11:32:49+0800 [INFO] Starting factory <web.site.IPTalkWebSite instance at 0x0000000004619648>
2017-07-14 11:32:49+0800 [INFO] WebSocketFactory starting on 89
2017-07-14 11:32:49+0800 [INFO] Starting factory <devices.iptalk.factory.WebSocketFactory instance at 0x0000000004627108>
2017-07-14 11:32:49+0800 [INFO] TCPPushFactory starting on 90
2017-07-14 11:32:49+0800 [INFO] Starting factory <devices.iptalk.factory.TCPPushFactory instance at 0x00000000046275C8>
2017-07-14 11:32:49+0800 [INFO] SearchFactory starting on 3550
2017-07-14 11:32:49+0800 [INFO] Starting protocol <devices.iptalk.factory.SearchFactory instance at 0x0000000004627A88>
2017-07-14 11:32:49+0800 [INFO] MyFTPFactory starting on 21
2017-07-14 11:32:49+0800 [INFO] Starting factory <devices.iptalk.ftp.MyFTPFactory instance at 0x0000000004627E08>
2017-07-14 11:32:50+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 53616) .
2017-07-14 11:32:50+0800 [INFO] WebSocket keepAlive is on
2017-07-14 11:32:50+0800 [INFO] websocket is connected.
2017-07-14 11:32:50+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 53624) .
2017-07-14 11:32:50+0800 [INFO] WebSocket keepAlive is on
2017-07-14 11:32:50+0800 [INFO] websocket is connected.
2017-07-14 11:32:51+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:03:32:50 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 11:32:53+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:03:32:50 +0000] "POST /upgrade/sysUpgrade HTTP/1.1" 500 389 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 11:33:21+0800 [INFO] Starting SmartTalk IoTService.Version is v0.3.6
2017-07-14 11:33:21+0800 [INFO] (1050, "Table 'device' already exists")
2017-07-14 11:33:21+0800 [INFO] (1050, "Table 'devicepanel' already exists")
2017-07-14 11:33:21+0800 [INFO] (1050, "Table 'deviceio' already exists")
2017-07-14 11:33:21+0800 [INFO] (1050, "Table 'deviceaudiovideo' already exists")
2017-07-14 11:33:21+0800 [INFO] (1050, "Table 'devicealarm' already exists")
2017-07-14 11:33:21+0800 [INFO] (1050, "Table 'feedback' already exists")
2017-07-14 11:33:21+0800 [INFO] (1050, "Table 'log_call' already exists")
2017-07-14 11:33:21+0800 [INFO] (1050, "Table 'log_device' already exists")
2017-07-14 11:33:21+0800 [INFO] (1050, "Table 'log_alarm' already exists")
2017-07-14 11:33:21+0800 [INFO] (1050, "Table 'devicetree' already exists")
2017-07-14 11:33:21+0800 [INFO] (1050, "Table 'authority' already exists")
2017-07-14 11:33:21+0800 [INFO] (1050, "Table 'identity' already exists")
2017-07-14 11:33:21+0800 [INFO] (1050, "Table 'authorization' already exists")
2017-07-14 11:33:21+0800 [INFO] (1050, "Table 'user' already exists")
2017-07-14 11:33:21+0800 [INFO] TreeNode has been initialized
2017-07-14 11:33:21+0800 [INFO] FeedBack has been initialized
2017-07-14 11:33:21+0800 [INFO] Administrator has been initialized
2017-07-14 11:33:21+0800 [INFO] Opened iptalk.db successfully
2017-07-14 11:33:21+0800 [INFO] OrderFactory starting on 12200
2017-07-14 11:33:21+0800 [INFO] Starting factory <devices.iptalk.factory.OrderFactory instance at 0x00000000046558C8>
2017-07-14 11:33:21+0800 [INFO] QueryFactory starting on 34952
2017-07-14 11:33:21+0800 [INFO] Starting factory <devices.iptalk.factory.QueryFactory instance at 0x00000000046E51C8>
2017-07-14 11:33:21+0800 [INFO] AudioFactory starting on 3478
2017-07-14 11:33:21+0800 [INFO] Starting protocol <devices.iptalk.factory.AudioFactory instance at 0x00000000046E8E88>
2017-07-14 11:33:21+0800 [INFO] VideoFactory starting on 3456
2017-07-14 11:33:21+0800 [INFO] Starting protocol <devices.iptalk.factory.VideoFactory instance at 0x00000000046ED308>
2017-07-14 11:33:21+0800 [INFO] IPTalkWebSite starting on 85
2017-07-14 11:33:21+0800 [INFO] Starting factory <web.site.IPTalkWebSite instance at 0x00000000046ED648>
2017-07-14 11:33:21+0800 [INFO] WebSocketFactory starting on 89
2017-07-14 11:33:21+0800 [INFO] Starting factory <devices.iptalk.factory.WebSocketFactory instance at 0x00000000046FB108>
2017-07-14 11:33:21+0800 [INFO] TCPPushFactory starting on 90
2017-07-14 11:33:21+0800 [INFO] Starting factory <devices.iptalk.factory.TCPPushFactory instance at 0x00000000046FB5C8>
2017-07-14 11:33:21+0800 [INFO] SearchFactory starting on 3550
2017-07-14 11:33:21+0800 [INFO] Starting protocol <devices.iptalk.factory.SearchFactory instance at 0x00000000046FBA88>
2017-07-14 11:33:21+0800 [INFO] MyFTPFactory starting on 21
2017-07-14 11:33:21+0800 [INFO] Starting factory <devices.iptalk.ftp.MyFTPFactory instance at 0x00000000046FBE08>
2017-07-14 11:33:22+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 53694) .
2017-07-14 11:33:22+0800 [INFO] WebSocket keepAlive is on
2017-07-14 11:33:22+0800 [INFO] websocket is connected.
2017-07-14 11:33:22+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 53701) .
2017-07-14 11:33:22+0800 [INFO] WebSocket keepAlive is on
2017-07-14 11:33:22+0800 [INFO] websocket is connected.
2017-07-14 11:33:24+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:03:33:23 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 11:33:26+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:03:33:23 +0000] "POST /upgrade/sysUpgrade HTTP/1.1" 500 389 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 11:34:08+0800 [INFO] Starting SmartTalk IoTService.Version is v0.3.6
2017-07-14 11:34:08+0800 [INFO] (1050, "Table 'device' already exists")
2017-07-14 11:34:08+0800 [INFO] (1050, "Table 'devicepanel' already exists")
2017-07-14 11:34:08+0800 [INFO] (1050, "Table 'deviceio' already exists")
2017-07-14 11:34:08+0800 [INFO] (1050, "Table 'deviceaudiovideo' already exists")
2017-07-14 11:34:08+0800 [INFO] (1050, "Table 'devicealarm' already exists")
2017-07-14 11:34:08+0800 [INFO] (1050, "Table 'feedback' already exists")
2017-07-14 11:34:08+0800 [INFO] (1050, "Table 'log_call' already exists")
2017-07-14 11:34:08+0800 [INFO] (1050, "Table 'log_device' already exists")
2017-07-14 11:34:08+0800 [INFO] (1050, "Table 'log_alarm' already exists")
2017-07-14 11:34:08+0800 [INFO] (1050, "Table 'devicetree' already exists")
2017-07-14 11:34:08+0800 [INFO] (1050, "Table 'authority' already exists")
2017-07-14 11:34:08+0800 [INFO] (1050, "Table 'identity' already exists")
2017-07-14 11:34:08+0800 [INFO] (1050, "Table 'authorization' already exists")
2017-07-14 11:34:08+0800 [INFO] (1050, "Table 'user' already exists")
2017-07-14 11:34:08+0800 [INFO] TreeNode has been initialized
2017-07-14 11:34:08+0800 [INFO] FeedBack has been initialized
2017-07-14 11:34:08+0800 [INFO] Administrator has been initialized
2017-07-14 11:34:08+0800 [INFO] Opened iptalk.db successfully
2017-07-14 11:34:09+0800 [INFO] OrderFactory starting on 12200
2017-07-14 11:34:09+0800 [INFO] Starting factory <devices.iptalk.factory.OrderFactory instance at 0x00000000046548C8>
2017-07-14 11:34:09+0800 [INFO] QueryFactory starting on 34952
2017-07-14 11:34:09+0800 [INFO] Starting factory <devices.iptalk.factory.QueryFactory instance at 0x00000000046E01C8>
2017-07-14 11:34:09+0800 [INFO] AudioFactory starting on 3478
2017-07-14 11:34:09+0800 [INFO] Starting protocol <devices.iptalk.factory.AudioFactory instance at 0x00000000046E3E88>
2017-07-14 11:34:09+0800 [INFO] VideoFactory starting on 3456
2017-07-14 11:34:09+0800 [INFO] Starting protocol <devices.iptalk.factory.VideoFactory instance at 0x000000000462BD08>
2017-07-14 11:34:09+0800 [INFO] IPTalkWebSite starting on 85
2017-07-14 11:34:09+0800 [INFO] Starting factory <web.site.IPTalkWebSite instance at 0x00000000046E8648>
2017-07-14 11:34:09+0800 [INFO] WebSocketFactory starting on 89
2017-07-14 11:34:09+0800 [INFO] Starting factory <devices.iptalk.factory.WebSocketFactory instance at 0x00000000046F6108>
2017-07-14 11:34:09+0800 [INFO] TCPPushFactory starting on 90
2017-07-14 11:34:09+0800 [INFO] Starting factory <devices.iptalk.factory.TCPPushFactory instance at 0x00000000046F65C8>
2017-07-14 11:34:09+0800 [INFO] SearchFactory starting on 3550
2017-07-14 11:34:09+0800 [INFO] Starting protocol <devices.iptalk.factory.SearchFactory instance at 0x00000000046F6A88>
2017-07-14 11:34:09+0800 [INFO] MyFTPFactory starting on 21
2017-07-14 11:34:09+0800 [INFO] Starting factory <devices.iptalk.ftp.MyFTPFactory instance at 0x00000000046F6E08>
2017-07-14 11:34:09+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 53798) .
2017-07-14 11:34:09+0800 [INFO] WebSocket keepAlive is on
2017-07-14 11:34:09+0800 [INFO] websocket is connected.
2017-07-14 11:34:10+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 53803) .
2017-07-14 11:34:10+0800 [INFO] WebSocket keepAlive is on
2017-07-14 11:34:10+0800 [INFO] websocket is connected.
2017-07-14 11:34:11+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:03:34:10 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 11:34:29+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:03:34:10 +0000] "POST /upgrade/sysUpgrade HTTP/1.1" 500 389 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 11:35:37+0800 [INFO] Starting SmartTalk IoTService.Version is v0.3.6
2017-07-14 11:35:37+0800 [INFO] (1050, "Table 'device' already exists")
2017-07-14 11:35:37+0800 [INFO] (1050, "Table 'devicepanel' already exists")
2017-07-14 11:35:37+0800 [INFO] (1050, "Table 'deviceio' already exists")
2017-07-14 11:35:37+0800 [INFO] (1050, "Table 'deviceaudiovideo' already exists")
2017-07-14 11:35:37+0800 [INFO] (1050, "Table 'devicealarm' already exists")
2017-07-14 11:35:37+0800 [INFO] (1050, "Table 'feedback' already exists")
2017-07-14 11:35:37+0800 [INFO] (1050, "Table 'log_call' already exists")
2017-07-14 11:35:37+0800 [INFO] (1050, "Table 'log_device' already exists")
2017-07-14 11:35:37+0800 [INFO] (1050, "Table 'log_alarm' already exists")
2017-07-14 11:35:37+0800 [INFO] (1050, "Table 'devicetree' already exists")
2017-07-14 11:35:37+0800 [INFO] (1050, "Table 'authority' already exists")
2017-07-14 11:35:37+0800 [INFO] (1050, "Table 'identity' already exists")
2017-07-14 11:35:37+0800 [INFO] (1050, "Table 'authorization' already exists")
2017-07-14 11:35:37+0800 [INFO] (1050, "Table 'user' already exists")
2017-07-14 11:35:37+0800 [INFO] TreeNode has been initialized
2017-07-14 11:35:37+0800 [INFO] FeedBack has been initialized
2017-07-14 11:35:37+0800 [INFO] Administrator has been initialized
2017-07-14 11:35:37+0800 [INFO] Opened iptalk.db successfully
2017-07-14 11:35:37+0800 [INFO] OrderFactory starting on 12200
2017-07-14 11:35:37+0800 [INFO] Starting factory <devices.iptalk.factory.OrderFactory instance at 0x00000000047198C8>
2017-07-14 11:35:37+0800 [INFO] QueryFactory starting on 34952
2017-07-14 11:35:37+0800 [INFO] Starting factory <devices.iptalk.factory.QueryFactory instance at 0x00000000047A51C8>
2017-07-14 11:35:37+0800 [INFO] AudioFactory starting on 3478
2017-07-14 11:35:37+0800 [INFO] Starting protocol <devices.iptalk.factory.AudioFactory instance at 0x00000000047A8E88>
2017-07-14 11:35:37+0800 [INFO] VideoFactory starting on 3456
2017-07-14 11:35:37+0800 [INFO] Starting protocol <devices.iptalk.factory.VideoFactory instance at 0x00000000047AD308>
2017-07-14 11:35:37+0800 [INFO] IPTalkWebSite starting on 85
2017-07-14 11:35:37+0800 [INFO] Starting factory <web.site.IPTalkWebSite instance at 0x00000000047AD648>
2017-07-14 11:35:37+0800 [INFO] WebSocketFactory starting on 89
2017-07-14 11:35:37+0800 [INFO] Starting factory <devices.iptalk.factory.WebSocketFactory instance at 0x00000000047BB108>
2017-07-14 11:35:37+0800 [INFO] TCPPushFactory starting on 90
2017-07-14 11:35:37+0800 [INFO] Starting factory <devices.iptalk.factory.TCPPushFactory instance at 0x00000000047BB5C8>
2017-07-14 11:35:37+0800 [INFO] SearchFactory starting on 3550
2017-07-14 11:35:37+0800 [INFO] Starting protocol <devices.iptalk.factory.SearchFactory instance at 0x00000000047BBA88>
2017-07-14 11:35:37+0800 [INFO] MyFTPFactory starting on 21
2017-07-14 11:35:37+0800 [INFO] Starting factory <devices.iptalk.ftp.MyFTPFactory instance at 0x00000000047BBE08>
2017-07-14 11:35:45+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:03:35:45 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 11:35:49+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:03:35:45 +0000] "POST /upgrade/sysUpgrade HTTP/1.1" 500 389 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 11:35:49+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 54021) .
2017-07-14 11:35:49+0800 [INFO] WebSocket keepAlive is on
2017-07-14 11:35:49+0800 [INFO] websocket is connected.
2017-07-14 11:35:49+0800 [INFO] delete websock TCP connect:78e28cae99c044328e21346eb8e0d020
2017-07-14 11:35:49+0800 [INFO] websocket is disconnected.
2017-07-14 11:35:50+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 54029) .
2017-07-14 11:35:50+0800 [INFO] WebSocket keepAlive is on
2017-07-14 11:35:50+0800 [INFO] websocket is connected.
2017-07-14 11:36:13+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 54073) .
2017-07-14 11:36:13+0800 [INFO] WebSocket keepAlive is on
2017-07-14 11:36:13+0800 [INFO] websocket is connected.
2017-07-14 11:37:01+0800 [INFO] delete websock TCP connect:e76fd16e6e7e441696a7d5c90a426a14
2017-07-14 11:37:01+0800 [INFO] websocket is disconnected.
2017-07-14 11:37:03+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 54170) .
2017-07-14 11:37:03+0800 [INFO] WebSocket keepAlive is on
2017-07-14 11:37:03+0800 [INFO] websocket is connected.
2017-07-14 11:37:03+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:03:37:02 +0000] "GET /devices/iptalk/getiptalkdevicemessage HTTP/1.1" 200 83 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 11:37:05+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:03:37:04 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 11:37:05+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:03:37:04 +0000] "POST /upgrade/sysUpgrade HTTP/1.1" 500 389 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 11:37:16+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:03:37:16 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 11:37:16+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:03:37:16 +0000] "POST /upgrade/sysUpgrade HTTP/1.1" 500 389 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 11:37:51+0800 [INFO] Starting SmartTalk IoTService.Version is v0.3.6
2017-07-14 11:37:51+0800 [INFO] (1050, "Table 'device' already exists")
2017-07-14 11:37:51+0800 [INFO] (1050, "Table 'devicepanel' already exists")
2017-07-14 11:37:51+0800 [INFO] (1050, "Table 'deviceio' already exists")
2017-07-14 11:37:51+0800 [INFO] (1050, "Table 'deviceaudiovideo' already exists")
2017-07-14 11:37:51+0800 [INFO] (1050, "Table 'devicealarm' already exists")
2017-07-14 11:37:51+0800 [INFO] (1050, "Table 'feedback' already exists")
2017-07-14 11:37:51+0800 [INFO] (1050, "Table 'log_call' already exists")
2017-07-14 11:37:51+0800 [INFO] (1050, "Table 'log_device' already exists")
2017-07-14 11:37:51+0800 [INFO] (1050, "Table 'log_alarm' already exists")
2017-07-14 11:37:51+0800 [INFO] (1050, "Table 'devicetree' already exists")
2017-07-14 11:37:51+0800 [INFO] (1050, "Table 'authority' already exists")
2017-07-14 11:37:51+0800 [INFO] (1050, "Table 'identity' already exists")
2017-07-14 11:37:51+0800 [INFO] (1050, "Table 'authorization' already exists")
2017-07-14 11:37:51+0800 [INFO] (1050, "Table 'user' already exists")
2017-07-14 11:37:51+0800 [INFO] TreeNode has been initialized
2017-07-14 11:37:51+0800 [INFO] FeedBack has been initialized
2017-07-14 11:37:51+0800 [INFO] Administrator has been initialized
2017-07-14 11:37:51+0800 [INFO] Opened iptalk.db successfully
2017-07-14 11:37:52+0800 [INFO] OrderFactory starting on 12200
2017-07-14 11:37:52+0800 [INFO] Starting factory <devices.iptalk.factory.OrderFactory instance at 0x00000000046DD8C8>
2017-07-14 11:37:52+0800 [INFO] QueryFactory starting on 34952
2017-07-14 11:37:52+0800 [INFO] Starting factory <devices.iptalk.factory.QueryFactory instance at 0x00000000047681C8>
2017-07-14 11:37:52+0800 [INFO] AudioFactory starting on 3478
2017-07-14 11:37:52+0800 [INFO] Starting protocol <devices.iptalk.factory.AudioFactory instance at 0x000000000476CE88>
2017-07-14 11:37:52+0800 [INFO] VideoFactory starting on 3456
2017-07-14 11:37:52+0800 [INFO] Starting protocol <devices.iptalk.factory.VideoFactory instance at 0x0000000004770308>
2017-07-14 11:37:52+0800 [INFO] IPTalkWebSite starting on 85
2017-07-14 11:37:52+0800 [INFO] Starting factory <web.site.IPTalkWebSite instance at 0x0000000004770648>
2017-07-14 11:37:52+0800 [INFO] WebSocketFactory starting on 89
2017-07-14 11:37:52+0800 [INFO] Starting factory <devices.iptalk.factory.WebSocketFactory instance at 0x000000000477F108>
2017-07-14 11:37:52+0800 [INFO] TCPPushFactory starting on 90
2017-07-14 11:37:52+0800 [INFO] Starting factory <devices.iptalk.factory.TCPPushFactory instance at 0x000000000477F5C8>
2017-07-14 11:37:52+0800 [INFO] SearchFactory starting on 3550
2017-07-14 11:37:52+0800 [INFO] Starting protocol <devices.iptalk.factory.SearchFactory instance at 0x000000000477FA88>
2017-07-14 11:37:52+0800 [INFO] MyFTPFactory starting on 21
2017-07-14 11:37:52+0800 [INFO] Starting factory <devices.iptalk.ftp.MyFTPFactory instance at 0x000000000477FE08>
2017-07-14 11:37:52+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 54286) .
2017-07-14 11:37:52+0800 [INFO] WebSocket keepAlive is on
2017-07-14 11:37:52+0800 [INFO] websocket is connected.
2017-07-14 11:37:53+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 54291) .
2017-07-14 11:37:53+0800 [INFO] WebSocket keepAlive is on
2017-07-14 11:37:53+0800 [INFO] websocket is connected.
2017-07-14 11:37:53+0800 [INFO] delete websock TCP connect:0868c18504374c5f80eb6ab929315f01
2017-07-14 11:37:53+0800 [INFO] websocket is disconnected.
2017-07-14 11:37:55+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 54312) .
2017-07-14 11:37:55+0800 [INFO] WebSocket keepAlive is on
2017-07-14 11:37:55+0800 [INFO] websocket is connected.
2017-07-14 11:37:55+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:03:37:55 +0000] "GET /devices/iptalk/getiptalkdevicemessage HTTP/1.1" 200 83 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 11:38:00+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:03:38:00 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 11:38:00+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:03:38:00 +0000] "POST /upgrade/sysUpgrade HTTP/1.1" 200 21 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 11:39:04+0800 [INFO] Starting SmartTalk IoTService.Version is v0.3.6
2017-07-14 11:39:04+0800 [INFO] (1050, "Table 'device' already exists")
2017-07-14 11:39:04+0800 [INFO] (1050, "Table 'devicepanel' already exists")
2017-07-14 11:39:04+0800 [INFO] (1050, "Table 'deviceio' already exists")
2017-07-14 11:39:04+0800 [INFO] (1050, "Table 'deviceaudiovideo' already exists")
2017-07-14 11:39:04+0800 [INFO] (1050, "Table 'devicealarm' already exists")
2017-07-14 11:39:04+0800 [INFO] (1050, "Table 'feedback' already exists")
2017-07-14 11:39:04+0800 [INFO] (1050, "Table 'log_call' already exists")
2017-07-14 11:39:04+0800 [INFO] (1050, "Table 'log_device' already exists")
2017-07-14 11:39:04+0800 [INFO] (1050, "Table 'log_alarm' already exists")
2017-07-14 11:39:04+0800 [INFO] (1050, "Table 'devicetree' already exists")
2017-07-14 11:39:04+0800 [INFO] (1050, "Table 'authority' already exists")
2017-07-14 11:39:04+0800 [INFO] (1050, "Table 'identity' already exists")
2017-07-14 11:39:04+0800 [INFO] (1050, "Table 'authorization' already exists")
2017-07-14 11:39:04+0800 [INFO] (1050, "Table 'user' already exists")
2017-07-14 11:39:04+0800 [INFO] TreeNode has been initialized
2017-07-14 11:39:04+0800 [INFO] FeedBack has been initialized
2017-07-14 11:39:04+0800 [INFO] Administrator has been initialized
2017-07-14 11:39:04+0800 [INFO] Opened iptalk.db successfully
2017-07-14 11:39:04+0800 [INFO] OrderFactory starting on 12200
2017-07-14 11:39:04+0800 [INFO] Starting factory <devices.iptalk.factory.OrderFactory instance at 0x00000000045B68C8>
2017-07-14 11:39:04+0800 [INFO] QueryFactory starting on 34952
2017-07-14 11:39:04+0800 [INFO] Starting factory <devices.iptalk.factory.QueryFactory instance at 0x00000000046491C8>
2017-07-14 11:39:04+0800 [INFO] AudioFactory starting on 3478
2017-07-14 11:39:04+0800 [INFO] Starting protocol <devices.iptalk.factory.AudioFactory instance at 0x000000000464DE88>
2017-07-14 11:39:04+0800 [INFO] VideoFactory starting on 3456
2017-07-14 11:39:04+0800 [INFO] Starting protocol <devices.iptalk.factory.VideoFactory instance at 0x0000000004651308>
2017-07-14 11:39:04+0800 [INFO] IPTalkWebSite starting on 85
2017-07-14 11:39:04+0800 [INFO] Starting factory <web.site.IPTalkWebSite instance at 0x0000000004651648>
2017-07-14 11:39:04+0800 [INFO] WebSocketFactory starting on 89
2017-07-14 11:39:04+0800 [INFO] Starting factory <devices.iptalk.factory.WebSocketFactory instance at 0x0000000004660148>
2017-07-14 11:39:04+0800 [INFO] TCPPushFactory starting on 90
2017-07-14 11:39:04+0800 [INFO] Starting factory <devices.iptalk.factory.TCPPushFactory instance at 0x0000000004660608>
2017-07-14 11:39:04+0800 [INFO] SearchFactory starting on 3550
2017-07-14 11:39:04+0800 [INFO] Starting protocol <devices.iptalk.factory.SearchFactory instance at 0x0000000004660AC8>
2017-07-14 11:39:04+0800 [INFO] MyFTPFactory starting on 21
2017-07-14 11:39:04+0800 [INFO] Starting factory <devices.iptalk.ftp.MyFTPFactory instance at 0x0000000004660E48>
2017-07-14 11:39:04+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 54455) .
2017-07-14 11:39:04+0800 [INFO] WebSocket keepAlive is on
2017-07-14 11:39:04+0800 [INFO] websocket is connected.
2017-07-14 11:39:05+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 54461) .
2017-07-14 11:39:05+0800 [INFO] WebSocket keepAlive is on
2017-07-14 11:39:05+0800 [INFO] websocket is connected.
2017-07-14 11:39:06+0800 [INFO] delete websock TCP connect:6ea698a0a9bd4c698e3116db7fd87fbe
2017-07-14 11:39:06+0800 [INFO] websocket is disconnected.
2017-07-14 11:39:08+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 54475) .
2017-07-14 11:39:08+0800 [INFO] WebSocket keepAlive is on
2017-07-14 11:39:08+0800 [INFO] websocket is connected.
2017-07-14 11:39:09+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:03:39:08 +0000] "GET /devices/iptalk/getiptalkdevicemessage HTTP/1.1" 200 83 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 11:39:12+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:03:39:11 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 11:39:12+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:03:39:11 +0000] "POST /upgrade/sysUpgrade HTTP/1.1" 200 21 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 11:40:33+0800 [INFO] Starting SmartTalk IoTService.Version is v0.3.6
2017-07-14 11:40:33+0800 [INFO] (1050, "Table 'device' already exists")
2017-07-14 11:40:33+0800 [INFO] (1050, "Table 'devicepanel' already exists")
2017-07-14 11:40:33+0800 [INFO] (1050, "Table 'deviceio' already exists")
2017-07-14 11:40:33+0800 [INFO] (1050, "Table 'deviceaudiovideo' already exists")
2017-07-14 11:40:33+0800 [INFO] (1050, "Table 'devicealarm' already exists")
2017-07-14 11:40:33+0800 [INFO] (1050, "Table 'feedback' already exists")
2017-07-14 11:40:33+0800 [INFO] (1050, "Table 'log_call' already exists")
2017-07-14 11:40:33+0800 [INFO] (1050, "Table 'log_device' already exists")
2017-07-14 11:40:33+0800 [INFO] (1050, "Table 'log_alarm' already exists")
2017-07-14 11:40:33+0800 [INFO] (1050, "Table 'devicetree' already exists")
2017-07-14 11:40:33+0800 [INFO] (1050, "Table 'authority' already exists")
2017-07-14 11:40:33+0800 [INFO] (1050, "Table 'identity' already exists")
2017-07-14 11:40:33+0800 [INFO] (1050, "Table 'authorization' already exists")
2017-07-14 11:40:33+0800 [INFO] (1050, "Table 'user' already exists")
2017-07-14 11:40:33+0800 [INFO] TreeNode has been initialized
2017-07-14 11:40:33+0800 [INFO] FeedBack has been initialized
2017-07-14 11:40:33+0800 [INFO] Administrator has been initialized
2017-07-14 11:40:33+0800 [INFO] Opened iptalk.db successfully
2017-07-14 11:40:33+0800 [INFO] OrderFactory starting on 12200
2017-07-14 11:40:33+0800 [INFO] Starting factory <devices.iptalk.factory.OrderFactory instance at 0x00000000046368C8>
2017-07-14 11:40:33+0800 [INFO] QueryFactory starting on 34952
2017-07-14 11:40:33+0800 [INFO] Starting factory <devices.iptalk.factory.QueryFactory instance at 0x00000000046C11C8>
2017-07-14 11:40:33+0800 [INFO] AudioFactory starting on 3478
2017-07-14 11:40:33+0800 [INFO] Starting protocol <devices.iptalk.factory.AudioFactory instance at 0x00000000046C5E88>
2017-07-14 11:40:33+0800 [INFO] VideoFactory starting on 3456
2017-07-14 11:40:33+0800 [INFO] Starting protocol <devices.iptalk.factory.VideoFactory instance at 0x00000000046C9308>
2017-07-14 11:40:33+0800 [INFO] IPTalkWebSite starting on 85
2017-07-14 11:40:33+0800 [INFO] Starting factory <web.site.IPTalkWebSite instance at 0x00000000046C9648>
2017-07-14 11:40:33+0800 [INFO] WebSocketFactory starting on 89
2017-07-14 11:40:33+0800 [INFO] Starting factory <devices.iptalk.factory.WebSocketFactory instance at 0x00000000046D8148>
2017-07-14 11:40:33+0800 [INFO] TCPPushFactory starting on 90
2017-07-14 11:40:33+0800 [INFO] Starting factory <devices.iptalk.factory.TCPPushFactory instance at 0x00000000046D8608>
2017-07-14 11:40:33+0800 [INFO] SearchFactory starting on 3550
2017-07-14 11:40:33+0800 [INFO] Starting protocol <devices.iptalk.factory.SearchFactory instance at 0x00000000046D8AC8>
2017-07-14 11:40:33+0800 [INFO] MyFTPFactory starting on 21
2017-07-14 11:40:33+0800 [INFO] Starting factory <devices.iptalk.ftp.MyFTPFactory instance at 0x00000000046D8E48>
2017-07-14 11:40:33+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 54653) .
2017-07-14 11:40:33+0800 [INFO] WebSocket keepAlive is on
2017-07-14 11:40:33+0800 [INFO] websocket is connected.
2017-07-14 11:40:35+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 54664) .
2017-07-14 11:40:35+0800 [INFO] WebSocket keepAlive is on
2017-07-14 11:40:35+0800 [INFO] websocket is connected.
2017-07-14 11:40:37+0800 [INFO] delete websock TCP connect:6238953dba1442b9970f1fb8ccab6486
2017-07-14 11:40:37+0800 [INFO] websocket is disconnected.
2017-07-14 11:40:39+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 54682) .
2017-07-14 11:40:39+0800 [INFO] WebSocket keepAlive is on
2017-07-14 11:40:39+0800 [INFO] websocket is connected.
2017-07-14 11:40:39+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:03:40:38 +0000] "GET /devices/iptalk/getiptalkdevicemessage HTTP/1.1" 200 83 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 11:40:42+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:03:40:42 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 11:40:42+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:03:40:42 +0000] "POST /upgrade/sysUpgrade HTTP/1.1" 200 20 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 11:44:19+0800 [INFO] Starting SmartTalk IoTService.Version is v0.3.6
2017-07-14 11:44:20+0800 [INFO] (1050, "Table 'device' already exists")
2017-07-14 11:44:20+0800 [INFO] (1050, "Table 'devicepanel' already exists")
2017-07-14 11:44:20+0800 [INFO] (1050, "Table 'deviceio' already exists")
2017-07-14 11:44:20+0800 [INFO] (1050, "Table 'deviceaudiovideo' already exists")
2017-07-14 11:44:20+0800 [INFO] (1050, "Table 'devicealarm' already exists")
2017-07-14 11:44:20+0800 [INFO] (1050, "Table 'feedback' already exists")
2017-07-14 11:44:20+0800 [INFO] (1050, "Table 'log_call' already exists")
2017-07-14 11:44:20+0800 [INFO] (1050, "Table 'log_device' already exists")
2017-07-14 11:44:20+0800 [INFO] (1050, "Table 'log_alarm' already exists")
2017-07-14 11:44:20+0800 [INFO] (1050, "Table 'devicetree' already exists")
2017-07-14 11:44:20+0800 [INFO] (1050, "Table 'authority' already exists")
2017-07-14 11:44:20+0800 [INFO] (1050, "Table 'identity' already exists")
2017-07-14 11:44:20+0800 [INFO] (1050, "Table 'authorization' already exists")
2017-07-14 11:44:20+0800 [INFO] (1050, "Table 'user' already exists")
2017-07-14 11:44:20+0800 [INFO] TreeNode has been initialized
2017-07-14 11:44:20+0800 [INFO] FeedBack has been initialized
2017-07-14 11:44:20+0800 [INFO] Administrator has been initialized
2017-07-14 11:44:20+0800 [INFO] Opened iptalk.db successfully
2017-07-14 11:44:20+0800 [INFO] OrderFactory starting on 12200
2017-07-14 11:44:20+0800 [INFO] Starting factory <devices.iptalk.factory.OrderFactory instance at 0x000000000460B8C8>
2017-07-14 11:44:20+0800 [INFO] QueryFactory starting on 34952
2017-07-14 11:44:20+0800 [INFO] Starting factory <devices.iptalk.factory.QueryFactory instance at 0x00000000046961C8>
2017-07-14 11:44:20+0800 [INFO] AudioFactory starting on 3478
2017-07-14 11:44:20+0800 [INFO] Starting protocol <devices.iptalk.factory.AudioFactory instance at 0x000000000469AE88>
2017-07-14 11:44:20+0800 [INFO] VideoFactory starting on 3456
2017-07-14 11:44:20+0800 [INFO] Starting protocol <devices.iptalk.factory.VideoFactory instance at 0x000000000469E308>
2017-07-14 11:44:20+0800 [INFO] IPTalkWebSite starting on 85
2017-07-14 11:44:20+0800 [INFO] Starting factory <web.site.IPTalkWebSite instance at 0x000000000469E648>
2017-07-14 11:44:20+0800 [INFO] WebSocketFactory starting on 89
2017-07-14 11:44:20+0800 [INFO] Starting factory <devices.iptalk.factory.WebSocketFactory instance at 0x00000000046AD148>
2017-07-14 11:44:20+0800 [INFO] TCPPushFactory starting on 90
2017-07-14 11:44:20+0800 [INFO] Starting factory <devices.iptalk.factory.TCPPushFactory instance at 0x00000000046AD608>
2017-07-14 11:44:20+0800 [INFO] SearchFactory starting on 3550
2017-07-14 11:44:20+0800 [INFO] Starting protocol <devices.iptalk.factory.SearchFactory instance at 0x00000000046ADAC8>
2017-07-14 11:44:20+0800 [INFO] MyFTPFactory starting on 21
2017-07-14 11:44:20+0800 [INFO] Starting factory <devices.iptalk.ftp.MyFTPFactory instance at 0x00000000046ADE48>
2017-07-14 11:44:21+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 55175) .
2017-07-14 11:44:21+0800 [INFO] WebSocket keepAlive is on
2017-07-14 11:44:21+0800 [INFO] websocket is connected.
2017-07-14 11:44:22+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 55177) .
2017-07-14 11:44:22+0800 [INFO] WebSocket keepAlive is on
2017-07-14 11:44:22+0800 [INFO] websocket is connected.
2017-07-14 11:44:22+0800 [INFO] delete websock TCP connect:e95ff2e3c9864e92b9b5fbe5919ce76e
2017-07-14 11:44:22+0800 [INFO] websocket is disconnected.
2017-07-14 11:44:24+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 55193) .
2017-07-14 11:44:24+0800 [INFO] WebSocket keepAlive is on
2017-07-14 11:44:24+0800 [INFO] websocket is connected.
2017-07-14 11:44:24+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:03:44:24 +0000] "GET /devices/iptalk/getiptalkdevicemessage HTTP/1.1" 200 83 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 11:44:28+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:03:44:27 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 11:44:28+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:03:44:27 +0000] "POST /upgrade/sysUpgrade HTTP/1.1" 200 21 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 12:18:24+0800 [INFO] Starting SmartTalk IoTService.Version is v0.3.6
2017-07-14 12:18:24+0800 [INFO] (1050, "Table 'device' already exists")
2017-07-14 12:18:24+0800 [INFO] (1050, "Table 'devicepanel' already exists")
2017-07-14 12:18:24+0800 [INFO] (1050, "Table 'deviceio' already exists")
2017-07-14 12:18:24+0800 [INFO] (1050, "Table 'deviceaudiovideo' already exists")
2017-07-14 12:18:24+0800 [INFO] (1050, "Table 'devicealarm' already exists")
2017-07-14 12:18:24+0800 [INFO] (1050, "Table 'feedback' already exists")
2017-07-14 12:18:24+0800 [INFO] (1050, "Table 'log_call' already exists")
2017-07-14 12:18:24+0800 [INFO] (1050, "Table 'log_device' already exists")
2017-07-14 12:18:24+0800 [INFO] (1050, "Table 'log_alarm' already exists")
2017-07-14 12:18:24+0800 [INFO] (1050, "Table 'devicetree' already exists")
2017-07-14 12:18:24+0800 [INFO] (1050, "Table 'authority' already exists")
2017-07-14 12:18:24+0800 [INFO] (1050, "Table 'identity' already exists")
2017-07-14 12:18:24+0800 [INFO] (1050, "Table 'authorization' already exists")
2017-07-14 12:18:24+0800 [INFO] (1050, "Table 'user' already exists")
2017-07-14 12:18:24+0800 [INFO] TreeNode has been initialized
2017-07-14 12:18:24+0800 [INFO] FeedBack has been initialized
2017-07-14 12:18:24+0800 [INFO] Administrator has been initialized
2017-07-14 12:18:24+0800 [INFO] Opened iptalk.db successfully
2017-07-14 12:18:25+0800 [INFO] OrderFactory starting on 12200
2017-07-14 12:18:25+0800 [INFO] Starting factory <devices.iptalk.factory.OrderFactory instance at 0x00000000045518C8>
2017-07-14 12:18:25+0800 [INFO] QueryFactory starting on 34952
2017-07-14 12:18:25+0800 [INFO] Starting factory <devices.iptalk.factory.QueryFactory instance at 0x00000000045FD1C8>
2017-07-14 12:18:25+0800 [INFO] AudioFactory starting on 3478
2017-07-14 12:18:25+0800 [INFO] Starting protocol <devices.iptalk.factory.AudioFactory instance at 0x0000000004601E88>
2017-07-14 12:18:25+0800 [INFO] VideoFactory starting on 3456
2017-07-14 12:18:25+0800 [INFO] Starting protocol <devices.iptalk.factory.VideoFactory instance at 0x0000000004605308>
2017-07-14 12:18:25+0800 [INFO] IPTalkWebSite starting on 85
2017-07-14 12:18:25+0800 [INFO] Starting factory <web.site.IPTalkWebSite instance at 0x0000000004605648>
2017-07-14 12:18:25+0800 [INFO] WebSocketFactory starting on 89
2017-07-14 12:18:25+0800 [INFO] Starting factory <devices.iptalk.factory.WebSocketFactory instance at 0x0000000004613148>
2017-07-14 12:18:25+0800 [INFO] TCPPushFactory starting on 90
2017-07-14 12:18:25+0800 [INFO] Starting factory <devices.iptalk.factory.TCPPushFactory instance at 0x0000000004613608>
2017-07-14 12:18:25+0800 [INFO] SearchFactory starting on 3550
2017-07-14 12:18:25+0800 [INFO] Starting protocol <devices.iptalk.factory.SearchFactory instance at 0x0000000004613AC8>
2017-07-14 12:18:25+0800 [INFO] MyFTPFactory starting on 21
2017-07-14 12:18:25+0800 [INFO] Starting factory <devices.iptalk.ftp.MyFTPFactory instance at 0x0000000004613E48>
2017-07-14 12:18:29+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 59266) .
2017-07-14 12:18:29+0800 [INFO] WebSocket keepAlive is on
2017-07-14 12:18:29+0800 [INFO] websocket is connected.
2017-07-14 12:18:29+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:04:18:29 +0000] "GET /devices/iptalk/getiptalkdevicemessage HTTP/1.1" 200 83 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 12:18:35+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:04:18:35 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 12:18:35+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:04:18:35 +0000] "POST /upgrade/sysUpgrade HTTP/1.1" 200 21 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 13:23:13+0800 [INFO] Starting SmartTalk IoTService.Version is v0.3.6
2017-07-14 13:23:13+0800 [INFO] (1050, "Table 'device' already exists")
2017-07-14 13:23:13+0800 [INFO] (1050, "Table 'devicepanel' already exists")
2017-07-14 13:23:13+0800 [INFO] (1050, "Table 'deviceio' already exists")
2017-07-14 13:23:13+0800 [INFO] (1050, "Table 'deviceaudiovideo' already exists")
2017-07-14 13:23:13+0800 [INFO] (1050, "Table 'devicealarm' already exists")
2017-07-14 13:23:13+0800 [INFO] (1050, "Table 'feedback' already exists")
2017-07-14 13:23:13+0800 [INFO] (1050, "Table 'log_call' already exists")
2017-07-14 13:23:13+0800 [INFO] (1050, "Table 'log_device' already exists")
2017-07-14 13:23:13+0800 [INFO] (1050, "Table 'log_alarm' already exists")
2017-07-14 13:23:13+0800 [INFO] (1050, "Table 'devicetree' already exists")
2017-07-14 13:23:13+0800 [INFO] (1050, "Table 'authority' already exists")
2017-07-14 13:23:13+0800 [INFO] (1050, "Table 'identity' already exists")
2017-07-14 13:23:13+0800 [INFO] (1050, "Table 'authorization' already exists")
2017-07-14 13:23:13+0800 [INFO] (1050, "Table 'user' already exists")
2017-07-14 13:23:13+0800 [INFO] TreeNode has been initialized
2017-07-14 13:23:13+0800 [INFO] FeedBack has been initialized
2017-07-14 13:23:13+0800 [INFO] Administrator has been initialized
2017-07-14 13:23:13+0800 [INFO] Opened iptalk.db successfully
2017-07-14 13:23:13+0800 [INFO] OrderFactory starting on 12200
2017-07-14 13:23:13+0800 [INFO] Starting factory <devices.iptalk.factory.OrderFactory instance at 0x00000000048078C8>
2017-07-14 13:23:13+0800 [INFO] QueryFactory starting on 34952
2017-07-14 13:23:13+0800 [INFO] Starting factory <devices.iptalk.factory.QueryFactory instance at 0x00000000048981C8>
2017-07-14 13:23:13+0800 [INFO] AudioFactory starting on 3478
2017-07-14 13:23:13+0800 [INFO] Starting protocol <devices.iptalk.factory.AudioFactory instance at 0x000000000489CE88>
2017-07-14 13:23:13+0800 [INFO] VideoFactory starting on 3456
2017-07-14 13:23:13+0800 [INFO] Starting protocol <devices.iptalk.factory.VideoFactory instance at 0x00000000048A0308>
2017-07-14 13:23:13+0800 [INFO] IPTalkWebSite starting on 85
2017-07-14 13:23:13+0800 [INFO] Starting factory <web.site.IPTalkWebSite instance at 0x00000000048A0648>
2017-07-14 13:23:13+0800 [INFO] WebSocketFactory starting on 89
2017-07-14 13:23:13+0800 [INFO] Starting factory <devices.iptalk.factory.WebSocketFactory instance at 0x00000000048AF148>
2017-07-14 13:23:13+0800 [INFO] TCPPushFactory starting on 90
2017-07-14 13:23:13+0800 [INFO] Starting factory <devices.iptalk.factory.TCPPushFactory instance at 0x00000000048AF608>
2017-07-14 13:23:13+0800 [INFO] SearchFactory starting on 3550
2017-07-14 13:23:13+0800 [INFO] Starting protocol <devices.iptalk.factory.SearchFactory instance at 0x00000000048AFAC8>
2017-07-14 13:23:13+0800 [INFO] MyFTPFactory starting on 21
2017-07-14 13:23:13+0800 [INFO] Starting factory <devices.iptalk.ftp.MyFTPFactory instance at 0x00000000048AFE48>
2017-07-14 13:24:33+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 50575) .
2017-07-14 13:24:33+0800 [INFO] WebSocket keepAlive is on
2017-07-14 13:24:33+0800 [INFO] websocket is connected.
2017-07-14 13:24:34+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:05:24:33 +0000] "GET /devices/iptalk/getiptalkdevicemessage HTTP/1.1" 200 83 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 13:24:39+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:05:24:38 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 13:24:43+0800 [ERROR] Unhandled Error
	Traceback (most recent call last):
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 1442, in dataReceived
	    finishCallback(data[contentLength:])
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 1768, in _finishRequestBody
	    self.allContentReceived()
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 1845, in allContentReceived
	    req.requestReceived(command, path, version)
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 766, in requestReceived
	    self.process()
	--- <exception caught here> ---
	  File "C:\Python27\lib\site-packages\twisted\web\server.py", line 183, in process
	    self.render(resrc)
	  File "C:\Python27\lib\site-packages\twisted\web\server.py", line 234, in render
	    body = resrc.render(self)
	  File "C:\Python27\lib\site-packages\twisted\web\resource.py", line 250, in render
	    return m(request)
	  File "D:/Documents/catcuts/project/iot_combination\devices\iptalk\webmanager.py", line 367, in render_POST
	    finish(request, self.exeSysUpgrade(request))
	  File "D:/Documents/catcuts/project/iot_combination\devices\iptalk\webmanager.py", line 128, in finish
	    request.write(results)
	  File "C:\Python27\lib\site-packages\twisted\web\server.py", line 213, in write
	    http.Request.write(self, data)
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 952, in write
	    self.sentLength = self.sentLength + len(data)
	exceptions.TypeError: object of type 'NoneType' has no len()
	
2017-07-14 13:24:43+0800 [ERROR] Unhandled Error
	Traceback (most recent call last):
	  File "C:\Python27\lib\site-packages\twisted\web\server.py", line 319, in processingFailed
	    util.formatFailure(reason) +
	  File "C:\Python27\lib\site-packages\twisted\web\util.py", line 432, in formatFailure
	    flattenString(None, FailureElement(myFailure)).addBoth(result.append)
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 410, in flattenString
	    d = flatten(request, root, io.write)
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 392, in flatten
	    _writeFlattenedData(state, write, result)
	--- <exception caught here> ---
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 353, in _writeFlattenedData
	    element = next(state)
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 321, in _flattenTree
	    raise FlattenerError(e, roots, extract_tb(exc_info()[2]))
	twisted.web.error.FlattenerError: Exception while flattening:
	  <twisted.web.util.FailureElement object at 0x0000000004B13E48>
	  [Tag(u'div', children=[u'\n', u'  ', Tag(u'style', attributes=OrderedDict([(u'type', u'text/css')]), children=[u'\n', u'    div.error {', u'\n', u'      color: red;', u'\n', u'      font-family: Verdana, Arial, helvetica, sans-serif;', u'\n', u'      font-weight: bold;', u'\n', u'    }', u'\n', u'\n', u'    div {', u'\n', u'      font-family: Verdana, Arial, helvetica, sans-serif;', u'\n', u'    }', u'\n', u'\n', u'    div.stackTrace {', u'\n', u'    }', u'\n', u'\n', u'    div.frame {', u'\n', u'      padding: 1em;', u'\n', u'      background: white;', u'\n', u'      border-bottom: thin black dashed;', u'\n', u'    }', u'\n', u'\n', u'    div.frame:first-child {', u'\n', u'      padding: 1em;', u'\n', u'      background: white;', u'\n', u'      border-top: thin black dashed;', u'\n', u'      border-bottom: thin black dashed;', u'\n', u'    }', u'\n', u'\n', u'    div.location {', u'\n', u'    }', u'\n', u'\n', u'    span.function {', u'\n', u'      font-weight: bold;', u'\n', u'      font-family: "Courier New", courier, monospace;', u'\n', u'    }', u'\n', u'\n', u'    div.snippet {', u'\n', u'      margin-bottom: 0.5em;', u'\n', u'      margin-left: 1em;', u'\n', u'      background: #FFFFDD;', u'\n', u'    }', u'\n', u'\n', u'    div.snippetHighlightLine {', u'\n', u'      color: red;', u'\n', u'    }', u'\n', u'\n', u'    span.code {', u'\n', u'      font-family: "Courier New", courier, monospace;', u'\n', u'    }', u'\n', u'  ']), u'\n', u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'error')]), children=[u'\n', u'    ', Tag(u'span'), u': ', Tag(u'span'), u'\n', u'  ']), u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'stackTrace')]), children=[u'\n', u'    ', Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']), u'\n', u'  ']), u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'error')]), children=[u'\n', u'    ', Tag(u'span'), u': ', Tag(u'span'), u'\n', u'  ']), u'\n'])]
	  Tag <div>
	  [u'\n', u'  ', Tag(u'style', attributes=OrderedDict([(u'type', u'text/css')]), children=[u'\n', u'    div.error {', u'\n', u'      color: red;', u'\n', u'      font-family: Verdana, Arial, helvetica, sans-serif;', u'\n', u'      font-weight: bold;', u'\n', u'    }', u'\n', u'\n', u'    div {', u'\n', u'      font-family: Verdana, Arial, helvetica, sans-serif;', u'\n', u'    }', u'\n', u'\n', u'    div.stackTrace {', u'\n', u'    }', u'\n', u'\n', u'    div.frame {', u'\n', u'      padding: 1em;', u'\n', u'      background: white;', u'\n', u'      border-bottom: thin black dashed;', u'\n', u'    }', u'\n', u'\n', u'    div.frame:first-child {', u'\n', u'      padding: 1em;', u'\n', u'      background: white;', u'\n', u'      border-top: thin black dashed;', u'\n', u'      border-bottom: thin black dashed;', u'\n', u'    }', u'\n', u'\n', u'    div.location {', u'\n', u'    }', u'\n', u'\n', u'    span.function {', u'\n', u'      font-weight: bold;', u'\n', u'      font-family: "Courier New", courier, monospace;', u'\n', u'    }', u'\n', u'\n', u'    div.snippet {', u'\n', u'      margin-bottom: 0.5em;', u'\n', u'      margin-left: 1em;', u'\n', u'      background: #FFFFDD;', u'\n', u'    }', u'\n', u'\n', u'    div.snippetHighlightLine {', u'\n', u'      color: red;', u'\n', u'    }', u'\n', u'\n', u'    span.code {', u'\n', u'      font-family: "Courier New", courier, monospace;', u'\n', u'    }', u'\n', u'  ']), u'\n', u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'error')]), children=[u'\n', u'    ', Tag(u'span'), u': ', Tag(u'span'), u'\n', u'  ']), u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'stackTrace')]), children=[u'\n', u'    ', Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']), u'\n', u'  ']), u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'error')]), children=[u'\n', u'    ', Tag(u'span'), u': ', Tag(u'span'), u'\n', u'  ']), u'\n']
	  Tag <div>
	  <twisted.web.util._StackElement object at 0x0000000005E0F0B8>
	  [Tag(u'div', attributes=OrderedDict([(u'class', u'stackTrace')]), children=[u'\n', u'    ', Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']), u'\n', u'  '])]
	  Tag <div>
	  [u'\n', u'    ', Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']), u'\n', u'  ']
	  Tag <div>
	  [<twisted.web.util._FrameElement object at 0x0000000005E0F588>, <twisted.web.util._FrameElement object at 0x0000000005E0F7F0>, <twisted.web.util._FrameElement object at 0x0000000005E0FA58>, <twisted.web.util._FrameElement object at 0x0000000005E0FCC0>, <twisted.web.util._FrameElement object at 0x0000000005E0FF28>, <twisted.web.util._FrameElement object at 0x0000000005EDF1D0>, <twisted.web.util._FrameElement object at 0x0000000005EDF438>]
	  <twisted.web.util._FrameElement object at 0x0000000005E0FCC0>
	  [Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    '])]
	  Tag <div>
	  [u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']
	  Tag <div>
	  <twisted.web.util._SourceFragmentElement object at 0x0000000005EDF630>
	  [Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      '])]
	  Tag <div>
	  [u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']
	  Tag <div>
	  <generator object sourceLines at 0x0000000005E0CA20>
	  <twisted.web.util._SourceLineElement object at 0x0000000005EDF940>
	  [Tag(u'div', attributes=OrderedDict([('class', 'snippetLine')]), children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        '])]
	  Tag <div>
	  [u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']
	  Tag <code>
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 312, in _flattenTree
	    element = next(stack[-1])
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 231, in _flattenElement
	    result = renderMethod(request, rootClone)
	  File "C:\Python27\lib\site-packages\twisted\web\util.py", line 171, in sourceLine
	    return tag(self.source.replace('  ', u' \N{NO-BREAK SPACE}'))
	UnicodeDecodeError: 'ascii' codec can't decode byte 0xe6 in position 10: ordinal not in range(128)
	
	
2017-07-14 13:25:42+0800 [INFO] Starting SmartTalk IoTService.Version is v0.3.6
2017-07-14 13:25:42+0800 [INFO] (1050, "Table 'device' already exists")
2017-07-14 13:25:42+0800 [INFO] (1050, "Table 'devicepanel' already exists")
2017-07-14 13:25:42+0800 [INFO] (1050, "Table 'deviceio' already exists")
2017-07-14 13:25:42+0800 [INFO] (1050, "Table 'deviceaudiovideo' already exists")
2017-07-14 13:25:42+0800 [INFO] (1050, "Table 'devicealarm' already exists")
2017-07-14 13:25:42+0800 [INFO] (1050, "Table 'feedback' already exists")
2017-07-14 13:25:42+0800 [INFO] (1050, "Table 'log_call' already exists")
2017-07-14 13:25:42+0800 [INFO] (1050, "Table 'log_device' already exists")
2017-07-14 13:25:42+0800 [INFO] (1050, "Table 'log_alarm' already exists")
2017-07-14 13:25:42+0800 [INFO] (1050, "Table 'devicetree' already exists")
2017-07-14 13:25:42+0800 [INFO] (1050, "Table 'authority' already exists")
2017-07-14 13:25:42+0800 [INFO] (1050, "Table 'identity' already exists")
2017-07-14 13:25:42+0800 [INFO] (1050, "Table 'authorization' already exists")
2017-07-14 13:25:42+0800 [INFO] (1050, "Table 'user' already exists")
2017-07-14 13:25:42+0800 [INFO] TreeNode has been initialized
2017-07-14 13:25:42+0800 [INFO] FeedBack has been initialized
2017-07-14 13:25:42+0800 [INFO] Administrator has been initialized
2017-07-14 13:25:42+0800 [INFO] Opened iptalk.db successfully
2017-07-14 13:25:42+0800 [INFO] OrderFactory starting on 12200
2017-07-14 13:25:42+0800 [INFO] Starting factory <devices.iptalk.factory.OrderFactory instance at 0x000000000475D8C8>
2017-07-14 13:25:42+0800 [INFO] QueryFactory starting on 34952
2017-07-14 13:25:42+0800 [INFO] Starting factory <devices.iptalk.factory.QueryFactory instance at 0x00000000047E81C8>
2017-07-14 13:25:42+0800 [INFO] AudioFactory starting on 3478
2017-07-14 13:25:42+0800 [INFO] Starting protocol <devices.iptalk.factory.AudioFactory instance at 0x00000000047ECE88>
2017-07-14 13:25:42+0800 [INFO] VideoFactory starting on 3456
2017-07-14 13:25:42+0800 [INFO] Starting protocol <devices.iptalk.factory.VideoFactory instance at 0x00000000047F0308>
2017-07-14 13:25:42+0800 [INFO] IPTalkWebSite starting on 85
2017-07-14 13:25:42+0800 [INFO] Starting factory <web.site.IPTalkWebSite instance at 0x00000000047F0648>
2017-07-14 13:25:42+0800 [INFO] WebSocketFactory starting on 89
2017-07-14 13:25:42+0800 [INFO] Starting factory <devices.iptalk.factory.WebSocketFactory instance at 0x00000000047FF148>
2017-07-14 13:25:42+0800 [INFO] TCPPushFactory starting on 90
2017-07-14 13:25:42+0800 [INFO] Starting factory <devices.iptalk.factory.TCPPushFactory instance at 0x00000000047FF608>
2017-07-14 13:25:42+0800 [INFO] SearchFactory starting on 3550
2017-07-14 13:25:42+0800 [INFO] Starting protocol <devices.iptalk.factory.SearchFactory instance at 0x00000000047FFAC8>
2017-07-14 13:25:42+0800 [INFO] MyFTPFactory starting on 21
2017-07-14 13:25:42+0800 [INFO] Starting factory <devices.iptalk.ftp.MyFTPFactory instance at 0x00000000047FFE48>
2017-07-14 13:25:44+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 50692) .
2017-07-14 13:25:44+0800 [INFO] WebSocket keepAlive is on
2017-07-14 13:25:44+0800 [INFO] websocket is connected.
2017-07-14 13:26:08+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:05:26:07 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 13:26:08+0800 [ERROR] Unhandled Error
	Traceback (most recent call last):
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 1442, in dataReceived
	    finishCallback(data[contentLength:])
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 1768, in _finishRequestBody
	    self.allContentReceived()
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 1845, in allContentReceived
	    req.requestReceived(command, path, version)
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 766, in requestReceived
	    self.process()
	--- <exception caught here> ---
	  File "C:\Python27\lib\site-packages\twisted\web\server.py", line 183, in process
	    self.render(resrc)
	  File "C:\Python27\lib\site-packages\twisted\web\server.py", line 234, in render
	    body = resrc.render(self)
	  File "C:\Python27\lib\site-packages\twisted\web\resource.py", line 250, in render
	    return m(request)
	  File "D:/Documents/catcuts/project/iot_combination\devices\iptalk\webmanager.py", line 367, in render_POST
	    finish(request, self.exeSysUpgrade(request))
	  File "D:/Documents/catcuts/project/iot_combination\devices\iptalk\webmanager.py", line 128, in finish
	    request.write(results)
	  File "C:\Python27\lib\site-packages\twisted\web\server.py", line 213, in write
	    http.Request.write(self, data)
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 952, in write
	    self.sentLength = self.sentLength + len(data)
	exceptions.TypeError: object of type 'NoneType' has no len()
	
2017-07-14 13:26:08+0800 [ERROR] Unhandled Error
	Traceback (most recent call last):
	  File "C:\Python27\lib\site-packages\twisted\web\server.py", line 319, in processingFailed
	    util.formatFailure(reason) +
	  File "C:\Python27\lib\site-packages\twisted\web\util.py", line 432, in formatFailure
	    flattenString(None, FailureElement(myFailure)).addBoth(result.append)
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 410, in flattenString
	    d = flatten(request, root, io.write)
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 392, in flatten
	    _writeFlattenedData(state, write, result)
	--- <exception caught here> ---
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 353, in _writeFlattenedData
	    element = next(state)
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 321, in _flattenTree
	    raise FlattenerError(e, roots, extract_tb(exc_info()[2]))
	twisted.web.error.FlattenerError: Exception while flattening:
	  <twisted.web.util.FailureElement object at 0x000000000489FD68>
	  [Tag(u'div', children=[u'\n', u'  ', Tag(u'style', attributes=OrderedDict([(u'type', u'text/css')]), children=[u'\n', u'    div.error {', u'\n', u'      color: red;', u'\n', u'      font-family: Verdana, Arial, helvetica, sans-serif;', u'\n', u'      font-weight: bold;', u'\n', u'    }', u'\n', u'\n', u'    div {', u'\n', u'      font-family: Verdana, Arial, helvetica, sans-serif;', u'\n', u'    }', u'\n', u'\n', u'    div.stackTrace {', u'\n', u'    }', u'\n', u'\n', u'    div.frame {', u'\n', u'      padding: 1em;', u'\n', u'      background: white;', u'\n', u'      border-bottom: thin black dashed;', u'\n', u'    }', u'\n', u'\n', u'    div.frame:first-child {', u'\n', u'      padding: 1em;', u'\n', u'      background: white;', u'\n', u'      border-top: thin black dashed;', u'\n', u'      border-bottom: thin black dashed;', u'\n', u'    }', u'\n', u'\n', u'    div.location {', u'\n', u'    }', u'\n', u'\n', u'    span.function {', u'\n', u'      font-weight: bold;', u'\n', u'      font-family: "Courier New", courier, monospace;', u'\n', u'    }', u'\n', u'\n', u'    div.snippet {', u'\n', u'      margin-bottom: 0.5em;', u'\n', u'      margin-left: 1em;', u'\n', u'      background: #FFFFDD;', u'\n', u'    }', u'\n', u'\n', u'    div.snippetHighlightLine {', u'\n', u'      color: red;', u'\n', u'    }', u'\n', u'\n', u'    span.code {', u'\n', u'      font-family: "Courier New", courier, monospace;', u'\n', u'    }', u'\n', u'  ']), u'\n', u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'error')]), children=[u'\n', u'    ', Tag(u'span'), u': ', Tag(u'span'), u'\n', u'  ']), u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'stackTrace')]), children=[u'\n', u'    ', Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']), u'\n', u'  ']), u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'error')]), children=[u'\n', u'    ', Tag(u'span'), u': ', Tag(u'span'), u'\n', u'  ']), u'\n'])]
	  Tag <div>
	  [u'\n', u'  ', Tag(u'style', attributes=OrderedDict([(u'type', u'text/css')]), children=[u'\n', u'    div.error {', u'\n', u'      color: red;', u'\n', u'      font-family: Verdana, Arial, helvetica, sans-serif;', u'\n', u'      font-weight: bold;', u'\n', u'    }', u'\n', u'\n', u'    div {', u'\n', u'      font-family: Verdana, Arial, helvetica, sans-serif;', u'\n', u'    }', u'\n', u'\n', u'    div.stackTrace {', u'\n', u'    }', u'\n', u'\n', u'    div.frame {', u'\n', u'      padding: 1em;', u'\n', u'      background: white;', u'\n', u'      border-bottom: thin black dashed;', u'\n', u'    }', u'\n', u'\n', u'    div.frame:first-child {', u'\n', u'      padding: 1em;', u'\n', u'      background: white;', u'\n', u'      border-top: thin black dashed;', u'\n', u'      border-bottom: thin black dashed;', u'\n', u'    }', u'\n', u'\n', u'    div.location {', u'\n', u'    }', u'\n', u'\n', u'    span.function {', u'\n', u'      font-weight: bold;', u'\n', u'      font-family: "Courier New", courier, monospace;', u'\n', u'    }', u'\n', u'\n', u'    div.snippet {', u'\n', u'      margin-bottom: 0.5em;', u'\n', u'      margin-left: 1em;', u'\n', u'      background: #FFFFDD;', u'\n', u'    }', u'\n', u'\n', u'    div.snippetHighlightLine {', u'\n', u'      color: red;', u'\n', u'    }', u'\n', u'\n', u'    span.code {', u'\n', u'      font-family: "Courier New", courier, monospace;', u'\n', u'    }', u'\n', u'  ']), u'\n', u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'error')]), children=[u'\n', u'    ', Tag(u'span'), u': ', Tag(u'span'), u'\n', u'  ']), u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'stackTrace')]), children=[u'\n', u'    ', Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']), u'\n', u'  ']), u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'error')]), children=[u'\n', u'    ', Tag(u'span'), u': ', Tag(u'span'), u'\n', u'  ']), u'\n']
	  Tag <div>
	  <twisted.web.util._StackElement object at 0x00000000048E0F60>
	  [Tag(u'div', attributes=OrderedDict([(u'class', u'stackTrace')]), children=[u'\n', u'    ', Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']), u'\n', u'  '])]
	  Tag <div>
	  [u'\n', u'    ', Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']), u'\n', u'  ']
	  Tag <div>
	  [<twisted.web.util._FrameElement object at 0x00000000048F3470>, <twisted.web.util._FrameElement object at 0x00000000048F36D8>, <twisted.web.util._FrameElement object at 0x00000000048F3940>, <twisted.web.util._FrameElement object at 0x00000000048F3BA8>, <twisted.web.util._FrameElement object at 0x00000000048F3E10>, <twisted.web.util._FrameElement object at 0x00000000049090B8>, <twisted.web.util._FrameElement object at 0x0000000004909320>]
	  <twisted.web.util._FrameElement object at 0x00000000048F3BA8>
	  [Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    '])]
	  Tag <div>
	  [u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']
	  Tag <div>
	  <twisted.web.util._SourceFragmentElement object at 0x0000000004909518>
	  [Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      '])]
	  Tag <div>
	  [u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']
	  Tag <div>
	  <generator object sourceLines at 0x000000000490F0D8>
	  <twisted.web.util._SourceLineElement object at 0x0000000004909828>
	  [Tag(u'div', attributes=OrderedDict([('class', 'snippetLine')]), children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        '])]
	  Tag <div>
	  [u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']
	  Tag <code>
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 312, in _flattenTree
	    element = next(stack[-1])
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 231, in _flattenElement
	    result = renderMethod(request, rootClone)
	  File "C:\Python27\lib\site-packages\twisted\web\util.py", line 171, in sourceLine
	    return tag(self.source.replace('  ', u' \N{NO-BREAK SPACE}'))
	UnicodeDecodeError: 'ascii' codec can't decode byte 0xe6 in position 10: ordinal not in range(128)
	
	
2017-07-14 13:26:19+0800 [INFO] Starting SmartTalk IoTService.Version is v0.3.6
2017-07-14 13:26:19+0800 [INFO] (1050, "Table 'device' already exists")
2017-07-14 13:26:19+0800 [INFO] (1050, "Table 'devicepanel' already exists")
2017-07-14 13:26:19+0800 [INFO] (1050, "Table 'deviceio' already exists")
2017-07-14 13:26:19+0800 [INFO] (1050, "Table 'deviceaudiovideo' already exists")
2017-07-14 13:26:19+0800 [INFO] (1050, "Table 'devicealarm' already exists")
2017-07-14 13:26:19+0800 [INFO] (1050, "Table 'feedback' already exists")
2017-07-14 13:26:19+0800 [INFO] (1050, "Table 'log_call' already exists")
2017-07-14 13:26:19+0800 [INFO] (1050, "Table 'log_device' already exists")
2017-07-14 13:26:19+0800 [INFO] (1050, "Table 'log_alarm' already exists")
2017-07-14 13:26:19+0800 [INFO] (1050, "Table 'devicetree' already exists")
2017-07-14 13:26:19+0800 [INFO] (1050, "Table 'authority' already exists")
2017-07-14 13:26:19+0800 [INFO] (1050, "Table 'identity' already exists")
2017-07-14 13:26:19+0800 [INFO] (1050, "Table 'authorization' already exists")
2017-07-14 13:26:19+0800 [INFO] (1050, "Table 'user' already exists")
2017-07-14 13:26:19+0800 [INFO] TreeNode has been initialized
2017-07-14 13:26:19+0800 [INFO] FeedBack has been initialized
2017-07-14 13:26:19+0800 [INFO] Administrator has been initialized
2017-07-14 13:26:19+0800 [INFO] Opened iptalk.db successfully
2017-07-14 13:26:19+0800 [INFO] OrderFactory starting on 12200
2017-07-14 13:26:19+0800 [INFO] Starting factory <devices.iptalk.factory.OrderFactory instance at 0x00000000046C68C8>
2017-07-14 13:26:19+0800 [INFO] QueryFactory starting on 34952
2017-07-14 13:26:19+0800 [INFO] Starting factory <devices.iptalk.factory.QueryFactory instance at 0x00000000047591C8>
2017-07-14 13:26:19+0800 [INFO] AudioFactory starting on 3478
2017-07-14 13:26:19+0800 [INFO] Starting protocol <devices.iptalk.factory.AudioFactory instance at 0x000000000475DE88>
2017-07-14 13:26:19+0800 [INFO] VideoFactory starting on 3456
2017-07-14 13:26:19+0800 [INFO] Starting protocol <devices.iptalk.factory.VideoFactory instance at 0x0000000004761308>
2017-07-14 13:26:19+0800 [INFO] IPTalkWebSite starting on 85
2017-07-14 13:26:19+0800 [INFO] Starting factory <web.site.IPTalkWebSite instance at 0x0000000004761648>
2017-07-14 13:26:19+0800 [INFO] WebSocketFactory starting on 89
2017-07-14 13:26:19+0800 [INFO] Starting factory <devices.iptalk.factory.WebSocketFactory instance at 0x000000000476F088>
2017-07-14 13:26:19+0800 [INFO] TCPPushFactory starting on 90
2017-07-14 13:26:19+0800 [INFO] Starting factory <devices.iptalk.factory.TCPPushFactory instance at 0x000000000476F548>
2017-07-14 13:26:19+0800 [INFO] SearchFactory starting on 3550
2017-07-14 13:26:19+0800 [INFO] Starting protocol <devices.iptalk.factory.SearchFactory instance at 0x000000000476FA08>
2017-07-14 13:26:19+0800 [INFO] MyFTPFactory starting on 21
2017-07-14 13:26:19+0800 [INFO] Starting factory <devices.iptalk.ftp.MyFTPFactory instance at 0x000000000476FD88>
2017-07-14 13:26:19+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 50766) .
2017-07-14 13:26:19+0800 [INFO] WebSocket keepAlive is on
2017-07-14 13:26:19+0800 [INFO] websocket is connected.
2017-07-14 13:31:27+0800 [INFO] delete websock TCP connect:ba63022c8a9b44a5b33b91dfbe914c73
2017-07-14 13:31:27+0800 [INFO] websocket is disconnected.
2017-07-14 13:31:43+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 51604) .
2017-07-14 13:31:43+0800 [INFO] WebSocket keepAlive is on
2017-07-14 13:31:43+0800 [INFO] websocket is connected.
2017-07-14 13:31:43+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:05:31:43 +0000] "GET /devices/iptalk/getiptalkdevicemessage HTTP/1.1" 200 83 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 13:32:03+0800 [INFO] delete websock TCP connect:d1baecfaa1ff4e7b9d41a8e5bf33a5c5
2017-07-14 13:32:03+0800 [INFO] websocket is disconnected.
2017-07-14 13:32:04+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 51653) .
2017-07-14 13:32:04+0800 [INFO] WebSocket keepAlive is on
2017-07-14 13:32:04+0800 [INFO] websocket is connected.
2017-07-14 13:33:08+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:05:33:08 +0000] "GET /devices/iptalk/getiptalkdevicemessage HTTP/1.1" 200 83 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 13:33:09+0800 [INFO] delete websock TCP connect:b3ad92fac56f4f4ba9af24dbe2f826c5
2017-07-14 13:33:09+0800 [INFO] websocket is disconnected.
2017-07-14 13:33:10+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:05:33:09 +0000] "GET /devices/iptalk/getiptalkdevicemessage HTTP/1.1" 200 83 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 13:33:10+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 51764) .
2017-07-14 13:33:10+0800 [INFO] WebSocket keepAlive is on
2017-07-14 13:33:10+0800 [INFO] websocket is connected.
2017-07-14 13:33:18+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:05:33:17 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 13:33:18+0800 [ERROR] Unhandled Error
	Traceback (most recent call last):
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 1442, in dataReceived
	    finishCallback(data[contentLength:])
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 1768, in _finishRequestBody
	    self.allContentReceived()
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 1845, in allContentReceived
	    req.requestReceived(command, path, version)
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 766, in requestReceived
	    self.process()
	--- <exception caught here> ---
	  File "C:\Python27\lib\site-packages\twisted\web\server.py", line 183, in process
	    self.render(resrc)
	  File "C:\Python27\lib\site-packages\twisted\web\server.py", line 234, in render
	    body = resrc.render(self)
	  File "C:\Python27\lib\site-packages\twisted\web\resource.py", line 250, in render
	    return m(request)
	  File "D:/Documents/catcuts/project/iot_combination\devices\iptalk\webmanager.py", line 367, in render_POST
	    finish(request, self.exeSysUpgrade(request))
	  File "D:/Documents/catcuts/project/iot_combination\devices\iptalk\webmanager.py", line 128, in finish
	    request.write(results)
	  File "C:\Python27\lib\site-packages\twisted\web\server.py", line 213, in write
	    http.Request.write(self, data)
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 952, in write
	    self.sentLength = self.sentLength + len(data)
	exceptions.TypeError: object of type 'NoneType' has no len()
	
2017-07-14 13:33:18+0800 [ERROR] Unhandled Error
	Traceback (most recent call last):
	  File "C:\Python27\lib\site-packages\twisted\web\server.py", line 319, in processingFailed
	    util.formatFailure(reason) +
	  File "C:\Python27\lib\site-packages\twisted\web\util.py", line 432, in formatFailure
	    flattenString(None, FailureElement(myFailure)).addBoth(result.append)
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 410, in flattenString
	    d = flatten(request, root, io.write)
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 392, in flatten
	    _writeFlattenedData(state, write, result)
	--- <exception caught here> ---
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 353, in _writeFlattenedData
	    element = next(state)
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 321, in _flattenTree
	    raise FlattenerError(e, roots, extract_tb(exc_info()[2]))
	twisted.web.error.FlattenerError: Exception while flattening:
	  <twisted.web.util.FailureElement object at 0x000000000563E438>
	  [Tag(u'div', children=[u'\n', u'  ', Tag(u'style', attributes=OrderedDict([(u'type', u'text/css')]), children=[u'\n', u'    div.error {', u'\n', u'      color: red;', u'\n', u'      font-family: Verdana, Arial, helvetica, sans-serif;', u'\n', u'      font-weight: bold;', u'\n', u'    }', u'\n', u'\n', u'    div {', u'\n', u'      font-family: Verdana, Arial, helvetica, sans-serif;', u'\n', u'    }', u'\n', u'\n', u'    div.stackTrace {', u'\n', u'    }', u'\n', u'\n', u'    div.frame {', u'\n', u'      padding: 1em;', u'\n', u'      background: white;', u'\n', u'      border-bottom: thin black dashed;', u'\n', u'    }', u'\n', u'\n', u'    div.frame:first-child {', u'\n', u'      padding: 1em;', u'\n', u'      background: white;', u'\n', u'      border-top: thin black dashed;', u'\n', u'      border-bottom: thin black dashed;', u'\n', u'    }', u'\n', u'\n', u'    div.location {', u'\n', u'    }', u'\n', u'\n', u'    span.function {', u'\n', u'      font-weight: bold;', u'\n', u'      font-family: "Courier New", courier, monospace;', u'\n', u'    }', u'\n', u'\n', u'    div.snippet {', u'\n', u'      margin-bottom: 0.5em;', u'\n', u'      margin-left: 1em;', u'\n', u'      background: #FFFFDD;', u'\n', u'    }', u'\n', u'\n', u'    div.snippetHighlightLine {', u'\n', u'      color: red;', u'\n', u'    }', u'\n', u'\n', u'    span.code {', u'\n', u'      font-family: "Courier New", courier, monospace;', u'\n', u'    }', u'\n', u'  ']), u'\n', u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'error')]), children=[u'\n', u'    ', Tag(u'span'), u': ', Tag(u'span'), u'\n', u'  ']), u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'stackTrace')]), children=[u'\n', u'    ', Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']), u'\n', u'  ']), u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'error')]), children=[u'\n', u'    ', Tag(u'span'), u': ', Tag(u'span'), u'\n', u'  ']), u'\n'])]
	  Tag <div>
	  [u'\n', u'  ', Tag(u'style', attributes=OrderedDict([(u'type', u'text/css')]), children=[u'\n', u'    div.error {', u'\n', u'      color: red;', u'\n', u'      font-family: Verdana, Arial, helvetica, sans-serif;', u'\n', u'      font-weight: bold;', u'\n', u'    }', u'\n', u'\n', u'    div {', u'\n', u'      font-family: Verdana, Arial, helvetica, sans-serif;', u'\n', u'    }', u'\n', u'\n', u'    div.stackTrace {', u'\n', u'    }', u'\n', u'\n', u'    div.frame {', u'\n', u'      padding: 1em;', u'\n', u'      background: white;', u'\n', u'      border-bottom: thin black dashed;', u'\n', u'    }', u'\n', u'\n', u'    div.frame:first-child {', u'\n', u'      padding: 1em;', u'\n', u'      background: white;', u'\n', u'      border-top: thin black dashed;', u'\n', u'      border-bottom: thin black dashed;', u'\n', u'    }', u'\n', u'\n', u'    div.location {', u'\n', u'    }', u'\n', u'\n', u'    span.function {', u'\n', u'      font-weight: bold;', u'\n', u'      font-family: "Courier New", courier, monospace;', u'\n', u'    }', u'\n', u'\n', u'    div.snippet {', u'\n', u'      margin-bottom: 0.5em;', u'\n', u'      margin-left: 1em;', u'\n', u'      background: #FFFFDD;', u'\n', u'    }', u'\n', u'\n', u'    div.snippetHighlightLine {', u'\n', u'      color: red;', u'\n', u'    }', u'\n', u'\n', u'    span.code {', u'\n', u'      font-family: "Courier New", courier, monospace;', u'\n', u'    }', u'\n', u'  ']), u'\n', u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'error')]), children=[u'\n', u'    ', Tag(u'span'), u': ', Tag(u'span'), u'\n', u'  ']), u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'stackTrace')]), children=[u'\n', u'    ', Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']), u'\n', u'  ']), u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'error')]), children=[u'\n', u'    ', Tag(u'span'), u': ', Tag(u'span'), u'\n', u'  ']), u'\n']
	  Tag <div>
	  <twisted.web.util._StackElement object at 0x00000000056BF630>
	  [Tag(u'div', attributes=OrderedDict([(u'class', u'stackTrace')]), children=[u'\n', u'    ', Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']), u'\n', u'  '])]
	  Tag <div>
	  [u'\n', u'    ', Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']), u'\n', u'  ']
	  Tag <div>
	  [<twisted.web.util._FrameElement object at 0x00000000056BFB00>, <twisted.web.util._FrameElement object at 0x00000000056BFD68>, <twisted.web.util._FrameElement object at 0x00000000056BFFD0>, <twisted.web.util._FrameElement object at 0x00000000056DA278>, <twisted.web.util._FrameElement object at 0x00000000056DA4E0>, <twisted.web.util._FrameElement object at 0x00000000056DA748>, <twisted.web.util._FrameElement object at 0x00000000056DA9B0>]
	  <twisted.web.util._FrameElement object at 0x00000000056DA278>
	  [Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    '])]
	  Tag <div>
	  [u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']
	  Tag <div>
	  <twisted.web.util._SourceFragmentElement object at 0x00000000056DABA8>
	  [Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      '])]
	  Tag <div>
	  [u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']
	  Tag <div>
	  <generator object sourceLines at 0x00000000056C07E0>
	  <twisted.web.util._SourceLineElement object at 0x00000000056DAEB8>
	  [Tag(u'div', attributes=OrderedDict([('class', 'snippetLine')]), children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        '])]
	  Tag <div>
	  [u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']
	  Tag <code>
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 312, in _flattenTree
	    element = next(stack[-1])
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 231, in _flattenElement
	    result = renderMethod(request, rootClone)
	  File "C:\Python27\lib\site-packages\twisted\web\util.py", line 171, in sourceLine
	    return tag(self.source.replace('  ', u' \N{NO-BREAK SPACE}'))
	UnicodeDecodeError: 'ascii' codec can't decode byte 0xe6 in position 10: ordinal not in range(128)
	
	
2017-07-14 13:34:08+0800 [INFO] Starting SmartTalk IoTService.Version is v0.3.6
2017-07-14 13:34:08+0800 [INFO] (1050, "Table 'device' already exists")
2017-07-14 13:34:08+0800 [INFO] (1050, "Table 'devicepanel' already exists")
2017-07-14 13:34:08+0800 [INFO] (1050, "Table 'deviceio' already exists")
2017-07-14 13:34:08+0800 [INFO] (1050, "Table 'deviceaudiovideo' already exists")
2017-07-14 13:34:08+0800 [INFO] (1050, "Table 'devicealarm' already exists")
2017-07-14 13:34:08+0800 [INFO] (1050, "Table 'feedback' already exists")
2017-07-14 13:34:08+0800 [INFO] (1050, "Table 'log_call' already exists")
2017-07-14 13:34:08+0800 [INFO] (1050, "Table 'log_device' already exists")
2017-07-14 13:34:08+0800 [INFO] (1050, "Table 'log_alarm' already exists")
2017-07-14 13:34:08+0800 [INFO] (1050, "Table 'devicetree' already exists")
2017-07-14 13:34:08+0800 [INFO] (1050, "Table 'authority' already exists")
2017-07-14 13:34:08+0800 [INFO] (1050, "Table 'identity' already exists")
2017-07-14 13:34:08+0800 [INFO] (1050, "Table 'authorization' already exists")
2017-07-14 13:34:08+0800 [INFO] (1050, "Table 'user' already exists")
2017-07-14 13:34:08+0800 [INFO] TreeNode has been initialized
2017-07-14 13:34:08+0800 [INFO] FeedBack has been initialized
2017-07-14 13:34:08+0800 [INFO] Administrator has been initialized
2017-07-14 13:34:08+0800 [INFO] Opened iptalk.db successfully
2017-07-14 13:34:08+0800 [INFO] OrderFactory starting on 12200
2017-07-14 13:34:08+0800 [INFO] Starting factory <devices.iptalk.factory.OrderFactory instance at 0x00000000045788C8>
2017-07-14 13:34:08+0800 [INFO] QueryFactory starting on 34952
2017-07-14 13:34:08+0800 [INFO] Starting factory <devices.iptalk.factory.QueryFactory instance at 0x00000000046031C8>
2017-07-14 13:34:08+0800 [INFO] AudioFactory starting on 3478
2017-07-14 13:34:08+0800 [INFO] Starting protocol <devices.iptalk.factory.AudioFactory instance at 0x0000000004607E88>
2017-07-14 13:34:08+0800 [INFO] VideoFactory starting on 3456
2017-07-14 13:34:08+0800 [INFO] Starting protocol <devices.iptalk.factory.VideoFactory instance at 0x000000000460B308>
2017-07-14 13:34:08+0800 [INFO] IPTalkWebSite starting on 85
2017-07-14 13:34:08+0800 [INFO] Starting factory <web.site.IPTalkWebSite instance at 0x000000000460B648>
2017-07-14 13:34:08+0800 [INFO] WebSocketFactory starting on 89
2017-07-14 13:34:08+0800 [INFO] Starting factory <devices.iptalk.factory.WebSocketFactory instance at 0x000000000461A148>
2017-07-14 13:34:08+0800 [INFO] TCPPushFactory starting on 90
2017-07-14 13:34:08+0800 [INFO] Starting factory <devices.iptalk.factory.TCPPushFactory instance at 0x000000000461A608>
2017-07-14 13:34:08+0800 [INFO] SearchFactory starting on 3550
2017-07-14 13:34:08+0800 [INFO] Starting protocol <devices.iptalk.factory.SearchFactory instance at 0x000000000461AAC8>
2017-07-14 13:34:09+0800 [INFO] MyFTPFactory starting on 21
2017-07-14 13:34:09+0800 [INFO] Starting factory <devices.iptalk.ftp.MyFTPFactory instance at 0x000000000461AE48>
2017-07-14 13:34:09+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 51872) .
2017-07-14 13:34:09+0800 [INFO] WebSocket keepAlive is on
2017-07-14 13:34:09+0800 [INFO] websocket is connected.
2017-07-14 13:34:12+0800 [INFO] delete websock TCP connect:886b07e4b9524208a803fd30b83a7d3c
2017-07-14 13:34:12+0800 [INFO] websocket is disconnected.
2017-07-14 13:34:13+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 51898) .
2017-07-14 13:34:13+0800 [INFO] WebSocket keepAlive is on
2017-07-14 13:34:13+0800 [INFO] websocket is connected.
2017-07-14 13:34:13+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:05:34:12 +0000] "GET /devices/iptalk/getiptalkdevicemessage HTTP/1.1" 200 83 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 13:34:25+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:05:34:24 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 13:34:25+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:05:34:24 +0000] "POST /upgrade/sysUpgrade HTTP/1.1" 200 21 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 13:57:09+0800 [INFO] Starting SmartTalk IoTService.Version is v0.3.6
2017-07-14 13:57:09+0800 [INFO] (1050, "Table 'device' already exists")
2017-07-14 13:57:09+0800 [INFO] (1050, "Table 'devicepanel' already exists")
2017-07-14 13:57:09+0800 [INFO] (1050, "Table 'deviceio' already exists")
2017-07-14 13:57:09+0800 [INFO] (1050, "Table 'deviceaudiovideo' already exists")
2017-07-14 13:57:09+0800 [INFO] (1050, "Table 'devicealarm' already exists")
2017-07-14 13:57:09+0800 [INFO] (1050, "Table 'feedback' already exists")
2017-07-14 13:57:09+0800 [INFO] (1050, "Table 'log_call' already exists")
2017-07-14 13:57:09+0800 [INFO] (1050, "Table 'log_device' already exists")
2017-07-14 13:57:09+0800 [INFO] (1050, "Table 'log_alarm' already exists")
2017-07-14 13:57:09+0800 [INFO] (1050, "Table 'devicetree' already exists")
2017-07-14 13:57:09+0800 [INFO] (1050, "Table 'authority' already exists")
2017-07-14 13:57:09+0800 [INFO] (1050, "Table 'identity' already exists")
2017-07-14 13:57:09+0800 [INFO] (1050, "Table 'authorization' already exists")
2017-07-14 13:57:09+0800 [INFO] (1050, "Table 'user' already exists")
2017-07-14 13:57:09+0800 [INFO] TreeNode has been initialized
2017-07-14 13:57:09+0800 [INFO] FeedBack has been initialized
2017-07-14 13:57:09+0800 [INFO] Administrator has been initialized
2017-07-14 13:57:09+0800 [INFO] Opened iptalk.db successfully
2017-07-14 13:57:10+0800 [INFO] OrderFactory starting on 12200
2017-07-14 13:57:10+0800 [INFO] Starting factory <devices.iptalk.factory.OrderFactory instance at 0x000000000467E8C8>
2017-07-14 13:57:10+0800 [INFO] QueryFactory starting on 34952
2017-07-14 13:57:10+0800 [INFO] Starting factory <devices.iptalk.factory.QueryFactory instance at 0x00000000047091C8>
2017-07-14 13:57:10+0800 [INFO] AudioFactory starting on 3478
2017-07-14 13:57:10+0800 [INFO] Starting protocol <devices.iptalk.factory.AudioFactory instance at 0x000000000470DE88>
2017-07-14 13:57:10+0800 [INFO] VideoFactory starting on 3456
2017-07-14 13:57:10+0800 [INFO] Starting protocol <devices.iptalk.factory.VideoFactory instance at 0x0000000004711308>
2017-07-14 13:57:10+0800 [INFO] IPTalkWebSite starting on 85
2017-07-14 13:57:10+0800 [INFO] Starting factory <web.site.IPTalkWebSite instance at 0x0000000004711648>
2017-07-14 13:57:10+0800 [INFO] WebSocketFactory starting on 89
2017-07-14 13:57:10+0800 [INFO] Starting factory <devices.iptalk.factory.WebSocketFactory instance at 0x000000000471F148>
2017-07-14 13:57:10+0800 [INFO] TCPPushFactory starting on 90
2017-07-14 13:57:10+0800 [INFO] Starting factory <devices.iptalk.factory.TCPPushFactory instance at 0x000000000471F608>
2017-07-14 13:57:10+0800 [INFO] SearchFactory starting on 3550
2017-07-14 13:57:10+0800 [INFO] Starting protocol <devices.iptalk.factory.SearchFactory instance at 0x000000000471FAC8>
2017-07-14 13:57:10+0800 [INFO] MyFTPFactory starting on 21
2017-07-14 13:57:10+0800 [INFO] Starting factory <devices.iptalk.ftp.MyFTPFactory instance at 0x000000000471FE48>
2017-07-14 13:57:15+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 54003) .
2017-07-14 13:57:15+0800 [INFO] WebSocket keepAlive is on
2017-07-14 13:57:15+0800 [INFO] websocket is connected.
2017-07-14 13:57:18+0800 [INFO] delete websock TCP connect:7fb2ab476576445dac6a29f151d1e33b
2017-07-14 13:57:18+0800 [INFO] websocket is disconnected.
2017-07-14 13:57:23+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 54024) .
2017-07-14 13:57:23+0800 [INFO] WebSocket keepAlive is on
2017-07-14 13:57:23+0800 [INFO] websocket is connected.
2017-07-14 13:57:23+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:05:57:23 +0000] "GET /devices/iptalk/getiptalkdevicemessage HTTP/1.1" 200 83 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 13:57:37+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:05:57:37 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 13:57:37+0800 [ERROR] Unhandled Error
	Traceback (most recent call last):
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 1442, in dataReceived
	    finishCallback(data[contentLength:])
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 1768, in _finishRequestBody
	    self.allContentReceived()
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 1845, in allContentReceived
	    req.requestReceived(command, path, version)
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 766, in requestReceived
	    self.process()
	--- <exception caught here> ---
	  File "C:\Python27\lib\site-packages\twisted\web\server.py", line 183, in process
	    self.render(resrc)
	  File "C:\Python27\lib\site-packages\twisted\web\server.py", line 234, in render
	    body = resrc.render(self)
	  File "C:\Python27\lib\site-packages\twisted\web\resource.py", line 250, in render
	    return m(request)
	  File "D:/Documents/catcuts/project/iot_combination\devices\iptalk\webmanager.py", line 367, in render_POST
	    finish(request, self.exeSysUpgrade(request))
	  File "D:/Documents/catcuts/project/iot_combination\devices\iptalk\webmanager.py", line 128, in finish
	    request.write(results)
	  File "C:\Python27\lib\site-packages\twisted\web\server.py", line 213, in write
	    http.Request.write(self, data)
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 952, in write
	    self.sentLength = self.sentLength + len(data)
	exceptions.TypeError: object of type 'NoneType' has no len()
	
2017-07-14 13:57:37+0800 [ERROR] Unhandled Error
	Traceback (most recent call last):
	  File "C:\Python27\lib\site-packages\twisted\web\server.py", line 319, in processingFailed
	    util.formatFailure(reason) +
	  File "C:\Python27\lib\site-packages\twisted\web\util.py", line 432, in formatFailure
	    flattenString(None, FailureElement(myFailure)).addBoth(result.append)
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 410, in flattenString
	    d = flatten(request, root, io.write)
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 392, in flatten
	    _writeFlattenedData(state, write, result)
	--- <exception caught here> ---
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 353, in _writeFlattenedData
	    element = next(state)
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 321, in _flattenTree
	    raise FlattenerError(e, roots, extract_tb(exc_info()[2]))
	twisted.web.error.FlattenerError: Exception while flattening:
	  <twisted.web.util.FailureElement object at 0x000000000497E048>
	  [Tag(u'div', children=[u'\n', u'  ', Tag(u'style', attributes=OrderedDict([(u'type', u'text/css')]), children=[u'\n', u'    div.error {', u'\n', u'      color: red;', u'\n', u'      font-family: Verdana, Arial, helvetica, sans-serif;', u'\n', u'      font-weight: bold;', u'\n', u'    }', u'\n', u'\n', u'    div {', u'\n', u'      font-family: Verdana, Arial, helvetica, sans-serif;', u'\n', u'    }', u'\n', u'\n', u'    div.stackTrace {', u'\n', u'    }', u'\n', u'\n', u'    div.frame {', u'\n', u'      padding: 1em;', u'\n', u'      background: white;', u'\n', u'      border-bottom: thin black dashed;', u'\n', u'    }', u'\n', u'\n', u'    div.frame:first-child {', u'\n', u'      padding: 1em;', u'\n', u'      background: white;', u'\n', u'      border-top: thin black dashed;', u'\n', u'      border-bottom: thin black dashed;', u'\n', u'    }', u'\n', u'\n', u'    div.location {', u'\n', u'    }', u'\n', u'\n', u'    span.function {', u'\n', u'      font-weight: bold;', u'\n', u'      font-family: "Courier New", courier, monospace;', u'\n', u'    }', u'\n', u'\n', u'    div.snippet {', u'\n', u'      margin-bottom: 0.5em;', u'\n', u'      margin-left: 1em;', u'\n', u'      background: #FFFFDD;', u'\n', u'    }', u'\n', u'\n', u'    div.snippetHighlightLine {', u'\n', u'      color: red;', u'\n', u'    }', u'\n', u'\n', u'    span.code {', u'\n', u'      font-family: "Courier New", courier, monospace;', u'\n', u'    }', u'\n', u'  ']), u'\n', u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'error')]), children=[u'\n', u'    ', Tag(u'span'), u': ', Tag(u'span'), u'\n', u'  ']), u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'stackTrace')]), children=[u'\n', u'    ', Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']), u'\n', u'  ']), u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'error')]), children=[u'\n', u'    ', Tag(u'span'), u': ', Tag(u'span'), u'\n', u'  ']), u'\n'])]
	  Tag <div>
	  [u'\n', u'  ', Tag(u'style', attributes=OrderedDict([(u'type', u'text/css')]), children=[u'\n', u'    div.error {', u'\n', u'      color: red;', u'\n', u'      font-family: Verdana, Arial, helvetica, sans-serif;', u'\n', u'      font-weight: bold;', u'\n', u'    }', u'\n', u'\n', u'    div {', u'\n', u'      font-family: Verdana, Arial, helvetica, sans-serif;', u'\n', u'    }', u'\n', u'\n', u'    div.stackTrace {', u'\n', u'    }', u'\n', u'\n', u'    div.frame {', u'\n', u'      padding: 1em;', u'\n', u'      background: white;', u'\n', u'      border-bottom: thin black dashed;', u'\n', u'    }', u'\n', u'\n', u'    div.frame:first-child {', u'\n', u'      padding: 1em;', u'\n', u'      background: white;', u'\n', u'      border-top: thin black dashed;', u'\n', u'      border-bottom: thin black dashed;', u'\n', u'    }', u'\n', u'\n', u'    div.location {', u'\n', u'    }', u'\n', u'\n', u'    span.function {', u'\n', u'      font-weight: bold;', u'\n', u'      font-family: "Courier New", courier, monospace;', u'\n', u'    }', u'\n', u'\n', u'    div.snippet {', u'\n', u'      margin-bottom: 0.5em;', u'\n', u'      margin-left: 1em;', u'\n', u'      background: #FFFFDD;', u'\n', u'    }', u'\n', u'\n', u'    div.snippetHighlightLine {', u'\n', u'      color: red;', u'\n', u'    }', u'\n', u'\n', u'    span.code {', u'\n', u'      font-family: "Courier New", courier, monospace;', u'\n', u'    }', u'\n', u'  ']), u'\n', u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'error')]), children=[u'\n', u'    ', Tag(u'span'), u': ', Tag(u'span'), u'\n', u'  ']), u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'stackTrace')]), children=[u'\n', u'    ', Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']), u'\n', u'  ']), u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'error')]), children=[u'\n', u'    ', Tag(u'span'), u': ', Tag(u'span'), u'\n', u'  ']), u'\n']
	  Tag <div>
	  <twisted.web.util._StackElement object at 0x00000000057BF2B0>
	  [Tag(u'div', attributes=OrderedDict([(u'class', u'stackTrace')]), children=[u'\n', u'    ', Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']), u'\n', u'  '])]
	  Tag <div>
	  [u'\n', u'    ', Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']), u'\n', u'  ']
	  Tag <div>
	  [<twisted.web.util._FrameElement object at 0x00000000057BF780>, <twisted.web.util._FrameElement object at 0x00000000057BF9E8>, <twisted.web.util._FrameElement object at 0x00000000057BFC50>, <twisted.web.util._FrameElement object at 0x00000000057BFEB8>, <twisted.web.util._FrameElement object at 0x00000000057F8160>, <twisted.web.util._FrameElement object at 0x00000000057F83C8>, <twisted.web.util._FrameElement object at 0x00000000057F8630>]
	  <twisted.web.util._FrameElement object at 0x00000000057BFEB8>
	  [Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    '])]
	  Tag <div>
	  [u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']
	  Tag <div>
	  <twisted.web.util._SourceFragmentElement object at 0x00000000057F8828>
	  [Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      '])]
	  Tag <div>
	  [u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']
	  Tag <div>
	  <generator object sourceLines at 0x00000000057C33A8>
	  <twisted.web.util._SourceLineElement object at 0x00000000057F8B38>
	  [Tag(u'div', attributes=OrderedDict([('class', 'snippetLine')]), children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        '])]
	  Tag <div>
	  [u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']
	  Tag <code>
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 312, in _flattenTree
	    element = next(stack[-1])
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 231, in _flattenElement
	    result = renderMethod(request, rootClone)
	  File "C:\Python27\lib\site-packages\twisted\web\util.py", line 171, in sourceLine
	    return tag(self.source.replace('  ', u' \N{NO-BREAK SPACE}'))
	UnicodeDecodeError: 'ascii' codec can't decode byte 0xe6 in position 10: ordinal not in range(128)
	
	
2017-07-14 14:00:46+0800 [INFO] Starting SmartTalk IoTService.Version is v0.3.6
2017-07-14 14:00:46+0800 [INFO] (1050, "Table 'device' already exists")
2017-07-14 14:00:46+0800 [INFO] (1050, "Table 'devicepanel' already exists")
2017-07-14 14:00:46+0800 [INFO] (1050, "Table 'deviceio' already exists")
2017-07-14 14:00:46+0800 [INFO] (1050, "Table 'deviceaudiovideo' already exists")
2017-07-14 14:00:46+0800 [INFO] (1050, "Table 'devicealarm' already exists")
2017-07-14 14:00:46+0800 [INFO] (1050, "Table 'feedback' already exists")
2017-07-14 14:00:46+0800 [INFO] (1050, "Table 'log_call' already exists")
2017-07-14 14:00:46+0800 [INFO] (1050, "Table 'log_device' already exists")
2017-07-14 14:00:46+0800 [INFO] (1050, "Table 'log_alarm' already exists")
2017-07-14 14:00:46+0800 [INFO] (1050, "Table 'devicetree' already exists")
2017-07-14 14:00:46+0800 [INFO] (1050, "Table 'authority' already exists")
2017-07-14 14:00:46+0800 [INFO] (1050, "Table 'identity' already exists")
2017-07-14 14:00:46+0800 [INFO] (1050, "Table 'authorization' already exists")
2017-07-14 14:00:46+0800 [INFO] (1050, "Table 'user' already exists")
2017-07-14 14:00:46+0800 [INFO] TreeNode has been initialized
2017-07-14 14:00:46+0800 [INFO] FeedBack has been initialized
2017-07-14 14:00:46+0800 [INFO] Administrator has been initialized
2017-07-14 14:00:46+0800 [INFO] Opened iptalk.db successfully
2017-07-14 14:00:47+0800 [INFO] OrderFactory starting on 12200
2017-07-14 14:00:47+0800 [INFO] Starting factory <devices.iptalk.factory.OrderFactory instance at 0x00000000046688C8>
2017-07-14 14:00:47+0800 [INFO] QueryFactory starting on 34952
2017-07-14 14:00:47+0800 [INFO] Starting factory <devices.iptalk.factory.QueryFactory instance at 0x00000000046F31C8>
2017-07-14 14:00:47+0800 [INFO] AudioFactory starting on 3478
2017-07-14 14:00:47+0800 [INFO] Starting protocol <devices.iptalk.factory.AudioFactory instance at 0x00000000046F7E88>
2017-07-14 14:00:47+0800 [INFO] VideoFactory starting on 3456
2017-07-14 14:00:47+0800 [INFO] Starting protocol <devices.iptalk.factory.VideoFactory instance at 0x00000000046FB308>
2017-07-14 14:00:47+0800 [INFO] IPTalkWebSite starting on 85
2017-07-14 14:00:47+0800 [INFO] Starting factory <web.site.IPTalkWebSite instance at 0x00000000046FB648>
2017-07-14 14:00:47+0800 [INFO] WebSocketFactory starting on 89
2017-07-14 14:00:47+0800 [INFO] Starting factory <devices.iptalk.factory.WebSocketFactory instance at 0x000000000470A148>
2017-07-14 14:00:47+0800 [INFO] TCPPushFactory starting on 90
2017-07-14 14:00:47+0800 [INFO] Starting factory <devices.iptalk.factory.TCPPushFactory instance at 0x000000000470A608>
2017-07-14 14:00:47+0800 [INFO] SearchFactory starting on 3550
2017-07-14 14:00:47+0800 [INFO] Starting protocol <devices.iptalk.factory.SearchFactory instance at 0x000000000470AAC8>
2017-07-14 14:00:47+0800 [INFO] MyFTPFactory starting on 21
2017-07-14 14:00:47+0800 [INFO] Starting factory <devices.iptalk.ftp.MyFTPFactory instance at 0x000000000470AE48>
2017-07-14 14:00:47+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 54380) .
2017-07-14 14:00:47+0800 [INFO] WebSocket keepAlive is on
2017-07-14 14:00:47+0800 [INFO] websocket is connected.
2017-07-14 14:00:50+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:06:00:50 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 14:01:10+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:06:01:01 +0000] "POST /upgrade/sysUpgrade HTTP/1.1" 200 21 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 14:01:44+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:06:01:43 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 14:03:47+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:06:02:38 +0000] "POST /upgrade/sysUpgrade HTTP/1.1" 200 21 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 14:16:24+0800 [INFO] Starting SmartTalk IoTService.Version is v0.3.6
2017-07-14 14:16:24+0800 [INFO] (1050, "Table 'device' already exists")
2017-07-14 14:16:24+0800 [INFO] (1050, "Table 'devicepanel' already exists")
2017-07-14 14:16:24+0800 [INFO] (1050, "Table 'deviceio' already exists")
2017-07-14 14:16:25+0800 [INFO] (1050, "Table 'deviceaudiovideo' already exists")
2017-07-14 14:16:25+0800 [INFO] (1050, "Table 'devicealarm' already exists")
2017-07-14 14:16:25+0800 [INFO] (1050, "Table 'feedback' already exists")
2017-07-14 14:16:25+0800 [INFO] (1050, "Table 'log_call' already exists")
2017-07-14 14:16:25+0800 [INFO] (1050, "Table 'log_device' already exists")
2017-07-14 14:16:25+0800 [INFO] (1050, "Table 'log_alarm' already exists")
2017-07-14 14:16:25+0800 [INFO] (1050, "Table 'devicetree' already exists")
2017-07-14 14:16:25+0800 [INFO] (1050, "Table 'authority' already exists")
2017-07-14 14:16:25+0800 [INFO] (1050, "Table 'identity' already exists")
2017-07-14 14:16:25+0800 [INFO] (1050, "Table 'authorization' already exists")
2017-07-14 14:16:25+0800 [INFO] (1050, "Table 'user' already exists")
2017-07-14 14:16:25+0800 [INFO] TreeNode has been initialized
2017-07-14 14:16:25+0800 [INFO] FeedBack has been initialized
2017-07-14 14:16:25+0800 [INFO] Administrator has been initialized
2017-07-14 14:16:25+0800 [INFO] Opened iptalk.db successfully
2017-07-14 14:16:26+0800 [INFO] OrderFactory starting on 12200
2017-07-14 14:16:26+0800 [INFO] Starting factory <devices.iptalk.factory.OrderFactory instance at 0x00000000047598C8>
2017-07-14 14:16:26+0800 [INFO] QueryFactory starting on 34952
2017-07-14 14:16:26+0800 [INFO] Starting factory <devices.iptalk.factory.QueryFactory instance at 0x00000000047EF1C8>
2017-07-14 14:16:26+0800 [INFO] AudioFactory starting on 3478
2017-07-14 14:16:26+0800 [INFO] Starting protocol <devices.iptalk.factory.AudioFactory instance at 0x00000000047F2E88>
2017-07-14 14:16:26+0800 [INFO] VideoFactory starting on 3456
2017-07-14 14:16:26+0800 [INFO] Starting protocol <devices.iptalk.factory.VideoFactory instance at 0x00000000047F7308>
2017-07-14 14:16:26+0800 [INFO] IPTalkWebSite starting on 85
2017-07-14 14:16:26+0800 [INFO] Starting factory <web.site.IPTalkWebSite instance at 0x00000000047F7648>
2017-07-14 14:16:26+0800 [INFO] WebSocketFactory starting on 89
2017-07-14 14:16:26+0800 [INFO] Starting factory <devices.iptalk.factory.WebSocketFactory instance at 0x0000000004805148>
2017-07-14 14:16:26+0800 [INFO] TCPPushFactory starting on 90
2017-07-14 14:16:26+0800 [INFO] Starting factory <devices.iptalk.factory.TCPPushFactory instance at 0x0000000004805608>
2017-07-14 14:16:26+0800 [INFO] SearchFactory starting on 3550
2017-07-14 14:16:26+0800 [INFO] Starting protocol <devices.iptalk.factory.SearchFactory instance at 0x0000000004805AC8>
2017-07-14 14:16:26+0800 [INFO] MyFTPFactory starting on 21
2017-07-14 14:16:26+0800 [INFO] Starting factory <devices.iptalk.ftp.MyFTPFactory instance at 0x0000000004805E48>
2017-07-14 14:16:27+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 56010) .
2017-07-14 14:16:27+0800 [INFO] WebSocket keepAlive is on
2017-07-14 14:16:27+0800 [INFO] websocket is connected.
2017-07-14 14:17:00+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:06:17:00 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 14:18:17+0800 [ERROR] Unhandled Error
	Traceback (most recent call last):
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 1442, in dataReceived
	    finishCallback(data[contentLength:])
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 1768, in _finishRequestBody
	    self.allContentReceived()
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 1845, in allContentReceived
	    req.requestReceived(command, path, version)
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 766, in requestReceived
	    self.process()
	--- <exception caught here> ---
	  File "C:\Python27\lib\site-packages\twisted\web\server.py", line 183, in process
	    self.render(resrc)
	  File "C:\Python27\lib\site-packages\twisted\web\server.py", line 234, in render
	    body = resrc.render(self)
	  File "C:\Python27\lib\site-packages\twisted\web\resource.py", line 250, in render
	    return m(request)
	  File "D:/Documents/catcuts/project/iot_combination\devices\iptalk\webmanager.py", line 367, in render_POST
	    finish(request, self.exeSysUpgrade(request))
	  File "D:/Documents/catcuts/project/iot_combination\devices\iptalk\webmanager.py", line 128, in finish
	    request.write(results)
	  File "C:\Python27\lib\site-packages\twisted\web\server.py", line 213, in write
	    http.Request.write(self, data)
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 952, in write
	    self.sentLength = self.sentLength + len(data)
	exceptions.TypeError: object of type 'NoneType' has no len()
	
2017-07-14 14:18:17+0800 [ERROR] Unhandled Error
	Traceback (most recent call last):
	  File "C:\Python27\lib\site-packages\twisted\web\server.py", line 319, in processingFailed
	    util.formatFailure(reason) +
	  File "C:\Python27\lib\site-packages\twisted\web\util.py", line 432, in formatFailure
	    flattenString(None, FailureElement(myFailure)).addBoth(result.append)
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 410, in flattenString
	    d = flatten(request, root, io.write)
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 392, in flatten
	    _writeFlattenedData(state, write, result)
	--- <exception caught here> ---
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 353, in _writeFlattenedData
	    element = next(state)
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 321, in _flattenTree
	    raise FlattenerError(e, roots, extract_tb(exc_info()[2]))
	twisted.web.error.FlattenerError: Exception while flattening:
	  <twisted.web.util.FailureElement object at 0x00000000048A4E80>
	  [Tag(u'div', children=[u'\n', u'  ', Tag(u'style', attributes=OrderedDict([(u'type', u'text/css')]), children=[u'\n', u'    div.error {', u'\n', u'      color: red;', u'\n', u'      font-family: Verdana, Arial, helvetica, sans-serif;', u'\n', u'      font-weight: bold;', u'\n', u'    }', u'\n', u'\n', u'    div {', u'\n', u'      font-family: Verdana, Arial, helvetica, sans-serif;', u'\n', u'    }', u'\n', u'\n', u'    div.stackTrace {', u'\n', u'    }', u'\n', u'\n', u'    div.frame {', u'\n', u'      padding: 1em;', u'\n', u'      background: white;', u'\n', u'      border-bottom: thin black dashed;', u'\n', u'    }', u'\n', u'\n', u'    div.frame:first-child {', u'\n', u'      padding: 1em;', u'\n', u'      background: white;', u'\n', u'      border-top: thin black dashed;', u'\n', u'      border-bottom: thin black dashed;', u'\n', u'    }', u'\n', u'\n', u'    div.location {', u'\n', u'    }', u'\n', u'\n', u'    span.function {', u'\n', u'      font-weight: bold;', u'\n', u'      font-family: "Courier New", courier, monospace;', u'\n', u'    }', u'\n', u'\n', u'    div.snippet {', u'\n', u'      margin-bottom: 0.5em;', u'\n', u'      margin-left: 1em;', u'\n', u'      background: #FFFFDD;', u'\n', u'    }', u'\n', u'\n', u'    div.snippetHighlightLine {', u'\n', u'      color: red;', u'\n', u'    }', u'\n', u'\n', u'    span.code {', u'\n', u'      font-family: "Courier New", courier, monospace;', u'\n', u'    }', u'\n', u'  ']), u'\n', u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'error')]), children=[u'\n', u'    ', Tag(u'span'), u': ', Tag(u'span'), u'\n', u'  ']), u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'stackTrace')]), children=[u'\n', u'    ', Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']), u'\n', u'  ']), u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'error')]), children=[u'\n', u'    ', Tag(u'span'), u': ', Tag(u'span'), u'\n', u'  ']), u'\n'])]
	  Tag <div>
	  [u'\n', u'  ', Tag(u'style', attributes=OrderedDict([(u'type', u'text/css')]), children=[u'\n', u'    div.error {', u'\n', u'      color: red;', u'\n', u'      font-family: Verdana, Arial, helvetica, sans-serif;', u'\n', u'      font-weight: bold;', u'\n', u'    }', u'\n', u'\n', u'    div {', u'\n', u'      font-family: Verdana, Arial, helvetica, sans-serif;', u'\n', u'    }', u'\n', u'\n', u'    div.stackTrace {', u'\n', u'    }', u'\n', u'\n', u'    div.frame {', u'\n', u'      padding: 1em;', u'\n', u'      background: white;', u'\n', u'      border-bottom: thin black dashed;', u'\n', u'    }', u'\n', u'\n', u'    div.frame:first-child {', u'\n', u'      padding: 1em;', u'\n', u'      background: white;', u'\n', u'      border-top: thin black dashed;', u'\n', u'      border-bottom: thin black dashed;', u'\n', u'    }', u'\n', u'\n', u'    div.location {', u'\n', u'    }', u'\n', u'\n', u'    span.function {', u'\n', u'      font-weight: bold;', u'\n', u'      font-family: "Courier New", courier, monospace;', u'\n', u'    }', u'\n', u'\n', u'    div.snippet {', u'\n', u'      margin-bottom: 0.5em;', u'\n', u'      margin-left: 1em;', u'\n', u'      background: #FFFFDD;', u'\n', u'    }', u'\n', u'\n', u'    div.snippetHighlightLine {', u'\n', u'      color: red;', u'\n', u'    }', u'\n', u'\n', u'    span.code {', u'\n', u'      font-family: "Courier New", courier, monospace;', u'\n', u'    }', u'\n', u'  ']), u'\n', u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'error')]), children=[u'\n', u'    ', Tag(u'span'), u': ', Tag(u'span'), u'\n', u'  ']), u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'stackTrace')]), children=[u'\n', u'    ', Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']), u'\n', u'  ']), u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'error')]), children=[u'\n', u'    ', Tag(u'span'), u': ', Tag(u'span'), u'\n', u'  ']), u'\n']
	  Tag <div>
	  <twisted.web.util._StackElement object at 0x00000000049250B8>
	  [Tag(u'div', attributes=OrderedDict([(u'class', u'stackTrace')]), children=[u'\n', u'    ', Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']), u'\n', u'  '])]
	  Tag <div>
	  [u'\n', u'    ', Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']), u'\n', u'  ']
	  Tag <div>
	  [<twisted.web.util._FrameElement object at 0x0000000004925588>, <twisted.web.util._FrameElement object at 0x00000000049257F0>, <twisted.web.util._FrameElement object at 0x0000000004925A58>, <twisted.web.util._FrameElement object at 0x0000000004925CC0>, <twisted.web.util._FrameElement object at 0x0000000004925F28>, <twisted.web.util._FrameElement object at 0x000000000493A1D0>, <twisted.web.util._FrameElement object at 0x000000000493A438>]
	  <twisted.web.util._FrameElement object at 0x0000000004925CC0>
	  [Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    '])]
	  Tag <div>
	  [u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']
	  Tag <div>
	  <twisted.web.util._SourceFragmentElement object at 0x000000000493A630>
	  [Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      '])]
	  Tag <div>
	  [u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']
	  Tag <div>
	  <generator object sourceLines at 0x00000000049291B0>
	  <twisted.web.util._SourceLineElement object at 0x000000000493A940>
	  [Tag(u'div', attributes=OrderedDict([('class', 'snippetLine')]), children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        '])]
	  Tag <div>
	  [u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']
	  Tag <code>
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 312, in _flattenTree
	    element = next(stack[-1])
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 231, in _flattenElement
	    result = renderMethod(request, rootClone)
	  File "C:\Python27\lib\site-packages\twisted\web\util.py", line 171, in sourceLine
	    return tag(self.source.replace('  ', u' \N{NO-BREAK SPACE}'))
	UnicodeDecodeError: 'ascii' codec can't decode byte 0xe6 in position 10: ordinal not in range(128)
	
	
2017-07-14 14:19:34+0800 [INFO] Starting SmartTalk IoTService.Version is v0.3.6
2017-07-14 14:19:34+0800 [INFO] (1050, "Table 'device' already exists")
2017-07-14 14:19:34+0800 [INFO] (1050, "Table 'devicepanel' already exists")
2017-07-14 14:19:34+0800 [INFO] (1050, "Table 'deviceio' already exists")
2017-07-14 14:19:34+0800 [INFO] (1050, "Table 'deviceaudiovideo' already exists")
2017-07-14 14:19:34+0800 [INFO] (1050, "Table 'devicealarm' already exists")
2017-07-14 14:19:34+0800 [INFO] (1050, "Table 'feedback' already exists")
2017-07-14 14:19:34+0800 [INFO] (1050, "Table 'log_call' already exists")
2017-07-14 14:19:34+0800 [INFO] (1050, "Table 'log_device' already exists")
2017-07-14 14:19:34+0800 [INFO] (1050, "Table 'log_alarm' already exists")
2017-07-14 14:19:34+0800 [INFO] (1050, "Table 'devicetree' already exists")
2017-07-14 14:19:34+0800 [INFO] (1050, "Table 'authority' already exists")
2017-07-14 14:19:34+0800 [INFO] (1050, "Table 'identity' already exists")
2017-07-14 14:19:35+0800 [INFO] (1050, "Table 'authorization' already exists")
2017-07-14 14:19:35+0800 [INFO] (1050, "Table 'user' already exists")
2017-07-14 14:19:35+0800 [INFO] TreeNode has been initialized
2017-07-14 14:19:35+0800 [INFO] FeedBack has been initialized
2017-07-14 14:19:35+0800 [INFO] Administrator has been initialized
2017-07-14 14:19:35+0800 [INFO] Opened iptalk.db successfully
2017-07-14 14:19:35+0800 [INFO] OrderFactory starting on 12200
2017-07-14 14:19:35+0800 [INFO] Starting factory <devices.iptalk.factory.OrderFactory instance at 0x00000000046948C8>
2017-07-14 14:19:35+0800 [INFO] QueryFactory starting on 34952
2017-07-14 14:19:35+0800 [INFO] Starting factory <devices.iptalk.factory.QueryFactory instance at 0x000000000472D1C8>
2017-07-14 14:19:35+0800 [INFO] AudioFactory starting on 3478
2017-07-14 14:19:35+0800 [INFO] Starting protocol <devices.iptalk.factory.AudioFactory instance at 0x0000000004730E88>
2017-07-14 14:19:35+0800 [INFO] VideoFactory starting on 3456
2017-07-14 14:19:35+0800 [INFO] Starting protocol <devices.iptalk.factory.VideoFactory instance at 0x0000000004734308>
2017-07-14 14:19:35+0800 [INFO] IPTalkWebSite starting on 85
2017-07-14 14:19:35+0800 [INFO] Starting factory <web.site.IPTalkWebSite instance at 0x0000000004734648>
2017-07-14 14:19:35+0800 [INFO] WebSocketFactory starting on 89
2017-07-14 14:19:35+0800 [INFO] Starting factory <devices.iptalk.factory.WebSocketFactory instance at 0x0000000004741088>
2017-07-14 14:19:35+0800 [INFO] TCPPushFactory starting on 90
2017-07-14 14:19:35+0800 [INFO] Starting factory <devices.iptalk.factory.TCPPushFactory instance at 0x0000000004741548>
2017-07-14 14:19:35+0800 [INFO] SearchFactory starting on 3550
2017-07-14 14:19:35+0800 [INFO] Starting protocol <devices.iptalk.factory.SearchFactory instance at 0x0000000004741A08>
2017-07-14 14:19:35+0800 [INFO] MyFTPFactory starting on 21
2017-07-14 14:19:35+0800 [INFO] Starting factory <devices.iptalk.ftp.MyFTPFactory instance at 0x0000000004741D88>
2017-07-14 14:19:35+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 56350) .
2017-07-14 14:19:35+0800 [INFO] WebSocket keepAlive is on
2017-07-14 14:19:35+0800 [INFO] websocket is connected.
2017-07-14 14:19:39+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:06:19:39 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 14:19:45+0800 [ERROR] Unhandled Error
	Traceback (most recent call last):
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 1442, in dataReceived
	    finishCallback(data[contentLength:])
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 1768, in _finishRequestBody
	    self.allContentReceived()
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 1845, in allContentReceived
	    req.requestReceived(command, path, version)
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 766, in requestReceived
	    self.process()
	--- <exception caught here> ---
	  File "C:\Python27\lib\site-packages\twisted\web\server.py", line 183, in process
	    self.render(resrc)
	  File "C:\Python27\lib\site-packages\twisted\web\server.py", line 234, in render
	    body = resrc.render(self)
	  File "C:\Python27\lib\site-packages\twisted\web\resource.py", line 250, in render
	    return m(request)
	  File "D:/Documents/catcuts/project/iot_combination\devices\iptalk\webmanager.py", line 367, in render_POST
	    finish(request, self.exeSysUpgrade(request))
	  File "D:/Documents/catcuts/project/iot_combination\devices\iptalk\webmanager.py", line 128, in finish
	    request.write(results)
	  File "C:\Python27\lib\site-packages\twisted\web\server.py", line 213, in write
	    http.Request.write(self, data)
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 952, in write
	    self.sentLength = self.sentLength + len(data)
	exceptions.TypeError: object of type 'NoneType' has no len()
	
2017-07-14 14:19:45+0800 [ERROR] Unhandled Error
	Traceback (most recent call last):
	  File "C:\Python27\lib\site-packages\twisted\web\server.py", line 319, in processingFailed
	    util.formatFailure(reason) +
	  File "C:\Python27\lib\site-packages\twisted\web\util.py", line 432, in formatFailure
	    flattenString(None, FailureElement(myFailure)).addBoth(result.append)
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 410, in flattenString
	    d = flatten(request, root, io.write)
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 392, in flatten
	    _writeFlattenedData(state, write, result)
	--- <exception caught here> ---
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 353, in _writeFlattenedData
	    element = next(state)
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 321, in _flattenTree
	    raise FlattenerError(e, roots, extract_tb(exc_info()[2]))
	twisted.web.error.FlattenerError: Exception while flattening:
	  <twisted.web.util.FailureElement object at 0x000000000479FF28>
	  [Tag(u'div', children=[u'\n', u'  ', Tag(u'style', attributes=OrderedDict([(u'type', u'text/css')]), children=[u'\n', u'    div.error {', u'\n', u'      color: red;', u'\n', u'      font-family: Verdana, Arial, helvetica, sans-serif;', u'\n', u'      font-weight: bold;', u'\n', u'    }', u'\n', u'\n', u'    div {', u'\n', u'      font-family: Verdana, Arial, helvetica, sans-serif;', u'\n', u'    }', u'\n', u'\n', u'    div.stackTrace {', u'\n', u'    }', u'\n', u'\n', u'    div.frame {', u'\n', u'      padding: 1em;', u'\n', u'      background: white;', u'\n', u'      border-bottom: thin black dashed;', u'\n', u'    }', u'\n', u'\n', u'    div.frame:first-child {', u'\n', u'      padding: 1em;', u'\n', u'      background: white;', u'\n', u'      border-top: thin black dashed;', u'\n', u'      border-bottom: thin black dashed;', u'\n', u'    }', u'\n', u'\n', u'    div.location {', u'\n', u'    }', u'\n', u'\n', u'    span.function {', u'\n', u'      font-weight: bold;', u'\n', u'      font-family: "Courier New", courier, monospace;', u'\n', u'    }', u'\n', u'\n', u'    div.snippet {', u'\n', u'      margin-bottom: 0.5em;', u'\n', u'      margin-left: 1em;', u'\n', u'      background: #FFFFDD;', u'\n', u'    }', u'\n', u'\n', u'    div.snippetHighlightLine {', u'\n', u'      color: red;', u'\n', u'    }', u'\n', u'\n', u'    span.code {', u'\n', u'      font-family: "Courier New", courier, monospace;', u'\n', u'    }', u'\n', u'  ']), u'\n', u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'error')]), children=[u'\n', u'    ', Tag(u'span'), u': ', Tag(u'span'), u'\n', u'  ']), u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'stackTrace')]), children=[u'\n', u'    ', Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']), u'\n', u'  ']), u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'error')]), children=[u'\n', u'    ', Tag(u'span'), u': ', Tag(u'span'), u'\n', u'  ']), u'\n'])]
	  Tag <div>
	  [u'\n', u'  ', Tag(u'style', attributes=OrderedDict([(u'type', u'text/css')]), children=[u'\n', u'    div.error {', u'\n', u'      color: red;', u'\n', u'      font-family: Verdana, Arial, helvetica, sans-serif;', u'\n', u'      font-weight: bold;', u'\n', u'    }', u'\n', u'\n', u'    div {', u'\n', u'      font-family: Verdana, Arial, helvetica, sans-serif;', u'\n', u'    }', u'\n', u'\n', u'    div.stackTrace {', u'\n', u'    }', u'\n', u'\n', u'    div.frame {', u'\n', u'      padding: 1em;', u'\n', u'      background: white;', u'\n', u'      border-bottom: thin black dashed;', u'\n', u'    }', u'\n', u'\n', u'    div.frame:first-child {', u'\n', u'      padding: 1em;', u'\n', u'      background: white;', u'\n', u'      border-top: thin black dashed;', u'\n', u'      border-bottom: thin black dashed;', u'\n', u'    }', u'\n', u'\n', u'    div.location {', u'\n', u'    }', u'\n', u'\n', u'    span.function {', u'\n', u'      font-weight: bold;', u'\n', u'      font-family: "Courier New", courier, monospace;', u'\n', u'    }', u'\n', u'\n', u'    div.snippet {', u'\n', u'      margin-bottom: 0.5em;', u'\n', u'      margin-left: 1em;', u'\n', u'      background: #FFFFDD;', u'\n', u'    }', u'\n', u'\n', u'    div.snippetHighlightLine {', u'\n', u'      color: red;', u'\n', u'    }', u'\n', u'\n', u'    span.code {', u'\n', u'      font-family: "Courier New", courier, monospace;', u'\n', u'    }', u'\n', u'  ']), u'\n', u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'error')]), children=[u'\n', u'    ', Tag(u'span'), u': ', Tag(u'span'), u'\n', u'  ']), u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'stackTrace')]), children=[u'\n', u'    ', Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']), u'\n', u'  ']), u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'error')]), children=[u'\n', u'    ', Tag(u'span'), u': ', Tag(u'span'), u'\n', u'  ']), u'\n']
	  Tag <div>
	  <twisted.web.util._StackElement object at 0x0000000004874080>
	  [Tag(u'div', attributes=OrderedDict([(u'class', u'stackTrace')]), children=[u'\n', u'    ', Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']), u'\n', u'  '])]
	  Tag <div>
	  [u'\n', u'    ', Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']), u'\n', u'  ']
	  Tag <div>
	  [<twisted.web.util._FrameElement object at 0x0000000004874550>, <twisted.web.util._FrameElement object at 0x00000000048747B8>, <twisted.web.util._FrameElement object at 0x0000000004874A20>, <twisted.web.util._FrameElement object at 0x0000000004874C88>, <twisted.web.util._FrameElement object at 0x0000000004874EF0>, <twisted.web.util._FrameElement object at 0x0000000004889198>, <twisted.web.util._FrameElement object at 0x0000000004889400>]
	  <twisted.web.util._FrameElement object at 0x0000000004874C88>
	  [Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    '])]
	  Tag <div>
	  [u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']
	  Tag <div>
	  <twisted.web.util._SourceFragmentElement object at 0x00000000048895F8>
	  [Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      '])]
	  Tag <div>
	  [u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']
	  Tag <div>
	  <generator object sourceLines at 0x000000000488E120>
	  <twisted.web.util._SourceLineElement object at 0x0000000004889908>
	  [Tag(u'div', attributes=OrderedDict([('class', 'snippetLine')]), children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        '])]
	  Tag <div>
	  [u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']
	  Tag <code>
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 312, in _flattenTree
	    element = next(stack[-1])
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 231, in _flattenElement
	    result = renderMethod(request, rootClone)
	  File "C:\Python27\lib\site-packages\twisted\web\util.py", line 171, in sourceLine
	    return tag(self.source.replace('  ', u' \N{NO-BREAK SPACE}'))
	UnicodeDecodeError: 'ascii' codec can't decode byte 0xe6 in position 10: ordinal not in range(128)
	
	
2017-07-14 14:20:59+0800 [INFO] Starting SmartTalk IoTService.Version is v0.3.6
2017-07-14 14:21:00+0800 [INFO] (1050, "Table 'device' already exists")
2017-07-14 14:21:00+0800 [INFO] (1050, "Table 'devicepanel' already exists")
2017-07-14 14:21:00+0800 [INFO] (1050, "Table 'deviceio' already exists")
2017-07-14 14:21:00+0800 [INFO] (1050, "Table 'deviceaudiovideo' already exists")
2017-07-14 14:21:00+0800 [INFO] (1050, "Table 'devicealarm' already exists")
2017-07-14 14:21:00+0800 [INFO] (1050, "Table 'feedback' already exists")
2017-07-14 14:21:00+0800 [INFO] (1050, "Table 'log_call' already exists")
2017-07-14 14:21:00+0800 [INFO] (1050, "Table 'log_device' already exists")
2017-07-14 14:21:00+0800 [INFO] (1050, "Table 'log_alarm' already exists")
2017-07-14 14:21:00+0800 [INFO] (1050, "Table 'devicetree' already exists")
2017-07-14 14:21:00+0800 [INFO] (1050, "Table 'authority' already exists")
2017-07-14 14:21:00+0800 [INFO] (1050, "Table 'identity' already exists")
2017-07-14 14:21:00+0800 [INFO] (1050, "Table 'authorization' already exists")
2017-07-14 14:21:00+0800 [INFO] (1050, "Table 'user' already exists")
2017-07-14 14:21:00+0800 [INFO] TreeNode has been initialized
2017-07-14 14:21:00+0800 [INFO] FeedBack has been initialized
2017-07-14 14:21:00+0800 [INFO] Administrator has been initialized
2017-07-14 14:21:00+0800 [INFO] Opened iptalk.db successfully
2017-07-14 14:21:00+0800 [INFO] OrderFactory starting on 12200
2017-07-14 14:21:00+0800 [INFO] Starting factory <devices.iptalk.factory.OrderFactory instance at 0x00000000046A08C8>
2017-07-14 14:21:00+0800 [INFO] QueryFactory starting on 34952
2017-07-14 14:21:00+0800 [INFO] Starting factory <devices.iptalk.factory.QueryFactory instance at 0x000000000474C1C8>
2017-07-14 14:21:00+0800 [INFO] AudioFactory starting on 3478
2017-07-14 14:21:00+0800 [INFO] Starting protocol <devices.iptalk.factory.AudioFactory instance at 0x000000000474FE88>
2017-07-14 14:21:00+0800 [INFO] VideoFactory starting on 3456
2017-07-14 14:21:00+0800 [INFO] Starting protocol <devices.iptalk.factory.VideoFactory instance at 0x0000000004753308>
2017-07-14 14:21:00+0800 [INFO] IPTalkWebSite starting on 85
2017-07-14 14:21:00+0800 [INFO] Starting factory <web.site.IPTalkWebSite instance at 0x0000000004753648>
2017-07-14 14:21:00+0800 [INFO] WebSocketFactory starting on 89
2017-07-14 14:21:00+0800 [INFO] Starting factory <devices.iptalk.factory.WebSocketFactory instance at 0x0000000004760088>
2017-07-14 14:21:00+0800 [INFO] TCPPushFactory starting on 90
2017-07-14 14:21:00+0800 [INFO] Starting factory <devices.iptalk.factory.TCPPushFactory instance at 0x0000000004760548>
2017-07-14 14:21:00+0800 [INFO] SearchFactory starting on 3550
2017-07-14 14:21:00+0800 [INFO] Starting protocol <devices.iptalk.factory.SearchFactory instance at 0x0000000004760A08>
2017-07-14 14:21:00+0800 [INFO] MyFTPFactory starting on 21
2017-07-14 14:21:00+0800 [INFO] Starting factory <devices.iptalk.ftp.MyFTPFactory instance at 0x0000000004760D88>
2017-07-14 14:21:01+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 56493) .
2017-07-14 14:21:01+0800 [INFO] WebSocket keepAlive is on
2017-07-14 14:21:01+0800 [INFO] websocket is connected.
2017-07-14 14:21:05+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:06:21:04 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 14:21:29+0800 [ERROR] Unhandled Error
	Traceback (most recent call last):
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 1442, in dataReceived
	    finishCallback(data[contentLength:])
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 1768, in _finishRequestBody
	    self.allContentReceived()
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 1845, in allContentReceived
	    req.requestReceived(command, path, version)
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 766, in requestReceived
	    self.process()
	--- <exception caught here> ---
	  File "C:\Python27\lib\site-packages\twisted\web\server.py", line 183, in process
	    self.render(resrc)
	  File "C:\Python27\lib\site-packages\twisted\web\server.py", line 234, in render
	    body = resrc.render(self)
	  File "C:\Python27\lib\site-packages\twisted\web\resource.py", line 250, in render
	    return m(request)
	  File "D:/Documents/catcuts/project/iot_combination\devices\iptalk\webmanager.py", line 367, in render_POST
	    finish(request, self.exeSysUpgrade(request))
	  File "D:/Documents/catcuts/project/iot_combination\devices\iptalk\webmanager.py", line 128, in finish
	    request.write(results)
	  File "C:\Python27\lib\site-packages\twisted\web\server.py", line 213, in write
	    http.Request.write(self, data)
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 952, in write
	    self.sentLength = self.sentLength + len(data)
	exceptions.TypeError: object of type 'NoneType' has no len()
	
2017-07-14 14:21:29+0800 [ERROR] Unhandled Error
	Traceback (most recent call last):
	  File "C:\Python27\lib\site-packages\twisted\web\server.py", line 319, in processingFailed
	    util.formatFailure(reason) +
	  File "C:\Python27\lib\site-packages\twisted\web\util.py", line 432, in formatFailure
	    flattenString(None, FailureElement(myFailure)).addBoth(result.append)
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 410, in flattenString
	    d = flatten(request, root, io.write)
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 392, in flatten
	    _writeFlattenedData(state, write, result)
	--- <exception caught here> ---
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 353, in _writeFlattenedData
	    element = next(state)
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 321, in _flattenTree
	    raise FlattenerError(e, roots, extract_tb(exc_info()[2]))
	twisted.web.error.FlattenerError: Exception while flattening:
	  <twisted.web.util.FailureElement object at 0x00000000047BEDD8>
	  [Tag(u'div', children=[u'\n', u'  ', Tag(u'style', attributes=OrderedDict([(u'type', u'text/css')]), children=[u'\n', u'    div.error {', u'\n', u'      color: red;', u'\n', u'      font-family: Verdana, Arial, helvetica, sans-serif;', u'\n', u'      font-weight: bold;', u'\n', u'    }', u'\n', u'\n', u'    div {', u'\n', u'      font-family: Verdana, Arial, helvetica, sans-serif;', u'\n', u'    }', u'\n', u'\n', u'    div.stackTrace {', u'\n', u'    }', u'\n', u'\n', u'    div.frame {', u'\n', u'      padding: 1em;', u'\n', u'      background: white;', u'\n', u'      border-bottom: thin black dashed;', u'\n', u'    }', u'\n', u'\n', u'    div.frame:first-child {', u'\n', u'      padding: 1em;', u'\n', u'      background: white;', u'\n', u'      border-top: thin black dashed;', u'\n', u'      border-bottom: thin black dashed;', u'\n', u'    }', u'\n', u'\n', u'    div.location {', u'\n', u'    }', u'\n', u'\n', u'    span.function {', u'\n', u'      font-weight: bold;', u'\n', u'      font-family: "Courier New", courier, monospace;', u'\n', u'    }', u'\n', u'\n', u'    div.snippet {', u'\n', u'      margin-bottom: 0.5em;', u'\n', u'      margin-left: 1em;', u'\n', u'      background: #FFFFDD;', u'\n', u'    }', u'\n', u'\n', u'    div.snippetHighlightLine {', u'\n', u'      color: red;', u'\n', u'    }', u'\n', u'\n', u'    span.code {', u'\n', u'      font-family: "Courier New", courier, monospace;', u'\n', u'    }', u'\n', u'  ']), u'\n', u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'error')]), children=[u'\n', u'    ', Tag(u'span'), u': ', Tag(u'span'), u'\n', u'  ']), u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'stackTrace')]), children=[u'\n', u'    ', Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']), u'\n', u'  ']), u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'error')]), children=[u'\n', u'    ', Tag(u'span'), u': ', Tag(u'span'), u'\n', u'  ']), u'\n'])]
	  Tag <div>
	  [u'\n', u'  ', Tag(u'style', attributes=OrderedDict([(u'type', u'text/css')]), children=[u'\n', u'    div.error {', u'\n', u'      color: red;', u'\n', u'      font-family: Verdana, Arial, helvetica, sans-serif;', u'\n', u'      font-weight: bold;', u'\n', u'    }', u'\n', u'\n', u'    div {', u'\n', u'      font-family: Verdana, Arial, helvetica, sans-serif;', u'\n', u'    }', u'\n', u'\n', u'    div.stackTrace {', u'\n', u'    }', u'\n', u'\n', u'    div.frame {', u'\n', u'      padding: 1em;', u'\n', u'      background: white;', u'\n', u'      border-bottom: thin black dashed;', u'\n', u'    }', u'\n', u'\n', u'    div.frame:first-child {', u'\n', u'      padding: 1em;', u'\n', u'      background: white;', u'\n', u'      border-top: thin black dashed;', u'\n', u'      border-bottom: thin black dashed;', u'\n', u'    }', u'\n', u'\n', u'    div.location {', u'\n', u'    }', u'\n', u'\n', u'    span.function {', u'\n', u'      font-weight: bold;', u'\n', u'      font-family: "Courier New", courier, monospace;', u'\n', u'    }', u'\n', u'\n', u'    div.snippet {', u'\n', u'      margin-bottom: 0.5em;', u'\n', u'      margin-left: 1em;', u'\n', u'      background: #FFFFDD;', u'\n', u'    }', u'\n', u'\n', u'    div.snippetHighlightLine {', u'\n', u'      color: red;', u'\n', u'    }', u'\n', u'\n', u'    span.code {', u'\n', u'      font-family: "Courier New", courier, monospace;', u'\n', u'    }', u'\n', u'  ']), u'\n', u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'error')]), children=[u'\n', u'    ', Tag(u'span'), u': ', Tag(u'span'), u'\n', u'  ']), u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'stackTrace')]), children=[u'\n', u'    ', Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']), u'\n', u'  ']), u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'error')]), children=[u'\n', u'    ', Tag(u'span'), u': ', Tag(u'span'), u'\n', u'  ']), u'\n']
	  Tag <div>
	  <twisted.web.util._StackElement object at 0x0000000004865080>
	  [Tag(u'div', attributes=OrderedDict([(u'class', u'stackTrace')]), children=[u'\n', u'    ', Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']), u'\n', u'  '])]
	  Tag <div>
	  [u'\n', u'    ', Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']), u'\n', u'  ']
	  Tag <div>
	  [<twisted.web.util._FrameElement object at 0x0000000004865550>, <twisted.web.util._FrameElement object at 0x00000000048657B8>, <twisted.web.util._FrameElement object at 0x0000000004865A20>, <twisted.web.util._FrameElement object at 0x0000000004865C88>, <twisted.web.util._FrameElement object at 0x0000000004865EF0>, <twisted.web.util._FrameElement object at 0x0000000004879198>, <twisted.web.util._FrameElement object at 0x0000000004879400>]
	  <twisted.web.util._FrameElement object at 0x0000000004865C88>
	  [Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    '])]
	  Tag <div>
	  [u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']
	  Tag <div>
	  <twisted.web.util._SourceFragmentElement object at 0x00000000048795F8>
	  [Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      '])]
	  Tag <div>
	  [u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']
	  Tag <div>
	  <generator object sourceLines at 0x000000000487E120>
	  <twisted.web.util._SourceLineElement object at 0x0000000004879908>
	  [Tag(u'div', attributes=OrderedDict([('class', 'snippetLine')]), children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        '])]
	  Tag <div>
	  [u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']
	  Tag <code>
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 312, in _flattenTree
	    element = next(stack[-1])
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 231, in _flattenElement
	    result = renderMethod(request, rootClone)
	  File "C:\Python27\lib\site-packages\twisted\web\util.py", line 171, in sourceLine
	    return tag(self.source.replace('  ', u' \N{NO-BREAK SPACE}'))
	UnicodeDecodeError: 'ascii' codec can't decode byte 0xe6 in position 10: ordinal not in range(128)
	
	
2017-07-14 14:34:20+0800 [INFO] Starting SmartTalk IoTService.Version is v0.3.6
2017-07-14 14:34:20+0800 [INFO] (1050, "Table 'device' already exists")
2017-07-14 14:34:20+0800 [INFO] (1050, "Table 'devicepanel' already exists")
2017-07-14 14:34:20+0800 [INFO] (1050, "Table 'deviceio' already exists")
2017-07-14 14:34:20+0800 [INFO] (1050, "Table 'deviceaudiovideo' already exists")
2017-07-14 14:34:20+0800 [INFO] (1050, "Table 'devicealarm' already exists")
2017-07-14 14:34:20+0800 [INFO] (1050, "Table 'feedback' already exists")
2017-07-14 14:34:20+0800 [INFO] (1050, "Table 'log_call' already exists")
2017-07-14 14:34:20+0800 [INFO] (1050, "Table 'log_device' already exists")
2017-07-14 14:34:20+0800 [INFO] (1050, "Table 'log_alarm' already exists")
2017-07-14 14:34:20+0800 [INFO] (1050, "Table 'devicetree' already exists")
2017-07-14 14:34:20+0800 [INFO] (1050, "Table 'authority' already exists")
2017-07-14 14:34:20+0800 [INFO] (1050, "Table 'identity' already exists")
2017-07-14 14:34:20+0800 [INFO] (1050, "Table 'authorization' already exists")
2017-07-14 14:34:20+0800 [INFO] (1050, "Table 'user' already exists")
2017-07-14 14:34:20+0800 [INFO] TreeNode has been initialized
2017-07-14 14:34:20+0800 [INFO] FeedBack has been initialized
2017-07-14 14:34:20+0800 [INFO] Administrator has been initialized
2017-07-14 14:34:20+0800 [INFO] Opened iptalk.db successfully
2017-07-14 14:34:21+0800 [INFO] OrderFactory starting on 12200
2017-07-14 14:34:21+0800 [INFO] Starting factory <devices.iptalk.factory.OrderFactory instance at 0x000000000471E8C8>
2017-07-14 14:34:21+0800 [INFO] QueryFactory starting on 34952
2017-07-14 14:34:21+0800 [INFO] Starting factory <devices.iptalk.factory.QueryFactory instance at 0x00000000047AB1C8>
2017-07-14 14:34:21+0800 [INFO] AudioFactory starting on 3478
2017-07-14 14:34:21+0800 [INFO] Starting protocol <devices.iptalk.factory.AudioFactory instance at 0x00000000047AEE88>
2017-07-14 14:34:21+0800 [INFO] VideoFactory starting on 3456
2017-07-14 14:34:21+0800 [INFO] Starting protocol <devices.iptalk.factory.VideoFactory instance at 0x00000000047B2308>
2017-07-14 14:34:21+0800 [INFO] IPTalkWebSite starting on 85
2017-07-14 14:34:21+0800 [INFO] Starting factory <web.site.IPTalkWebSite instance at 0x00000000047B2648>
2017-07-14 14:34:21+0800 [INFO] WebSocketFactory starting on 89
2017-07-14 14:34:21+0800 [INFO] Starting factory <devices.iptalk.factory.WebSocketFactory instance at 0x00000000047C0148>
2017-07-14 14:34:21+0800 [INFO] TCPPushFactory starting on 90
2017-07-14 14:34:21+0800 [INFO] Starting factory <devices.iptalk.factory.TCPPushFactory instance at 0x00000000047C0608>
2017-07-14 14:34:21+0800 [INFO] SearchFactory starting on 3550
2017-07-14 14:34:21+0800 [INFO] Starting protocol <devices.iptalk.factory.SearchFactory instance at 0x00000000047C0AC8>
2017-07-14 14:34:21+0800 [INFO] MyFTPFactory starting on 21
2017-07-14 14:34:21+0800 [INFO] Starting factory <devices.iptalk.ftp.MyFTPFactory instance at 0x00000000047C0E48>
2017-07-14 14:34:29+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:06:34:29 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 14:34:29+0800 [ERROR] Unhandled Error
	Traceback (most recent call last):
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 1442, in dataReceived
	    finishCallback(data[contentLength:])
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 1768, in _finishRequestBody
	    self.allContentReceived()
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 1845, in allContentReceived
	    req.requestReceived(command, path, version)
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 766, in requestReceived
	    self.process()
	--- <exception caught here> ---
	  File "C:\Python27\lib\site-packages\twisted\web\server.py", line 183, in process
	    self.render(resrc)
	  File "C:\Python27\lib\site-packages\twisted\web\server.py", line 234, in render
	    body = resrc.render(self)
	  File "C:\Python27\lib\site-packages\twisted\web\resource.py", line 250, in render
	    return m(request)
	  File "D:/Documents/catcuts/project/iot_combination\devices\iptalk\webmanager.py", line 367, in render_POST
	    finish(request, self.exeSysUpgrade(request))
	  File "D:/Documents/catcuts/project/iot_combination\devices\iptalk\webmanager.py", line 128, in finish
	    request.write(results)
	  File "C:\Python27\lib\site-packages\twisted\web\server.py", line 213, in write
	    http.Request.write(self, data)
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 952, in write
	    self.sentLength = self.sentLength + len(data)
	exceptions.TypeError: object of type 'NoneType' has no len()
	
2017-07-14 14:34:29+0800 [ERROR] Unhandled Error
	Traceback (most recent call last):
	  File "C:\Python27\lib\site-packages\twisted\web\server.py", line 319, in processingFailed
	    util.formatFailure(reason) +
	  File "C:\Python27\lib\site-packages\twisted\web\util.py", line 432, in formatFailure
	    flattenString(None, FailureElement(myFailure)).addBoth(result.append)
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 410, in flattenString
	    d = flatten(request, root, io.write)
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 392, in flatten
	    _writeFlattenedData(state, write, result)
	--- <exception caught here> ---
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 353, in _writeFlattenedData
	    element = next(state)
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 321, in _flattenTree
	    raise FlattenerError(e, roots, extract_tb(exc_info()[2]))
	twisted.web.error.FlattenerError: Exception while flattening:
	  <twisted.web.util.FailureElement object at 0x00000000048619B0>
	  [Tag(u'div', children=[u'\n', u'  ', Tag(u'style', attributes=OrderedDict([(u'type', u'text/css')]), children=[u'\n', u'    div.error {', u'\n', u'      color: red;', u'\n', u'      font-family: Verdana, Arial, helvetica, sans-serif;', u'\n', u'      font-weight: bold;', u'\n', u'    }', u'\n', u'\n', u'    div {', u'\n', u'      font-family: Verdana, Arial, helvetica, sans-serif;', u'\n', u'    }', u'\n', u'\n', u'    div.stackTrace {', u'\n', u'    }', u'\n', u'\n', u'    div.frame {', u'\n', u'      padding: 1em;', u'\n', u'      background: white;', u'\n', u'      border-bottom: thin black dashed;', u'\n', u'    }', u'\n', u'\n', u'    div.frame:first-child {', u'\n', u'      padding: 1em;', u'\n', u'      background: white;', u'\n', u'      border-top: thin black dashed;', u'\n', u'      border-bottom: thin black dashed;', u'\n', u'    }', u'\n', u'\n', u'    div.location {', u'\n', u'    }', u'\n', u'\n', u'    span.function {', u'\n', u'      font-weight: bold;', u'\n', u'      font-family: "Courier New", courier, monospace;', u'\n', u'    }', u'\n', u'\n', u'    div.snippet {', u'\n', u'      margin-bottom: 0.5em;', u'\n', u'      margin-left: 1em;', u'\n', u'      background: #FFFFDD;', u'\n', u'    }', u'\n', u'\n', u'    div.snippetHighlightLine {', u'\n', u'      color: red;', u'\n', u'    }', u'\n', u'\n', u'    span.code {', u'\n', u'      font-family: "Courier New", courier, monospace;', u'\n', u'    }', u'\n', u'  ']), u'\n', u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'error')]), children=[u'\n', u'    ', Tag(u'span'), u': ', Tag(u'span'), u'\n', u'  ']), u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'stackTrace')]), children=[u'\n', u'    ', Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']), u'\n', u'  ']), u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'error')]), children=[u'\n', u'    ', Tag(u'span'), u': ', Tag(u'span'), u'\n', u'  ']), u'\n'])]
	  Tag <div>
	  [u'\n', u'  ', Tag(u'style', attributes=OrderedDict([(u'type', u'text/css')]), children=[u'\n', u'    div.error {', u'\n', u'      color: red;', u'\n', u'      font-family: Verdana, Arial, helvetica, sans-serif;', u'\n', u'      font-weight: bold;', u'\n', u'    }', u'\n', u'\n', u'    div {', u'\n', u'      font-family: Verdana, Arial, helvetica, sans-serif;', u'\n', u'    }', u'\n', u'\n', u'    div.stackTrace {', u'\n', u'    }', u'\n', u'\n', u'    div.frame {', u'\n', u'      padding: 1em;', u'\n', u'      background: white;', u'\n', u'      border-bottom: thin black dashed;', u'\n', u'    }', u'\n', u'\n', u'    div.frame:first-child {', u'\n', u'      padding: 1em;', u'\n', u'      background: white;', u'\n', u'      border-top: thin black dashed;', u'\n', u'      border-bottom: thin black dashed;', u'\n', u'    }', u'\n', u'\n', u'    div.location {', u'\n', u'    }', u'\n', u'\n', u'    span.function {', u'\n', u'      font-weight: bold;', u'\n', u'      font-family: "Courier New", courier, monospace;', u'\n', u'    }', u'\n', u'\n', u'    div.snippet {', u'\n', u'      margin-bottom: 0.5em;', u'\n', u'      margin-left: 1em;', u'\n', u'      background: #FFFFDD;', u'\n', u'    }', u'\n', u'\n', u'    div.snippetHighlightLine {', u'\n', u'      color: red;', u'\n', u'    }', u'\n', u'\n', u'    span.code {', u'\n', u'      font-family: "Courier New", courier, monospace;', u'\n', u'    }', u'\n', u'  ']), u'\n', u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'error')]), children=[u'\n', u'    ', Tag(u'span'), u': ', Tag(u'span'), u'\n', u'  ']), u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'stackTrace')]), children=[u'\n', u'    ', Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']), u'\n', u'  ']), u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'error')]), children=[u'\n', u'    ', Tag(u'span'), u': ', Tag(u'span'), u'\n', u'  ']), u'\n']
	  Tag <div>
	  <twisted.web.util._StackElement object at 0x00000000048A3B70>
	  [Tag(u'div', attributes=OrderedDict([(u'class', u'stackTrace')]), children=[u'\n', u'    ', Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']), u'\n', u'  '])]
	  Tag <div>
	  [u'\n', u'    ', Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']), u'\n', u'  ']
	  Tag <div>
	  [<twisted.web.util._FrameElement object at 0x00000000048DF080>, <twisted.web.util._FrameElement object at 0x00000000048DF2E8>, <twisted.web.util._FrameElement object at 0x00000000048DF550>, <twisted.web.util._FrameElement object at 0x00000000048DF7B8>, <twisted.web.util._FrameElement object at 0x00000000048DFA20>, <twisted.web.util._FrameElement object at 0x00000000048DFC88>, <twisted.web.util._FrameElement object at 0x00000000048DFEF0>]
	  <twisted.web.util._FrameElement object at 0x00000000048DF7B8>
	  [Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    '])]
	  Tag <div>
	  [u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']
	  Tag <div>
	  <twisted.web.util._SourceFragmentElement object at 0x00000000048F3128>
	  [Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      '])]
	  Tag <div>
	  [u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']
	  Tag <div>
	  <generator object sourceLines at 0x00000000048F4678>
	  <twisted.web.util._SourceLineElement object at 0x00000000048F3438>
	  [Tag(u'div', attributes=OrderedDict([('class', 'snippetLine')]), children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        '])]
	  Tag <div>
	  [u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']
	  Tag <code>
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 312, in _flattenTree
	    element = next(stack[-1])
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 231, in _flattenElement
	    result = renderMethod(request, rootClone)
	  File "C:\Python27\lib\site-packages\twisted\web\util.py", line 171, in sourceLine
	    return tag(self.source.replace('  ', u' \N{NO-BREAK SPACE}'))
	UnicodeDecodeError: 'ascii' codec can't decode byte 0xe6 in position 10: ordinal not in range(128)
	
	
2017-07-14 14:34:32+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 58043) .
2017-07-14 14:34:32+0800 [INFO] WebSocket keepAlive is on
2017-07-14 14:34:32+0800 [INFO] websocket is connected.
2017-07-14 14:45:30+0800 [INFO] Starting SmartTalk IoTService.Version is v0.3.6
2017-07-14 14:45:30+0800 [INFO] (1050, "Table 'device' already exists")
2017-07-14 14:45:30+0800 [INFO] (1050, "Table 'devicepanel' already exists")
2017-07-14 14:45:30+0800 [INFO] (1050, "Table 'deviceio' already exists")
2017-07-14 14:45:30+0800 [INFO] (1050, "Table 'deviceaudiovideo' already exists")
2017-07-14 14:45:30+0800 [INFO] (1050, "Table 'devicealarm' already exists")
2017-07-14 14:45:30+0800 [INFO] (1050, "Table 'feedback' already exists")
2017-07-14 14:45:30+0800 [INFO] (1050, "Table 'log_call' already exists")
2017-07-14 14:45:30+0800 [INFO] (1050, "Table 'log_device' already exists")
2017-07-14 14:45:30+0800 [INFO] (1050, "Table 'log_alarm' already exists")
2017-07-14 14:45:30+0800 [INFO] (1050, "Table 'devicetree' already exists")
2017-07-14 14:45:30+0800 [INFO] (1050, "Table 'authority' already exists")
2017-07-14 14:45:30+0800 [INFO] (1050, "Table 'identity' already exists")
2017-07-14 14:45:30+0800 [INFO] (1050, "Table 'authorization' already exists")
2017-07-14 14:45:30+0800 [INFO] (1050, "Table 'user' already exists")
2017-07-14 14:45:30+0800 [INFO] TreeNode has been initialized
2017-07-14 14:45:30+0800 [INFO] FeedBack has been initialized
2017-07-14 14:45:30+0800 [INFO] Administrator has been initialized
2017-07-14 14:45:30+0800 [INFO] Opened iptalk.db successfully
2017-07-14 14:45:30+0800 [INFO] OrderFactory starting on 12200
2017-07-14 14:45:30+0800 [INFO] Starting factory <devices.iptalk.factory.OrderFactory instance at 0x00000000045CF8C8>
2017-07-14 14:45:30+0800 [INFO] QueryFactory starting on 34952
2017-07-14 14:45:30+0800 [INFO] Starting factory <devices.iptalk.factory.QueryFactory instance at 0x000000000465C1C8>
2017-07-14 14:45:30+0800 [INFO] AudioFactory starting on 3478
2017-07-14 14:45:30+0800 [INFO] Starting protocol <devices.iptalk.factory.AudioFactory instance at 0x000000000465FE88>
2017-07-14 14:45:30+0800 [INFO] VideoFactory starting on 3456
2017-07-14 14:45:30+0800 [INFO] Starting protocol <devices.iptalk.factory.VideoFactory instance at 0x0000000004663308>
2017-07-14 14:45:30+0800 [INFO] IPTalkWebSite starting on 85
2017-07-14 14:45:30+0800 [INFO] Starting factory <web.site.IPTalkWebSite instance at 0x0000000004663648>
2017-07-14 14:45:30+0800 [INFO] WebSocketFactory starting on 89
2017-07-14 14:45:30+0800 [INFO] Starting factory <devices.iptalk.factory.WebSocketFactory instance at 0x0000000004670208>
2017-07-14 14:45:30+0800 [INFO] TCPPushFactory starting on 90
2017-07-14 14:45:30+0800 [INFO] Starting factory <devices.iptalk.factory.TCPPushFactory instance at 0x00000000046706C8>
2017-07-14 14:45:30+0800 [INFO] SearchFactory starting on 3550
2017-07-14 14:45:30+0800 [INFO] Starting protocol <devices.iptalk.factory.SearchFactory instance at 0x0000000004670B88>
2017-07-14 14:45:31+0800 [INFO] MyFTPFactory starting on 21
2017-07-14 14:45:31+0800 [INFO] Starting factory <devices.iptalk.ftp.MyFTPFactory instance at 0x0000000004670F08>
2017-07-14 14:45:33+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 59214) .
2017-07-14 14:45:33+0800 [INFO] WebSocket keepAlive is on
2017-07-14 14:45:33+0800 [INFO] websocket is connected.
2017-07-14 14:46:21+0800 [INFO] Starting SmartTalk IoTService.Version is v0.3.6
2017-07-14 14:46:21+0800 [INFO] (1050, "Table 'device' already exists")
2017-07-14 14:46:21+0800 [INFO] (1050, "Table 'devicepanel' already exists")
2017-07-14 14:46:21+0800 [INFO] (1050, "Table 'deviceio' already exists")
2017-07-14 14:46:21+0800 [INFO] (1050, "Table 'deviceaudiovideo' already exists")
2017-07-14 14:46:21+0800 [INFO] (1050, "Table 'devicealarm' already exists")
2017-07-14 14:46:21+0800 [INFO] (1050, "Table 'feedback' already exists")
2017-07-14 14:46:21+0800 [INFO] (1050, "Table 'log_call' already exists")
2017-07-14 14:46:21+0800 [INFO] (1050, "Table 'log_device' already exists")
2017-07-14 14:46:21+0800 [INFO] (1050, "Table 'log_alarm' already exists")
2017-07-14 14:46:21+0800 [INFO] (1050, "Table 'devicetree' already exists")
2017-07-14 14:46:21+0800 [INFO] (1050, "Table 'authority' already exists")
2017-07-14 14:46:21+0800 [INFO] (1050, "Table 'identity' already exists")
2017-07-14 14:46:21+0800 [INFO] (1050, "Table 'authorization' already exists")
2017-07-14 14:46:21+0800 [INFO] (1050, "Table 'user' already exists")
2017-07-14 14:46:21+0800 [INFO] TreeNode has been initialized
2017-07-14 14:46:21+0800 [INFO] FeedBack has been initialized
2017-07-14 14:46:21+0800 [INFO] Administrator has been initialized
2017-07-14 14:46:21+0800 [INFO] Opened iptalk.db successfully
2017-07-14 14:46:21+0800 [INFO] OrderFactory starting on 12200
2017-07-14 14:46:21+0800 [INFO] Starting factory <devices.iptalk.factory.OrderFactory instance at 0x00000000045A18C8>
2017-07-14 14:46:21+0800 [INFO] QueryFactory starting on 34952
2017-07-14 14:46:21+0800 [INFO] Starting factory <devices.iptalk.factory.QueryFactory instance at 0x00000000046321C8>
2017-07-14 14:46:21+0800 [INFO] AudioFactory starting on 3478
2017-07-14 14:46:21+0800 [INFO] Starting protocol <devices.iptalk.factory.AudioFactory instance at 0x0000000004635E88>
2017-07-14 14:46:21+0800 [INFO] VideoFactory starting on 3456
2017-07-14 14:46:21+0800 [INFO] Starting protocol <devices.iptalk.factory.VideoFactory instance at 0x0000000004639308>
2017-07-14 14:46:21+0800 [INFO] IPTalkWebSite starting on 85
2017-07-14 14:46:21+0800 [INFO] Starting factory <web.site.IPTalkWebSite instance at 0x0000000004639648>
2017-07-14 14:46:21+0800 [INFO] WebSocketFactory starting on 89
2017-07-14 14:46:21+0800 [INFO] Starting factory <devices.iptalk.factory.WebSocketFactory instance at 0x00000000046471C8>
2017-07-14 14:46:21+0800 [INFO] TCPPushFactory starting on 90
2017-07-14 14:46:21+0800 [INFO] Starting factory <devices.iptalk.factory.TCPPushFactory instance at 0x0000000004647688>
2017-07-14 14:46:21+0800 [INFO] SearchFactory starting on 3550
2017-07-14 14:46:21+0800 [INFO] Starting protocol <devices.iptalk.factory.SearchFactory instance at 0x0000000004647B48>
2017-07-14 14:46:21+0800 [INFO] MyFTPFactory starting on 21
2017-07-14 14:46:21+0800 [INFO] Starting factory <devices.iptalk.ftp.MyFTPFactory instance at 0x0000000004647EC8>
2017-07-14 14:46:22+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 59305) .
2017-07-14 14:46:22+0800 [INFO] WebSocket keepAlive is on
2017-07-14 14:46:22+0800 [INFO] websocket is connected.
2017-07-14 14:46:28+0800 [INFO] delete websock TCP connect:a0deb61a58174012a3dc37a2cc118f3b
2017-07-14 14:46:28+0800 [INFO] websocket is disconnected.
2017-07-14 14:46:30+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 59331) .
2017-07-14 14:46:30+0800 [INFO] WebSocket keepAlive is on
2017-07-14 14:46:30+0800 [INFO] websocket is connected.
2017-07-14 14:46:30+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:06:46:29 +0000] "GET /devices/iptalk/getiptalkdevicemessage HTTP/1.1" 200 83 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 14:46:44+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:06:46:43 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 14:48:33+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:06:47:38 +0000] "POST /upgrade/sysUpgrade HTTP/1.1" 200 21 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 14:53:16+0800 [INFO] Starting SmartTalk IoTService.Version is v0.3.6
2017-07-14 14:53:16+0800 [INFO] (1050, "Table 'device' already exists")
2017-07-14 14:53:16+0800 [INFO] (1050, "Table 'devicepanel' already exists")
2017-07-14 14:53:16+0800 [INFO] (1050, "Table 'deviceio' already exists")
2017-07-14 14:53:16+0800 [INFO] (1050, "Table 'deviceaudiovideo' already exists")
2017-07-14 14:53:16+0800 [INFO] (1050, "Table 'devicealarm' already exists")
2017-07-14 14:53:16+0800 [INFO] (1050, "Table 'feedback' already exists")
2017-07-14 14:53:16+0800 [INFO] (1050, "Table 'log_call' already exists")
2017-07-14 14:53:16+0800 [INFO] (1050, "Table 'log_device' already exists")
2017-07-14 14:53:16+0800 [INFO] (1050, "Table 'log_alarm' already exists")
2017-07-14 14:53:17+0800 [INFO] (1050, "Table 'devicetree' already exists")
2017-07-14 14:53:17+0800 [INFO] (1050, "Table 'authority' already exists")
2017-07-14 14:53:17+0800 [INFO] (1050, "Table 'identity' already exists")
2017-07-14 14:53:17+0800 [INFO] (1050, "Table 'authorization' already exists")
2017-07-14 14:53:17+0800 [INFO] (1050, "Table 'user' already exists")
2017-07-14 14:53:17+0800 [INFO] TreeNode has been initialized
2017-07-14 14:53:17+0800 [INFO] FeedBack has been initialized
2017-07-14 14:53:17+0800 [INFO] Administrator has been initialized
2017-07-14 14:53:17+0800 [INFO] Opened iptalk.db successfully
2017-07-14 14:53:18+0800 [INFO] OrderFactory starting on 12200
2017-07-14 14:53:18+0800 [INFO] Starting factory <devices.iptalk.factory.OrderFactory instance at 0x00000000046468C8>
2017-07-14 14:53:18+0800 [INFO] QueryFactory starting on 34952
2017-07-14 14:53:18+0800 [INFO] Starting factory <devices.iptalk.factory.QueryFactory instance at 0x00000000046D31C8>
2017-07-14 14:53:18+0800 [INFO] AudioFactory starting on 3478
2017-07-14 14:53:18+0800 [INFO] Starting protocol <devices.iptalk.factory.AudioFactory instance at 0x00000000046D6E88>
2017-07-14 14:53:18+0800 [INFO] VideoFactory starting on 3456
2017-07-14 14:53:18+0800 [INFO] Starting protocol <devices.iptalk.factory.VideoFactory instance at 0x00000000046DA308>
2017-07-14 14:53:18+0800 [INFO] IPTalkWebSite starting on 85
2017-07-14 14:53:18+0800 [INFO] Starting factory <web.site.IPTalkWebSite instance at 0x00000000046DA648>
2017-07-14 14:53:18+0800 [INFO] WebSocketFactory starting on 89
2017-07-14 14:53:18+0800 [INFO] Starting factory <devices.iptalk.factory.WebSocketFactory instance at 0x00000000046E7288>
2017-07-14 14:53:18+0800 [INFO] TCPPushFactory starting on 90
2017-07-14 14:53:18+0800 [INFO] Starting factory <devices.iptalk.factory.TCPPushFactory instance at 0x00000000046E7748>
2017-07-14 14:53:18+0800 [INFO] SearchFactory starting on 3550
2017-07-14 14:53:18+0800 [INFO] Starting protocol <devices.iptalk.factory.SearchFactory instance at 0x00000000046E7C08>
2017-07-14 14:53:18+0800 [INFO] MyFTPFactory starting on 21
2017-07-14 14:53:18+0800 [INFO] Starting factory <devices.iptalk.ftp.MyFTPFactory instance at 0x00000000046E7F88>
2017-07-14 14:53:19+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 59982) .
2017-07-14 14:53:19+0800 [INFO] WebSocket keepAlive is on
2017-07-14 14:53:19+0800 [INFO] websocket is connected.
2017-07-14 14:53:23+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:06:53:23 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 14:53:49+0800 [INFO] delete websock TCP connect:681612d3880246119d202d1991fadcdf
2017-07-14 14:53:49+0800 [INFO] websocket is disconnected.
2017-07-14 14:53:51+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 60048) .
2017-07-14 14:53:51+0800 [INFO] WebSocket keepAlive is on
2017-07-14 14:53:51+0800 [INFO] websocket is connected.
2017-07-14 14:53:53+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:06:53:53 +0000] "GET /devices/iptalk/getiptalkdevicemessage HTTP/1.1" 200 83 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 14:54:03+0800 [INFO] Starting SmartTalk IoTService.Version is v0.3.6
2017-07-14 14:54:03+0800 [INFO] (1050, "Table 'device' already exists")
2017-07-14 14:54:03+0800 [INFO] (1050, "Table 'devicepanel' already exists")
2017-07-14 14:54:03+0800 [INFO] (1050, "Table 'deviceio' already exists")
2017-07-14 14:54:03+0800 [INFO] (1050, "Table 'deviceaudiovideo' already exists")
2017-07-14 14:54:03+0800 [INFO] (1050, "Table 'devicealarm' already exists")
2017-07-14 14:54:03+0800 [INFO] (1050, "Table 'feedback' already exists")
2017-07-14 14:54:03+0800 [INFO] (1050, "Table 'log_call' already exists")
2017-07-14 14:54:03+0800 [INFO] (1050, "Table 'log_device' already exists")
2017-07-14 14:54:03+0800 [INFO] (1050, "Table 'log_alarm' already exists")
2017-07-14 14:54:03+0800 [INFO] (1050, "Table 'devicetree' already exists")
2017-07-14 14:54:03+0800 [INFO] (1050, "Table 'authority' already exists")
2017-07-14 14:54:03+0800 [INFO] (1050, "Table 'identity' already exists")
2017-07-14 14:54:03+0800 [INFO] (1050, "Table 'authorization' already exists")
2017-07-14 14:54:03+0800 [INFO] (1050, "Table 'user' already exists")
2017-07-14 14:54:03+0800 [INFO] TreeNode has been initialized
2017-07-14 14:54:04+0800 [INFO] FeedBack has been initialized
2017-07-14 14:54:04+0800 [INFO] Administrator has been initialized
2017-07-14 14:54:04+0800 [INFO] Opened iptalk.db successfully
2017-07-14 14:54:04+0800 [INFO] OrderFactory starting on 12200
2017-07-14 14:54:04+0800 [INFO] Starting factory <devices.iptalk.factory.OrderFactory instance at 0x00000000046308C8>
2017-07-14 14:54:04+0800 [INFO] QueryFactory starting on 34952
2017-07-14 14:54:04+0800 [INFO] Starting factory <devices.iptalk.factory.QueryFactory instance at 0x00000000046C51C8>
2017-07-14 14:54:04+0800 [INFO] AudioFactory starting on 3478
2017-07-14 14:54:04+0800 [INFO] Starting protocol <devices.iptalk.factory.AudioFactory instance at 0x00000000046C8E88>
2017-07-14 14:54:04+0800 [INFO] VideoFactory starting on 3456
2017-07-14 14:54:04+0800 [INFO] Starting protocol <devices.iptalk.factory.VideoFactory instance at 0x00000000046CC308>
2017-07-14 14:54:04+0800 [INFO] IPTalkWebSite starting on 85
2017-07-14 14:54:04+0800 [INFO] Starting factory <web.site.IPTalkWebSite instance at 0x00000000046CC648>
2017-07-14 14:54:04+0800 [INFO] WebSocketFactory starting on 89
2017-07-14 14:54:04+0800 [INFO] Starting factory <devices.iptalk.factory.WebSocketFactory instance at 0x00000000046D8088>
2017-07-14 14:54:04+0800 [INFO] TCPPushFactory starting on 90
2017-07-14 14:54:04+0800 [INFO] Starting factory <devices.iptalk.factory.TCPPushFactory instance at 0x00000000046D8548>
2017-07-14 14:54:04+0800 [INFO] SearchFactory starting on 3550
2017-07-14 14:54:04+0800 [INFO] Starting protocol <devices.iptalk.factory.SearchFactory instance at 0x00000000046D8A08>
2017-07-14 14:54:04+0800 [INFO] MyFTPFactory starting on 21
2017-07-14 14:54:04+0800 [INFO] Starting factory <devices.iptalk.ftp.MyFTPFactory instance at 0x00000000046D8D88>
2017-07-14 14:54:05+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 60083) .
2017-07-14 14:54:05+0800 [INFO] WebSocket keepAlive is on
2017-07-14 14:54:05+0800 [INFO] websocket is connected.
2017-07-14 14:54:30+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:06:54:30 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 14:54:31+0800 [ERROR] Unhandled Error
	Traceback (most recent call last):
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 1442, in dataReceived
	    finishCallback(data[contentLength:])
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 1768, in _finishRequestBody
	    self.allContentReceived()
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 1845, in allContentReceived
	    req.requestReceived(command, path, version)
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 766, in requestReceived
	    self.process()
	--- <exception caught here> ---
	  File "C:\Python27\lib\site-packages\twisted\web\server.py", line 183, in process
	    self.render(resrc)
	  File "C:\Python27\lib\site-packages\twisted\web\server.py", line 234, in render
	    body = resrc.render(self)
	  File "C:\Python27\lib\site-packages\twisted\web\resource.py", line 250, in render
	    return m(request)
	  File "D:/Documents/catcuts/project/iot_combination\devices\iptalk\webmanager.py", line 368, in render_POST
	    finish(request, self.exeSysUpgrade(request))
	  File "D:/Documents/catcuts/project/iot_combination\devices\iptalk\webmanager.py", line 129, in finish
	    request.write(results)
	  File "C:\Python27\lib\site-packages\twisted\web\server.py", line 213, in write
	    http.Request.write(self, data)
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 952, in write
	    self.sentLength = self.sentLength + len(data)
	exceptions.TypeError: object of type 'NoneType' has no len()
	
2017-07-14 14:54:31+0800 [ERROR] Unhandled Error
	Traceback (most recent call last):
	  File "C:\Python27\lib\site-packages\twisted\web\server.py", line 319, in processingFailed
	    util.formatFailure(reason) +
	  File "C:\Python27\lib\site-packages\twisted\web\util.py", line 432, in formatFailure
	    flattenString(None, FailureElement(myFailure)).addBoth(result.append)
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 410, in flattenString
	    d = flatten(request, root, io.write)
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 392, in flatten
	    _writeFlattenedData(state, write, result)
	--- <exception caught here> ---
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 353, in _writeFlattenedData
	    element = next(state)
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 321, in _flattenTree
	    raise FlattenerError(e, roots, extract_tb(exc_info()[2]))
	twisted.web.error.FlattenerError: Exception while flattening:
	  <twisted.web.util.FailureElement object at 0x0000000004758DD8>
	  [Tag(u'div', children=[u'\n', u'  ', Tag(u'style', attributes=OrderedDict([(u'type', u'text/css')]), children=[u'\n', u'    div.error {', u'\n', u'      color: red;', u'\n', u'      font-family: Verdana, Arial, helvetica, sans-serif;', u'\n', u'      font-weight: bold;', u'\n', u'    }', u'\n', u'\n', u'    div {', u'\n', u'      font-family: Verdana, Arial, helvetica, sans-serif;', u'\n', u'    }', u'\n', u'\n', u'    div.stackTrace {', u'\n', u'    }', u'\n', u'\n', u'    div.frame {', u'\n', u'      padding: 1em;', u'\n', u'      background: white;', u'\n', u'      border-bottom: thin black dashed;', u'\n', u'    }', u'\n', u'\n', u'    div.frame:first-child {', u'\n', u'      padding: 1em;', u'\n', u'      background: white;', u'\n', u'      border-top: thin black dashed;', u'\n', u'      border-bottom: thin black dashed;', u'\n', u'    }', u'\n', u'\n', u'    div.location {', u'\n', u'    }', u'\n', u'\n', u'    span.function {', u'\n', u'      font-weight: bold;', u'\n', u'      font-family: "Courier New", courier, monospace;', u'\n', u'    }', u'\n', u'\n', u'    div.snippet {', u'\n', u'      margin-bottom: 0.5em;', u'\n', u'      margin-left: 1em;', u'\n', u'      background: #FFFFDD;', u'\n', u'    }', u'\n', u'\n', u'    div.snippetHighlightLine {', u'\n', u'      color: red;', u'\n', u'    }', u'\n', u'\n', u'    span.code {', u'\n', u'      font-family: "Courier New", courier, monospace;', u'\n', u'    }', u'\n', u'  ']), u'\n', u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'error')]), children=[u'\n', u'    ', Tag(u'span'), u': ', Tag(u'span'), u'\n', u'  ']), u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'stackTrace')]), children=[u'\n', u'    ', Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']), u'\n', u'  ']), u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'error')]), children=[u'\n', u'    ', Tag(u'span'), u': ', Tag(u'span'), u'\n', u'  ']), u'\n'])]
	  Tag <div>
	  [u'\n', u'  ', Tag(u'style', attributes=OrderedDict([(u'type', u'text/css')]), children=[u'\n', u'    div.error {', u'\n', u'      color: red;', u'\n', u'      font-family: Verdana, Arial, helvetica, sans-serif;', u'\n', u'      font-weight: bold;', u'\n', u'    }', u'\n', u'\n', u'    div {', u'\n', u'      font-family: Verdana, Arial, helvetica, sans-serif;', u'\n', u'    }', u'\n', u'\n', u'    div.stackTrace {', u'\n', u'    }', u'\n', u'\n', u'    div.frame {', u'\n', u'      padding: 1em;', u'\n', u'      background: white;', u'\n', u'      border-bottom: thin black dashed;', u'\n', u'    }', u'\n', u'\n', u'    div.frame:first-child {', u'\n', u'      padding: 1em;', u'\n', u'      background: white;', u'\n', u'      border-top: thin black dashed;', u'\n', u'      border-bottom: thin black dashed;', u'\n', u'    }', u'\n', u'\n', u'    div.location {', u'\n', u'    }', u'\n', u'\n', u'    span.function {', u'\n', u'      font-weight: bold;', u'\n', u'      font-family: "Courier New", courier, monospace;', u'\n', u'    }', u'\n', u'\n', u'    div.snippet {', u'\n', u'      margin-bottom: 0.5em;', u'\n', u'      margin-left: 1em;', u'\n', u'      background: #FFFFDD;', u'\n', u'    }', u'\n', u'\n', u'    div.snippetHighlightLine {', u'\n', u'      color: red;', u'\n', u'    }', u'\n', u'\n', u'    span.code {', u'\n', u'      font-family: "Courier New", courier, monospace;', u'\n', u'    }', u'\n', u'  ']), u'\n', u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'error')]), children=[u'\n', u'    ', Tag(u'span'), u': ', Tag(u'span'), u'\n', u'  ']), u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'stackTrace')]), children=[u'\n', u'    ', Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']), u'\n', u'  ']), u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'error')]), children=[u'\n', u'    ', Tag(u'span'), u': ', Tag(u'span'), u'\n', u'  ']), u'\n']
	  Tag <div>
	  <twisted.web.util._StackElement object at 0x00000000047B8F98>
	  [Tag(u'div', attributes=OrderedDict([(u'class', u'stackTrace')]), children=[u'\n', u'    ', Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']), u'\n', u'  '])]
	  Tag <div>
	  [u'\n', u'    ', Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']), u'\n', u'  ']
	  Tag <div>
	  [<twisted.web.util._FrameElement object at 0x00000000047CB4A8>, <twisted.web.util._FrameElement object at 0x00000000047CB710>, <twisted.web.util._FrameElement object at 0x00000000047CB978>, <twisted.web.util._FrameElement object at 0x00000000047CBBE0>, <twisted.web.util._FrameElement object at 0x00000000047CBE48>, <twisted.web.util._FrameElement object at 0x00000000047E10F0>, <twisted.web.util._FrameElement object at 0x00000000047E1358>]
	  <twisted.web.util._FrameElement object at 0x00000000047CBBE0>
	  [Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    '])]
	  Tag <div>
	  [u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']
	  Tag <div>
	  <twisted.web.util._SourceFragmentElement object at 0x00000000047E1550>
	  [Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      '])]
	  Tag <div>
	  [u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']
	  Tag <div>
	  <generator object sourceLines at 0x00000000047E5168>
	  <twisted.web.util._SourceLineElement object at 0x00000000047E1860>
	  [Tag(u'div', attributes=OrderedDict([('class', 'snippetLine')]), children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        '])]
	  Tag <div>
	  [u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']
	  Tag <code>
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 312, in _flattenTree
	    element = next(stack[-1])
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 231, in _flattenElement
	    result = renderMethod(request, rootClone)
	  File "C:\Python27\lib\site-packages\twisted\web\util.py", line 171, in sourceLine
	    return tag(self.source.replace('  ', u' \N{NO-BREAK SPACE}'))
	UnicodeDecodeError: 'ascii' codec can't decode byte 0xe6 in position 10: ordinal not in range(128)
	
	
2017-07-14 14:55:09+0800 [INFO] Starting SmartTalk IoTService.Version is v0.3.6
2017-07-14 14:55:09+0800 [INFO] (1050, "Table 'device' already exists")
2017-07-14 14:55:09+0800 [INFO] (1050, "Table 'devicepanel' already exists")
2017-07-14 14:55:09+0800 [INFO] (1050, "Table 'deviceio' already exists")
2017-07-14 14:55:09+0800 [INFO] (1050, "Table 'deviceaudiovideo' already exists")
2017-07-14 14:55:09+0800 [INFO] (1050, "Table 'devicealarm' already exists")
2017-07-14 14:55:09+0800 [INFO] (1050, "Table 'feedback' already exists")
2017-07-14 14:55:09+0800 [INFO] (1050, "Table 'log_call' already exists")
2017-07-14 14:55:09+0800 [INFO] (1050, "Table 'log_device' already exists")
2017-07-14 14:55:09+0800 [INFO] (1050, "Table 'log_alarm' already exists")
2017-07-14 14:55:09+0800 [INFO] (1050, "Table 'devicetree' already exists")
2017-07-14 14:55:09+0800 [INFO] (1050, "Table 'authority' already exists")
2017-07-14 14:55:09+0800 [INFO] (1050, "Table 'identity' already exists")
2017-07-14 14:55:09+0800 [INFO] (1050, "Table 'authorization' already exists")
2017-07-14 14:55:09+0800 [INFO] (1050, "Table 'user' already exists")
2017-07-14 14:55:09+0800 [INFO] TreeNode has been initialized
2017-07-14 14:55:09+0800 [INFO] FeedBack has been initialized
2017-07-14 14:55:09+0800 [INFO] Administrator has been initialized
2017-07-14 14:55:09+0800 [INFO] Opened iptalk.db successfully
2017-07-14 14:55:10+0800 [INFO] OrderFactory starting on 12200
2017-07-14 14:55:10+0800 [INFO] Starting factory <devices.iptalk.factory.OrderFactory instance at 0x000000000456F8C8>
2017-07-14 14:55:10+0800 [INFO] QueryFactory starting on 34952
2017-07-14 14:55:10+0800 [INFO] Starting factory <devices.iptalk.factory.QueryFactory instance at 0x00000000045FB1C8>
2017-07-14 14:55:10+0800 [INFO] AudioFactory starting on 3478
2017-07-14 14:55:10+0800 [INFO] Starting protocol <devices.iptalk.factory.AudioFactory instance at 0x00000000045FEE88>
2017-07-14 14:55:10+0800 [INFO] VideoFactory starting on 3456
2017-07-14 14:55:10+0800 [INFO] Starting protocol <devices.iptalk.factory.VideoFactory instance at 0x0000000004602308>
2017-07-14 14:55:10+0800 [INFO] IPTalkWebSite starting on 85
2017-07-14 14:55:10+0800 [INFO] Starting factory <web.site.IPTalkWebSite instance at 0x0000000004602648>
2017-07-14 14:55:10+0800 [INFO] WebSocketFactory starting on 89
2017-07-14 14:55:10+0800 [INFO] Starting factory <devices.iptalk.factory.WebSocketFactory instance at 0x000000000460F288>
2017-07-14 14:55:10+0800 [INFO] TCPPushFactory starting on 90
2017-07-14 14:55:10+0800 [INFO] Starting factory <devices.iptalk.factory.TCPPushFactory instance at 0x000000000460F748>
2017-07-14 14:55:10+0800 [INFO] SearchFactory starting on 3550
2017-07-14 14:55:10+0800 [INFO] Starting protocol <devices.iptalk.factory.SearchFactory instance at 0x000000000460FC08>
2017-07-14 14:55:10+0800 [INFO] MyFTPFactory starting on 21
2017-07-14 14:55:10+0800 [INFO] Starting factory <devices.iptalk.ftp.MyFTPFactory instance at 0x000000000460FF88>
2017-07-14 14:55:11+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 60202) .
2017-07-14 14:55:11+0800 [INFO] WebSocket keepAlive is on
2017-07-14 14:55:11+0800 [INFO] websocket is connected.
2017-07-14 14:55:12+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:06:55:12 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 14:55:12+0800 [ERROR] Unhandled Error
	Traceback (most recent call last):
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 1442, in dataReceived
	    finishCallback(data[contentLength:])
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 1768, in _finishRequestBody
	    self.allContentReceived()
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 1845, in allContentReceived
	    req.requestReceived(command, path, version)
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 766, in requestReceived
	    self.process()
	--- <exception caught here> ---
	  File "C:\Python27\lib\site-packages\twisted\web\server.py", line 183, in process
	    self.render(resrc)
	  File "C:\Python27\lib\site-packages\twisted\web\server.py", line 234, in render
	    body = resrc.render(self)
	  File "C:\Python27\lib\site-packages\twisted\web\resource.py", line 250, in render
	    return m(request)
	  File "D:/Documents/catcuts/project/iot_combination\devices\iptalk\webmanager.py", line 368, in render_POST
	    finish(request, self.exeSysUpgrade(request))
	  File "D:/Documents/catcuts/project/iot_combination\devices\iptalk\webmanager.py", line 129, in finish
	    request.write(results)
	  File "C:\Python27\lib\site-packages\twisted\web\server.py", line 213, in write
	    http.Request.write(self, data)
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 952, in write
	    self.sentLength = self.sentLength + len(data)
	exceptions.TypeError: object of type 'NoneType' has no len()
	
2017-07-14 14:55:12+0800 [ERROR] Unhandled Error
	Traceback (most recent call last):
	  File "C:\Python27\lib\site-packages\twisted\web\server.py", line 319, in processingFailed
	    util.formatFailure(reason) +
	  File "C:\Python27\lib\site-packages\twisted\web\util.py", line 432, in formatFailure
	    flattenString(None, FailureElement(myFailure)).addBoth(result.append)
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 410, in flattenString
	    d = flatten(request, root, io.write)
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 392, in flatten
	    _writeFlattenedData(state, write, result)
	--- <exception caught here> ---
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 353, in _writeFlattenedData
	    element = next(state)
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 321, in _flattenTree
	    raise FlattenerError(e, roots, extract_tb(exc_info()[2]))
	twisted.web.error.FlattenerError: Exception while flattening:
	  <twisted.web.util.FailureElement object at 0x00000000046ADD68>
	  [Tag(u'div', children=[u'\n', u'  ', Tag(u'style', attributes=OrderedDict([(u'type', u'text/css')]), children=[u'\n', u'    div.error {', u'\n', u'      color: red;', u'\n', u'      font-family: Verdana, Arial, helvetica, sans-serif;', u'\n', u'      font-weight: bold;', u'\n', u'    }', u'\n', u'\n', u'    div {', u'\n', u'      font-family: Verdana, Arial, helvetica, sans-serif;', u'\n', u'    }', u'\n', u'\n', u'    div.stackTrace {', u'\n', u'    }', u'\n', u'\n', u'    div.frame {', u'\n', u'      padding: 1em;', u'\n', u'      background: white;', u'\n', u'      border-bottom: thin black dashed;', u'\n', u'    }', u'\n', u'\n', u'    div.frame:first-child {', u'\n', u'      padding: 1em;', u'\n', u'      background: white;', u'\n', u'      border-top: thin black dashed;', u'\n', u'      border-bottom: thin black dashed;', u'\n', u'    }', u'\n', u'\n', u'    div.location {', u'\n', u'    }', u'\n', u'\n', u'    span.function {', u'\n', u'      font-weight: bold;', u'\n', u'      font-family: "Courier New", courier, monospace;', u'\n', u'    }', u'\n', u'\n', u'    div.snippet {', u'\n', u'      margin-bottom: 0.5em;', u'\n', u'      margin-left: 1em;', u'\n', u'      background: #FFFFDD;', u'\n', u'    }', u'\n', u'\n', u'    div.snippetHighlightLine {', u'\n', u'      color: red;', u'\n', u'    }', u'\n', u'\n', u'    span.code {', u'\n', u'      font-family: "Courier New", courier, monospace;', u'\n', u'    }', u'\n', u'  ']), u'\n', u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'error')]), children=[u'\n', u'    ', Tag(u'span'), u': ', Tag(u'span'), u'\n', u'  ']), u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'stackTrace')]), children=[u'\n', u'    ', Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']), u'\n', u'  ']), u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'error')]), children=[u'\n', u'    ', Tag(u'span'), u': ', Tag(u'span'), u'\n', u'  ']), u'\n'])]
	  Tag <div>
	  [u'\n', u'  ', Tag(u'style', attributes=OrderedDict([(u'type', u'text/css')]), children=[u'\n', u'    div.error {', u'\n', u'      color: red;', u'\n', u'      font-family: Verdana, Arial, helvetica, sans-serif;', u'\n', u'      font-weight: bold;', u'\n', u'    }', u'\n', u'\n', u'    div {', u'\n', u'      font-family: Verdana, Arial, helvetica, sans-serif;', u'\n', u'    }', u'\n', u'\n', u'    div.stackTrace {', u'\n', u'    }', u'\n', u'\n', u'    div.frame {', u'\n', u'      padding: 1em;', u'\n', u'      background: white;', u'\n', u'      border-bottom: thin black dashed;', u'\n', u'    }', u'\n', u'\n', u'    div.frame:first-child {', u'\n', u'      padding: 1em;', u'\n', u'      background: white;', u'\n', u'      border-top: thin black dashed;', u'\n', u'      border-bottom: thin black dashed;', u'\n', u'    }', u'\n', u'\n', u'    div.location {', u'\n', u'    }', u'\n', u'\n', u'    span.function {', u'\n', u'      font-weight: bold;', u'\n', u'      font-family: "Courier New", courier, monospace;', u'\n', u'    }', u'\n', u'\n', u'    div.snippet {', u'\n', u'      margin-bottom: 0.5em;', u'\n', u'      margin-left: 1em;', u'\n', u'      background: #FFFFDD;', u'\n', u'    }', u'\n', u'\n', u'    div.snippetHighlightLine {', u'\n', u'      color: red;', u'\n', u'    }', u'\n', u'\n', u'    span.code {', u'\n', u'      font-family: "Courier New", courier, monospace;', u'\n', u'    }', u'\n', u'  ']), u'\n', u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'error')]), children=[u'\n', u'    ', Tag(u'span'), u': ', Tag(u'span'), u'\n', u'  ']), u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'stackTrace')]), children=[u'\n', u'    ', Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']), u'\n', u'  ']), u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'error')]), children=[u'\n', u'    ', Tag(u'span'), u': ', Tag(u'span'), u'\n', u'  ']), u'\n']
	  Tag <div>
	  <twisted.web.util._StackElement object at 0x00000000046EFF60>
	  [Tag(u'div', attributes=OrderedDict([(u'class', u'stackTrace')]), children=[u'\n', u'    ', Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']), u'\n', u'  '])]
	  Tag <div>
	  [u'\n', u'    ', Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']), u'\n', u'  ']
	  Tag <div>
	  [<twisted.web.util._FrameElement object at 0x0000000004749470>, <twisted.web.util._FrameElement object at 0x00000000047496D8>, <twisted.web.util._FrameElement object at 0x0000000004749940>, <twisted.web.util._FrameElement object at 0x0000000004749BA8>, <twisted.web.util._FrameElement object at 0x0000000004749E10>, <twisted.web.util._FrameElement object at 0x00000000047600B8>, <twisted.web.util._FrameElement object at 0x0000000004760320>]
	  <twisted.web.util._FrameElement object at 0x0000000004749BA8>
	  [Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    '])]
	  Tag <div>
	  [u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']
	  Tag <div>
	  <twisted.web.util._SourceFragmentElement object at 0x0000000004760518>
	  [Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      '])]
	  Tag <div>
	  [u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']
	  Tag <div>
	  <generator object sourceLines at 0x0000000004748240>
	  <twisted.web.util._SourceLineElement object at 0x0000000004760828>
	  [Tag(u'div', attributes=OrderedDict([('class', 'snippetLine')]), children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        '])]
	  Tag <div>
	  [u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']
	  Tag <code>
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 312, in _flattenTree
	    element = next(stack[-1])
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 231, in _flattenElement
	    result = renderMethod(request, rootClone)
	  File "C:\Python27\lib\site-packages\twisted\web\util.py", line 171, in sourceLine
	    return tag(self.source.replace('  ', u' \N{NO-BREAK SPACE}'))
	UnicodeDecodeError: 'ascii' codec can't decode byte 0xe6 in position 10: ordinal not in range(128)
	
	
2017-07-14 14:56:45+0800 [INFO] Starting SmartTalk IoTService.Version is v0.3.6
2017-07-14 14:56:45+0800 [INFO] (1050, "Table 'device' already exists")
2017-07-14 14:56:45+0800 [INFO] (1050, "Table 'devicepanel' already exists")
2017-07-14 14:56:45+0800 [INFO] (1050, "Table 'deviceio' already exists")
2017-07-14 14:56:45+0800 [INFO] (1050, "Table 'deviceaudiovideo' already exists")
2017-07-14 14:56:45+0800 [INFO] (1050, "Table 'devicealarm' already exists")
2017-07-14 14:56:45+0800 [INFO] (1050, "Table 'feedback' already exists")
2017-07-14 14:56:45+0800 [INFO] (1050, "Table 'log_call' already exists")
2017-07-14 14:56:45+0800 [INFO] (1050, "Table 'log_device' already exists")
2017-07-14 14:56:45+0800 [INFO] (1050, "Table 'log_alarm' already exists")
2017-07-14 14:56:45+0800 [INFO] (1050, "Table 'devicetree' already exists")
2017-07-14 14:56:45+0800 [INFO] (1050, "Table 'authority' already exists")
2017-07-14 14:56:45+0800 [INFO] (1050, "Table 'identity' already exists")
2017-07-14 14:56:45+0800 [INFO] (1050, "Table 'authorization' already exists")
2017-07-14 14:56:45+0800 [INFO] (1050, "Table 'user' already exists")
2017-07-14 14:56:45+0800 [INFO] TreeNode has been initialized
2017-07-14 14:56:45+0800 [INFO] FeedBack has been initialized
2017-07-14 14:56:45+0800 [INFO] Administrator has been initialized
2017-07-14 14:56:45+0800 [INFO] Opened iptalk.db successfully
2017-07-14 14:56:45+0800 [INFO] OrderFactory starting on 12200
2017-07-14 14:56:45+0800 [INFO] Starting factory <devices.iptalk.factory.OrderFactory instance at 0x000000000454D8C8>
2017-07-14 14:56:45+0800 [INFO] QueryFactory starting on 34952
2017-07-14 14:56:45+0800 [INFO] Starting factory <devices.iptalk.factory.QueryFactory instance at 0x00000000045D91C8>
2017-07-14 14:56:45+0800 [INFO] AudioFactory starting on 3478
2017-07-14 14:56:45+0800 [INFO] Starting protocol <devices.iptalk.factory.AudioFactory instance at 0x00000000045DCE88>
2017-07-14 14:56:45+0800 [INFO] VideoFactory starting on 3456
2017-07-14 14:56:45+0800 [INFO] Starting protocol <devices.iptalk.factory.VideoFactory instance at 0x00000000045E0308>
2017-07-14 14:56:45+0800 [INFO] IPTalkWebSite starting on 85
2017-07-14 14:56:45+0800 [INFO] Starting factory <web.site.IPTalkWebSite instance at 0x00000000045E0648>
2017-07-14 14:56:45+0800 [INFO] WebSocketFactory starting on 89
2017-07-14 14:56:45+0800 [INFO] Starting factory <devices.iptalk.factory.WebSocketFactory instance at 0x00000000045EB288>
2017-07-14 14:56:45+0800 [INFO] TCPPushFactory starting on 90
2017-07-14 14:56:45+0800 [INFO] Starting factory <devices.iptalk.factory.TCPPushFactory instance at 0x00000000045EB748>
2017-07-14 14:56:45+0800 [INFO] SearchFactory starting on 3550
2017-07-14 14:56:45+0800 [INFO] Starting protocol <devices.iptalk.factory.SearchFactory instance at 0x00000000045EBC08>
2017-07-14 14:56:45+0800 [INFO] MyFTPFactory starting on 21
2017-07-14 14:56:45+0800 [INFO] Starting factory <devices.iptalk.ftp.MyFTPFactory instance at 0x00000000045EBF88>
2017-07-14 14:56:48+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:06:56:47 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 14:56:48+0800 [ERROR] Unhandled Error
	Traceback (most recent call last):
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 1442, in dataReceived
	    finishCallback(data[contentLength:])
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 1768, in _finishRequestBody
	    self.allContentReceived()
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 1845, in allContentReceived
	    req.requestReceived(command, path, version)
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 766, in requestReceived
	    self.process()
	--- <exception caught here> ---
	  File "C:\Python27\lib\site-packages\twisted\web\server.py", line 183, in process
	    self.render(resrc)
	  File "C:\Python27\lib\site-packages\twisted\web\server.py", line 234, in render
	    body = resrc.render(self)
	  File "C:\Python27\lib\site-packages\twisted\web\resource.py", line 250, in render
	    return m(request)
	  File "D:/Documents/catcuts/project/iot_combination\devices\iptalk\webmanager.py", line 368, in render_POST
	    finish(request, self.exeSysUpgrade(request))
	  File "D:/Documents/catcuts/project/iot_combination\devices\iptalk\webmanager.py", line 129, in finish
	    request.write(results)
	  File "C:\Python27\lib\site-packages\twisted\web\server.py", line 213, in write
	    http.Request.write(self, data)
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 952, in write
	    self.sentLength = self.sentLength + len(data)
	exceptions.TypeError: object of type 'NoneType' has no len()
	
2017-07-14 14:56:48+0800 [ERROR] Unhandled Error
	Traceback (most recent call last):
	  File "C:\Python27\lib\site-packages\twisted\web\server.py", line 319, in processingFailed
	    util.formatFailure(reason) +
	  File "C:\Python27\lib\site-packages\twisted\web\util.py", line 432, in formatFailure
	    flattenString(None, FailureElement(myFailure)).addBoth(result.append)
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 410, in flattenString
	    d = flatten(request, root, io.write)
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 392, in flatten
	    _writeFlattenedData(state, write, result)
	--- <exception caught here> ---
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 353, in _writeFlattenedData
	    element = next(state)
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 321, in _flattenTree
	    raise FlattenerError(e, roots, extract_tb(exc_info()[2]))
	twisted.web.error.FlattenerError: Exception while flattening:
	  <twisted.web.util.FailureElement object at 0x000000000468D940>
	  [Tag(u'div', children=[u'\n', u'  ', Tag(u'style', attributes=OrderedDict([(u'type', u'text/css')]), children=[u'\n', u'    div.error {', u'\n', u'      color: red;', u'\n', u'      font-family: Verdana, Arial, helvetica, sans-serif;', u'\n', u'      font-weight: bold;', u'\n', u'    }', u'\n', u'\n', u'    div {', u'\n', u'      font-family: Verdana, Arial, helvetica, sans-serif;', u'\n', u'    }', u'\n', u'\n', u'    div.stackTrace {', u'\n', u'    }', u'\n', u'\n', u'    div.frame {', u'\n', u'      padding: 1em;', u'\n', u'      background: white;', u'\n', u'      border-bottom: thin black dashed;', u'\n', u'    }', u'\n', u'\n', u'    div.frame:first-child {', u'\n', u'      padding: 1em;', u'\n', u'      background: white;', u'\n', u'      border-top: thin black dashed;', u'\n', u'      border-bottom: thin black dashed;', u'\n', u'    }', u'\n', u'\n', u'    div.location {', u'\n', u'    }', u'\n', u'\n', u'    span.function {', u'\n', u'      font-weight: bold;', u'\n', u'      font-family: "Courier New", courier, monospace;', u'\n', u'    }', u'\n', u'\n', u'    div.snippet {', u'\n', u'      margin-bottom: 0.5em;', u'\n', u'      margin-left: 1em;', u'\n', u'      background: #FFFFDD;', u'\n', u'    }', u'\n', u'\n', u'    div.snippetHighlightLine {', u'\n', u'      color: red;', u'\n', u'    }', u'\n', u'\n', u'    span.code {', u'\n', u'      font-family: "Courier New", courier, monospace;', u'\n', u'    }', u'\n', u'  ']), u'\n', u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'error')]), children=[u'\n', u'    ', Tag(u'span'), u': ', Tag(u'span'), u'\n', u'  ']), u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'stackTrace')]), children=[u'\n', u'    ', Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']), u'\n', u'  ']), u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'error')]), children=[u'\n', u'    ', Tag(u'span'), u': ', Tag(u'span'), u'\n', u'  ']), u'\n'])]
	  Tag <div>
	  [u'\n', u'  ', Tag(u'style', attributes=OrderedDict([(u'type', u'text/css')]), children=[u'\n', u'    div.error {', u'\n', u'      color: red;', u'\n', u'      font-family: Verdana, Arial, helvetica, sans-serif;', u'\n', u'      font-weight: bold;', u'\n', u'    }', u'\n', u'\n', u'    div {', u'\n', u'      font-family: Verdana, Arial, helvetica, sans-serif;', u'\n', u'    }', u'\n', u'\n', u'    div.stackTrace {', u'\n', u'    }', u'\n', u'\n', u'    div.frame {', u'\n', u'      padding: 1em;', u'\n', u'      background: white;', u'\n', u'      border-bottom: thin black dashed;', u'\n', u'    }', u'\n', u'\n', u'    div.frame:first-child {', u'\n', u'      padding: 1em;', u'\n', u'      background: white;', u'\n', u'      border-top: thin black dashed;', u'\n', u'      border-bottom: thin black dashed;', u'\n', u'    }', u'\n', u'\n', u'    div.location {', u'\n', u'    }', u'\n', u'\n', u'    span.function {', u'\n', u'      font-weight: bold;', u'\n', u'      font-family: "Courier New", courier, monospace;', u'\n', u'    }', u'\n', u'\n', u'    div.snippet {', u'\n', u'      margin-bottom: 0.5em;', u'\n', u'      margin-left: 1em;', u'\n', u'      background: #FFFFDD;', u'\n', u'    }', u'\n', u'\n', u'    div.snippetHighlightLine {', u'\n', u'      color: red;', u'\n', u'    }', u'\n', u'\n', u'    span.code {', u'\n', u'      font-family: "Courier New", courier, monospace;', u'\n', u'    }', u'\n', u'  ']), u'\n', u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'error')]), children=[u'\n', u'    ', Tag(u'span'), u': ', Tag(u'span'), u'\n', u'  ']), u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'stackTrace')]), children=[u'\n', u'    ', Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']), u'\n', u'  ']), u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'error')]), children=[u'\n', u'    ', Tag(u'span'), u': ', Tag(u'span'), u'\n', u'  ']), u'\n']
	  Tag <div>
	  <twisted.web.util._StackElement object at 0x00000000046D0B38>
	  [Tag(u'div', attributes=OrderedDict([(u'class', u'stackTrace')]), children=[u'\n', u'    ', Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']), u'\n', u'  '])]
	  Tag <div>
	  [u'\n', u'    ', Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']), u'\n', u'  ']
	  Tag <div>
	  [<twisted.web.util._FrameElement object at 0x0000000004725048>, <twisted.web.util._FrameElement object at 0x00000000047252B0>, <twisted.web.util._FrameElement object at 0x0000000004725518>, <twisted.web.util._FrameElement object at 0x0000000004725780>, <twisted.web.util._FrameElement object at 0x00000000047259E8>, <twisted.web.util._FrameElement object at 0x0000000004725C50>, <twisted.web.util._FrameElement object at 0x0000000004725EB8>]
	  <twisted.web.util._FrameElement object at 0x0000000004725780>
	  [Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    '])]
	  Tag <div>
	  [u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']
	  Tag <div>
	  <twisted.web.util._SourceFragmentElement object at 0x00000000047390F0>
	  [Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      '])]
	  Tag <div>
	  [u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']
	  Tag <div>
	  <generator object sourceLines at 0x000000000473A798>
	  <twisted.web.util._SourceLineElement object at 0x0000000004739400>
	  [Tag(u'div', attributes=OrderedDict([('class', 'snippetLine')]), children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        '])]
	  Tag <div>
	  [u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']
	  Tag <code>
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 312, in _flattenTree
	    element = next(stack[-1])
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 231, in _flattenElement
	    result = renderMethod(request, rootClone)
	  File "C:\Python27\lib\site-packages\twisted\web\util.py", line 171, in sourceLine
	    return tag(self.source.replace('  ', u' \N{NO-BREAK SPACE}'))
	UnicodeDecodeError: 'ascii' codec can't decode byte 0xe6 in position 10: ordinal not in range(128)
	
	
2017-07-14 14:56:51+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 60371) .
2017-07-14 14:56:51+0800 [INFO] WebSocket keepAlive is on
2017-07-14 14:56:51+0800 [INFO] websocket is connected.
2017-07-14 14:57:21+0800 [INFO] Starting SmartTalk IoTService.Version is v0.3.6
2017-07-14 14:57:21+0800 [INFO] (1050, "Table 'device' already exists")
2017-07-14 14:57:21+0800 [INFO] (1050, "Table 'devicepanel' already exists")
2017-07-14 14:57:21+0800 [INFO] (1050, "Table 'deviceio' already exists")
2017-07-14 14:57:21+0800 [INFO] (1050, "Table 'deviceaudiovideo' already exists")
2017-07-14 14:57:21+0800 [INFO] (1050, "Table 'devicealarm' already exists")
2017-07-14 14:57:21+0800 [INFO] (1050, "Table 'feedback' already exists")
2017-07-14 14:57:21+0800 [INFO] (1050, "Table 'log_call' already exists")
2017-07-14 14:57:21+0800 [INFO] (1050, "Table 'log_device' already exists")
2017-07-14 14:57:21+0800 [INFO] (1050, "Table 'log_alarm' already exists")
2017-07-14 14:57:21+0800 [INFO] (1050, "Table 'devicetree' already exists")
2017-07-14 14:57:21+0800 [INFO] (1050, "Table 'authority' already exists")
2017-07-14 14:57:21+0800 [INFO] (1050, "Table 'identity' already exists")
2017-07-14 14:57:21+0800 [INFO] (1050, "Table 'authorization' already exists")
2017-07-14 14:57:21+0800 [INFO] (1050, "Table 'user' already exists")
2017-07-14 14:57:21+0800 [INFO] TreeNode has been initialized
2017-07-14 14:57:21+0800 [INFO] FeedBack has been initialized
2017-07-14 14:57:21+0800 [INFO] Administrator has been initialized
2017-07-14 14:57:21+0800 [INFO] Opened iptalk.db successfully
2017-07-14 14:57:22+0800 [INFO] OrderFactory starting on 12200
2017-07-14 14:57:22+0800 [INFO] Starting factory <devices.iptalk.factory.OrderFactory instance at 0x000000000473D8C8>
2017-07-14 14:57:22+0800 [INFO] QueryFactory starting on 34952
2017-07-14 14:57:22+0800 [INFO] Starting factory <devices.iptalk.factory.QueryFactory instance at 0x00000000047C91C8>
2017-07-14 14:57:22+0800 [INFO] AudioFactory starting on 3478
2017-07-14 14:57:22+0800 [INFO] Starting protocol <devices.iptalk.factory.AudioFactory instance at 0x00000000047CCE88>
2017-07-14 14:57:22+0800 [INFO] VideoFactory starting on 3456
2017-07-14 14:57:22+0800 [INFO] Starting protocol <devices.iptalk.factory.VideoFactory instance at 0x00000000047D0308>
2017-07-14 14:57:22+0800 [INFO] IPTalkWebSite starting on 85
2017-07-14 14:57:22+0800 [INFO] Starting factory <web.site.IPTalkWebSite instance at 0x00000000047D0648>
2017-07-14 14:57:22+0800 [INFO] WebSocketFactory starting on 89
2017-07-14 14:57:22+0800 [INFO] Starting factory <devices.iptalk.factory.WebSocketFactory instance at 0x00000000047DD288>
2017-07-14 14:57:22+0800 [INFO] TCPPushFactory starting on 90
2017-07-14 14:57:22+0800 [INFO] Starting factory <devices.iptalk.factory.TCPPushFactory instance at 0x00000000047DD748>
2017-07-14 14:57:22+0800 [INFO] SearchFactory starting on 3550
2017-07-14 14:57:22+0800 [INFO] Starting protocol <devices.iptalk.factory.SearchFactory instance at 0x00000000047DDC08>
2017-07-14 14:57:22+0800 [INFO] MyFTPFactory starting on 21
2017-07-14 14:57:22+0800 [INFO] Starting factory <devices.iptalk.ftp.MyFTPFactory instance at 0x00000000047DDF88>
2017-07-14 14:57:22+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 60424) .
2017-07-14 14:57:22+0800 [INFO] WebSocket keepAlive is on
2017-07-14 14:57:22+0800 [INFO] websocket is connected.
2017-07-14 14:57:24+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:06:57:24 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 14:57:24+0800 [ERROR] Unhandled Error
	Traceback (most recent call last):
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 1442, in dataReceived
	    finishCallback(data[contentLength:])
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 1768, in _finishRequestBody
	    self.allContentReceived()
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 1845, in allContentReceived
	    req.requestReceived(command, path, version)
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 766, in requestReceived
	    self.process()
	--- <exception caught here> ---
	  File "C:\Python27\lib\site-packages\twisted\web\server.py", line 183, in process
	    self.render(resrc)
	  File "C:\Python27\lib\site-packages\twisted\web\server.py", line 234, in render
	    body = resrc.render(self)
	  File "C:\Python27\lib\site-packages\twisted\web\resource.py", line 250, in render
	    return m(request)
	  File "D:/Documents/catcuts/project/iot_combination\devices\iptalk\webmanager.py", line 368, in render_POST
	    finish(request, self.exeSysUpgrade(request))
	  File "D:/Documents/catcuts/project/iot_combination\devices\iptalk\webmanager.py", line 129, in finish
	    request.write(results)
	  File "C:\Python27\lib\site-packages\twisted\web\server.py", line 213, in write
	    http.Request.write(self, data)
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 952, in write
	    self.sentLength = self.sentLength + len(data)
	exceptions.TypeError: object of type 'NoneType' has no len()
	
2017-07-14 14:57:24+0800 [ERROR] Unhandled Error
	Traceback (most recent call last):
	  File "C:\Python27\lib\site-packages\twisted\web\server.py", line 319, in processingFailed
	    util.formatFailure(reason) +
	  File "C:\Python27\lib\site-packages\twisted\web\util.py", line 432, in formatFailure
	    flattenString(None, FailureElement(myFailure)).addBoth(result.append)
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 410, in flattenString
	    d = flatten(request, root, io.write)
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 392, in flatten
	    _writeFlattenedData(state, write, result)
	--- <exception caught here> ---
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 353, in _writeFlattenedData
	    element = next(state)
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 321, in _flattenTree
	    raise FlattenerError(e, roots, extract_tb(exc_info()[2]))
	twisted.web.error.FlattenerError: Exception while flattening:
	  <twisted.web.util.FailureElement object at 0x00000000048A5240>
	  [Tag(u'div', children=[u'\n', u'  ', Tag(u'style', attributes=OrderedDict([(u'type', u'text/css')]), children=[u'\n', u'    div.error {', u'\n', u'      color: red;', u'\n', u'      font-family: Verdana, Arial, helvetica, sans-serif;', u'\n', u'      font-weight: bold;', u'\n', u'    }', u'\n', u'\n', u'    div {', u'\n', u'      font-family: Verdana, Arial, helvetica, sans-serif;', u'\n', u'    }', u'\n', u'\n', u'    div.stackTrace {', u'\n', u'    }', u'\n', u'\n', u'    div.frame {', u'\n', u'      padding: 1em;', u'\n', u'      background: white;', u'\n', u'      border-bottom: thin black dashed;', u'\n', u'    }', u'\n', u'\n', u'    div.frame:first-child {', u'\n', u'      padding: 1em;', u'\n', u'      background: white;', u'\n', u'      border-top: thin black dashed;', u'\n', u'      border-bottom: thin black dashed;', u'\n', u'    }', u'\n', u'\n', u'    div.location {', u'\n', u'    }', u'\n', u'\n', u'    span.function {', u'\n', u'      font-weight: bold;', u'\n', u'      font-family: "Courier New", courier, monospace;', u'\n', u'    }', u'\n', u'\n', u'    div.snippet {', u'\n', u'      margin-bottom: 0.5em;', u'\n', u'      margin-left: 1em;', u'\n', u'      background: #FFFFDD;', u'\n', u'    }', u'\n', u'\n', u'    div.snippetHighlightLine {', u'\n', u'      color: red;', u'\n', u'    }', u'\n', u'\n', u'    span.code {', u'\n', u'      font-family: "Courier New", courier, monospace;', u'\n', u'    }', u'\n', u'  ']), u'\n', u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'error')]), children=[u'\n', u'    ', Tag(u'span'), u': ', Tag(u'span'), u'\n', u'  ']), u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'stackTrace')]), children=[u'\n', u'    ', Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']), u'\n', u'  ']), u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'error')]), children=[u'\n', u'    ', Tag(u'span'), u': ', Tag(u'span'), u'\n', u'  ']), u'\n'])]
	  Tag <div>
	  [u'\n', u'  ', Tag(u'style', attributes=OrderedDict([(u'type', u'text/css')]), children=[u'\n', u'    div.error {', u'\n', u'      color: red;', u'\n', u'      font-family: Verdana, Arial, helvetica, sans-serif;', u'\n', u'      font-weight: bold;', u'\n', u'    }', u'\n', u'\n', u'    div {', u'\n', u'      font-family: Verdana, Arial, helvetica, sans-serif;', u'\n', u'    }', u'\n', u'\n', u'    div.stackTrace {', u'\n', u'    }', u'\n', u'\n', u'    div.frame {', u'\n', u'      padding: 1em;', u'\n', u'      background: white;', u'\n', u'      border-bottom: thin black dashed;', u'\n', u'    }', u'\n', u'\n', u'    div.frame:first-child {', u'\n', u'      padding: 1em;', u'\n', u'      background: white;', u'\n', u'      border-top: thin black dashed;', u'\n', u'      border-bottom: thin black dashed;', u'\n', u'    }', u'\n', u'\n', u'    div.location {', u'\n', u'    }', u'\n', u'\n', u'    span.function {', u'\n', u'      font-weight: bold;', u'\n', u'      font-family: "Courier New", courier, monospace;', u'\n', u'    }', u'\n', u'\n', u'    div.snippet {', u'\n', u'      margin-bottom: 0.5em;', u'\n', u'      margin-left: 1em;', u'\n', u'      background: #FFFFDD;', u'\n', u'    }', u'\n', u'\n', u'    div.snippetHighlightLine {', u'\n', u'      color: red;', u'\n', u'    }', u'\n', u'\n', u'    span.code {', u'\n', u'      font-family: "Courier New", courier, monospace;', u'\n', u'    }', u'\n', u'  ']), u'\n', u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'error')]), children=[u'\n', u'    ', Tag(u'span'), u': ', Tag(u'span'), u'\n', u'  ']), u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'stackTrace')]), children=[u'\n', u'    ', Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']), u'\n', u'  ']), u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'error')]), children=[u'\n', u'    ', Tag(u'span'), u': ', Tag(u'span'), u'\n', u'  ']), u'\n']
	  Tag <div>
	  <twisted.web.util._StackElement object at 0x000000000497A470>
	  [Tag(u'div', attributes=OrderedDict([(u'class', u'stackTrace')]), children=[u'\n', u'    ', Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']), u'\n', u'  '])]
	  Tag <div>
	  [u'\n', u'    ', Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']), u'\n', u'  ']
	  Tag <div>
	  [<twisted.web.util._FrameElement object at 0x000000000497A940>, <twisted.web.util._FrameElement object at 0x000000000497ABA8>, <twisted.web.util._FrameElement object at 0x000000000497AE10>, <twisted.web.util._FrameElement object at 0x000000000498F0B8>, <twisted.web.util._FrameElement object at 0x000000000498F320>, <twisted.web.util._FrameElement object at 0x000000000498F588>, <twisted.web.util._FrameElement object at 0x000000000498F7F0>]
	  <twisted.web.util._FrameElement object at 0x000000000498F0B8>
	  [Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    '])]
	  Tag <div>
	  [u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']
	  Tag <div>
	  <twisted.web.util._SourceFragmentElement object at 0x000000000498F9E8>
	  [Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      '])]
	  Tag <div>
	  [u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']
	  Tag <div>
	  <generator object sourceLines at 0x00000000049803A8>
	  <twisted.web.util._SourceLineElement object at 0x000000000498FCF8>
	  [Tag(u'div', attributes=OrderedDict([('class', 'snippetLine')]), children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        '])]
	  Tag <div>
	  [u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']
	  Tag <code>
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 312, in _flattenTree
	    element = next(stack[-1])
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 231, in _flattenElement
	    result = renderMethod(request, rootClone)
	  File "C:\Python27\lib\site-packages\twisted\web\util.py", line 171, in sourceLine
	    return tag(self.source.replace('  ', u' \N{NO-BREAK SPACE}'))
	UnicodeDecodeError: 'ascii' codec can't decode byte 0xe6 in position 10: ordinal not in range(128)
	
	
2017-07-14 14:58:08+0800 [INFO] Starting SmartTalk IoTService.Version is v0.3.6
2017-07-14 14:58:08+0800 [INFO] (1050, "Table 'device' already exists")
2017-07-14 14:58:08+0800 [INFO] (1050, "Table 'devicepanel' already exists")
2017-07-14 14:58:08+0800 [INFO] (1050, "Table 'deviceio' already exists")
2017-07-14 14:58:08+0800 [INFO] (1050, "Table 'deviceaudiovideo' already exists")
2017-07-14 14:58:08+0800 [INFO] (1050, "Table 'devicealarm' already exists")
2017-07-14 14:58:08+0800 [INFO] (1050, "Table 'feedback' already exists")
2017-07-14 14:58:08+0800 [INFO] (1050, "Table 'log_call' already exists")
2017-07-14 14:58:08+0800 [INFO] (1050, "Table 'log_device' already exists")
2017-07-14 14:58:08+0800 [INFO] (1050, "Table 'log_alarm' already exists")
2017-07-14 14:58:08+0800 [INFO] (1050, "Table 'devicetree' already exists")
2017-07-14 14:58:08+0800 [INFO] (1050, "Table 'authority' already exists")
2017-07-14 14:58:08+0800 [INFO] (1050, "Table 'identity' already exists")
2017-07-14 14:58:08+0800 [INFO] (1050, "Table 'authorization' already exists")
2017-07-14 14:58:08+0800 [INFO] (1050, "Table 'user' already exists")
2017-07-14 14:58:08+0800 [INFO] TreeNode has been initialized
2017-07-14 14:58:08+0800 [INFO] FeedBack has been initialized
2017-07-14 14:58:08+0800 [INFO] Administrator has been initialized
2017-07-14 14:58:08+0800 [INFO] Opened iptalk.db successfully
2017-07-14 14:58:08+0800 [INFO] OrderFactory starting on 12200
2017-07-14 14:58:08+0800 [INFO] Starting factory <devices.iptalk.factory.OrderFactory instance at 0x00000000046A48C8>
2017-07-14 14:58:08+0800 [INFO] QueryFactory starting on 34952
2017-07-14 14:58:08+0800 [INFO] Starting factory <devices.iptalk.factory.QueryFactory instance at 0x000000000472F108>
2017-07-14 14:58:08+0800 [INFO] AudioFactory starting on 3478
2017-07-14 14:58:08+0800 [INFO] Starting protocol <devices.iptalk.factory.AudioFactory instance at 0x0000000004732E88>
2017-07-14 14:58:08+0800 [INFO] VideoFactory starting on 3456
2017-07-14 14:58:08+0800 [INFO] Starting protocol <devices.iptalk.factory.VideoFactory instance at 0x0000000004737308>
2017-07-14 14:58:08+0800 [INFO] IPTalkWebSite starting on 85
2017-07-14 14:58:08+0800 [INFO] Starting factory <web.site.IPTalkWebSite instance at 0x0000000004737648>
2017-07-14 14:58:08+0800 [INFO] WebSocketFactory starting on 89
2017-07-14 14:58:08+0800 [INFO] Starting factory <devices.iptalk.factory.WebSocketFactory instance at 0x0000000004744288>
2017-07-14 14:58:08+0800 [INFO] TCPPushFactory starting on 90
2017-07-14 14:58:08+0800 [INFO] Starting factory <devices.iptalk.factory.TCPPushFactory instance at 0x0000000004744748>
2017-07-14 14:58:08+0800 [INFO] SearchFactory starting on 3550
2017-07-14 14:58:08+0800 [INFO] Starting protocol <devices.iptalk.factory.SearchFactory instance at 0x0000000004744C08>
2017-07-14 14:58:08+0800 [INFO] MyFTPFactory starting on 21
2017-07-14 14:58:08+0800 [INFO] Starting factory <devices.iptalk.ftp.MyFTPFactory instance at 0x0000000004744F88>
2017-07-14 14:58:10+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 60514) .
2017-07-14 14:58:10+0800 [INFO] WebSocket keepAlive is on
2017-07-14 14:58:10+0800 [INFO] websocket is connected.
2017-07-14 14:58:11+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:06:58:11 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 14:58:34+0800 [ERROR] Unhandled Error
	Traceback (most recent call last):
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 1442, in dataReceived
	    finishCallback(data[contentLength:])
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 1768, in _finishRequestBody
	    self.allContentReceived()
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 1845, in allContentReceived
	    req.requestReceived(command, path, version)
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 766, in requestReceived
	    self.process()
	--- <exception caught here> ---
	  File "C:\Python27\lib\site-packages\twisted\web\server.py", line 183, in process
	    self.render(resrc)
	  File "C:\Python27\lib\site-packages\twisted\web\server.py", line 234, in render
	    body = resrc.render(self)
	  File "C:\Python27\lib\site-packages\twisted\web\resource.py", line 250, in render
	    return m(request)
	  File "D:/Documents/catcuts/project/iot_combination\devices\iptalk\webmanager.py", line 368, in render_POST
	    finish(request, self.exeSysUpgrade(request))
	  File "D:/Documents/catcuts/project/iot_combination\devices\iptalk\webmanager.py", line 129, in finish
	    request.write(results)
	  File "C:\Python27\lib\site-packages\twisted\web\server.py", line 213, in write
	    http.Request.write(self, data)
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 952, in write
	    self.sentLength = self.sentLength + len(data)
	exceptions.TypeError: object of type 'NoneType' has no len()
	
2017-07-14 14:58:34+0800 [ERROR] Unhandled Error
	Traceback (most recent call last):
	  File "C:\Python27\lib\site-packages\twisted\web\server.py", line 319, in processingFailed
	    util.formatFailure(reason) +
	  File "C:\Python27\lib\site-packages\twisted\web\util.py", line 432, in formatFailure
	    flattenString(None, FailureElement(myFailure)).addBoth(result.append)
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 410, in flattenString
	    d = flatten(request, root, io.write)
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 392, in flatten
	    _writeFlattenedData(state, write, result)
	--- <exception caught here> ---
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 353, in _writeFlattenedData
	    element = next(state)
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 321, in _flattenTree
	    raise FlattenerError(e, roots, extract_tb(exc_info()[2]))
	twisted.web.error.FlattenerError: Exception while flattening:
	  <twisted.web.util.FailureElement object at 0x0000000004814048>
	  [Tag(u'div', children=[u'\n', u'  ', Tag(u'style', attributes=OrderedDict([(u'type', u'text/css')]), children=[u'\n', u'    div.error {', u'\n', u'      color: red;', u'\n', u'      font-family: Verdana, Arial, helvetica, sans-serif;', u'\n', u'      font-weight: bold;', u'\n', u'    }', u'\n', u'\n', u'    div {', u'\n', u'      font-family: Verdana, Arial, helvetica, sans-serif;', u'\n', u'    }', u'\n', u'\n', u'    div.stackTrace {', u'\n', u'    }', u'\n', u'\n', u'    div.frame {', u'\n', u'      padding: 1em;', u'\n', u'      background: white;', u'\n', u'      border-bottom: thin black dashed;', u'\n', u'    }', u'\n', u'\n', u'    div.frame:first-child {', u'\n', u'      padding: 1em;', u'\n', u'      background: white;', u'\n', u'      border-top: thin black dashed;', u'\n', u'      border-bottom: thin black dashed;', u'\n', u'    }', u'\n', u'\n', u'    div.location {', u'\n', u'    }', u'\n', u'\n', u'    span.function {', u'\n', u'      font-weight: bold;', u'\n', u'      font-family: "Courier New", courier, monospace;', u'\n', u'    }', u'\n', u'\n', u'    div.snippet {', u'\n', u'      margin-bottom: 0.5em;', u'\n', u'      margin-left: 1em;', u'\n', u'      background: #FFFFDD;', u'\n', u'    }', u'\n', u'\n', u'    div.snippetHighlightLine {', u'\n', u'      color: red;', u'\n', u'    }', u'\n', u'\n', u'    span.code {', u'\n', u'      font-family: "Courier New", courier, monospace;', u'\n', u'    }', u'\n', u'  ']), u'\n', u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'error')]), children=[u'\n', u'    ', Tag(u'span'), u': ', Tag(u'span'), u'\n', u'  ']), u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'stackTrace')]), children=[u'\n', u'    ', Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']), u'\n', u'  ']), u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'error')]), children=[u'\n', u'    ', Tag(u'span'), u': ', Tag(u'span'), u'\n', u'  ']), u'\n'])]
	  Tag <div>
	  [u'\n', u'  ', Tag(u'style', attributes=OrderedDict([(u'type', u'text/css')]), children=[u'\n', u'    div.error {', u'\n', u'      color: red;', u'\n', u'      font-family: Verdana, Arial, helvetica, sans-serif;', u'\n', u'      font-weight: bold;', u'\n', u'    }', u'\n', u'\n', u'    div {', u'\n', u'      font-family: Verdana, Arial, helvetica, sans-serif;', u'\n', u'    }', u'\n', u'\n', u'    div.stackTrace {', u'\n', u'    }', u'\n', u'\n', u'    div.frame {', u'\n', u'      padding: 1em;', u'\n', u'      background: white;', u'\n', u'      border-bottom: thin black dashed;', u'\n', u'    }', u'\n', u'\n', u'    div.frame:first-child {', u'\n', u'      padding: 1em;', u'\n', u'      background: white;', u'\n', u'      border-top: thin black dashed;', u'\n', u'      border-bottom: thin black dashed;', u'\n', u'    }', u'\n', u'\n', u'    div.location {', u'\n', u'    }', u'\n', u'\n', u'    span.function {', u'\n', u'      font-weight: bold;', u'\n', u'      font-family: "Courier New", courier, monospace;', u'\n', u'    }', u'\n', u'\n', u'    div.snippet {', u'\n', u'      margin-bottom: 0.5em;', u'\n', u'      margin-left: 1em;', u'\n', u'      background: #FFFFDD;', u'\n', u'    }', u'\n', u'\n', u'    div.snippetHighlightLine {', u'\n', u'      color: red;', u'\n', u'    }', u'\n', u'\n', u'    span.code {', u'\n', u'      font-family: "Courier New", courier, monospace;', u'\n', u'    }', u'\n', u'  ']), u'\n', u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'error')]), children=[u'\n', u'    ', Tag(u'span'), u': ', Tag(u'span'), u'\n', u'  ']), u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'stackTrace')]), children=[u'\n', u'    ', Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']), u'\n', u'  ']), u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'error')]), children=[u'\n', u'    ', Tag(u'span'), u': ', Tag(u'span'), u'\n', u'  ']), u'\n']
	  Tag <div>
	  <twisted.web.util._StackElement object at 0x00000000048D04E0>
	  [Tag(u'div', attributes=OrderedDict([(u'class', u'stackTrace')]), children=[u'\n', u'    ', Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']), u'\n', u'  '])]
	  Tag <div>
	  [u'\n', u'    ', Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']), u'\n', u'  ']
	  Tag <div>
	  [<twisted.web.util._FrameElement object at 0x00000000048D09B0>, <twisted.web.util._FrameElement object at 0x00000000048D0C18>, <twisted.web.util._FrameElement object at 0x00000000048D0E80>, <twisted.web.util._FrameElement object at 0x000000000490B128>, <twisted.web.util._FrameElement object at 0x000000000490B390>, <twisted.web.util._FrameElement object at 0x000000000490B5F8>, <twisted.web.util._FrameElement object at 0x000000000490B860>]
	  <twisted.web.util._FrameElement object at 0x000000000490B128>
	  [Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    '])]
	  Tag <div>
	  [u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']
	  Tag <div>
	  <twisted.web.util._SourceFragmentElement object at 0x000000000490BA58>
	  [Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      '])]
	  Tag <div>
	  [u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']
	  Tag <div>
	  <generator object sourceLines at 0x00000000048D53A8>
	  <twisted.web.util._SourceLineElement object at 0x000000000490BD68>
	  [Tag(u'div', attributes=OrderedDict([('class', 'snippetLine')]), children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        '])]
	  Tag <div>
	  [u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']
	  Tag <code>
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 312, in _flattenTree
	    element = next(stack[-1])
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 231, in _flattenElement
	    result = renderMethod(request, rootClone)
	  File "C:\Python27\lib\site-packages\twisted\web\util.py", line 171, in sourceLine
	    return tag(self.source.replace('  ', u' \N{NO-BREAK SPACE}'))
	UnicodeDecodeError: 'ascii' codec can't decode byte 0xe6 in position 10: ordinal not in range(128)
	
	
2017-07-14 15:01:58+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:07:01:58 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 15:02:03+0800 [ERROR] Unhandled Error
	Traceback (most recent call last):
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 1442, in dataReceived
	    finishCallback(data[contentLength:])
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 1768, in _finishRequestBody
	    self.allContentReceived()
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 1845, in allContentReceived
	    req.requestReceived(command, path, version)
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 766, in requestReceived
	    self.process()
	--- <exception caught here> ---
	  File "C:\Python27\lib\site-packages\twisted\web\server.py", line 183, in process
	    self.render(resrc)
	  File "C:\Python27\lib\site-packages\twisted\web\server.py", line 234, in render
	    body = resrc.render(self)
	  File "C:\Python27\lib\site-packages\twisted\web\resource.py", line 250, in render
	    return m(request)
	  File "D:/Documents/catcuts/project/iot_combination\devices\iptalk\webmanager.py", line 368, in render_POST
	    finish(request, self.exeSysUpgrade(request))
	  File "D:/Documents/catcuts/project/iot_combination\devices\iptalk\webmanager.py", line 129, in finish
	    request.write(results)
	  File "C:\Python27\lib\site-packages\twisted\web\server.py", line 213, in write
	    http.Request.write(self, data)
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 952, in write
	    self.sentLength = self.sentLength + len(data)
	exceptions.TypeError: object of type 'NoneType' has no len()
	
2017-07-14 15:02:04+0800 [ERROR] Unhandled Error
	Traceback (most recent call last):
	  File "C:\Python27\lib\site-packages\twisted\web\server.py", line 319, in processingFailed
	    util.formatFailure(reason) +
	  File "C:\Python27\lib\site-packages\twisted\web\util.py", line 432, in formatFailure
	    flattenString(None, FailureElement(myFailure)).addBoth(result.append)
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 410, in flattenString
	    d = flatten(request, root, io.write)
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 392, in flatten
	    _writeFlattenedData(state, write, result)
	--- <exception caught here> ---
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 353, in _writeFlattenedData
	    element = next(state)
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 321, in _flattenTree
	    raise FlattenerError(e, roots, extract_tb(exc_info()[2]))
	twisted.web.error.FlattenerError: Exception while flattening:
	  <twisted.web.util.FailureElement object at 0x00000000049230F0>
	  [Tag(u'div', children=[u'\n', u'  ', Tag(u'style', attributes=OrderedDict([(u'type', u'text/css')]), children=[u'\n', u'    div.error {', u'\n', u'      color: red;', u'\n', u'      font-family: Verdana, Arial, helvetica, sans-serif;', u'\n', u'      font-weight: bold;', u'\n', u'    }', u'\n', u'\n', u'    div {', u'\n', u'      font-family: Verdana, Arial, helvetica, sans-serif;', u'\n', u'    }', u'\n', u'\n', u'    div.stackTrace {', u'\n', u'    }', u'\n', u'\n', u'    div.frame {', u'\n', u'      padding: 1em;', u'\n', u'      background: white;', u'\n', u'      border-bottom: thin black dashed;', u'\n', u'    }', u'\n', u'\n', u'    div.frame:first-child {', u'\n', u'      padding: 1em;', u'\n', u'      background: white;', u'\n', u'      border-top: thin black dashed;', u'\n', u'      border-bottom: thin black dashed;', u'\n', u'    }', u'\n', u'\n', u'    div.location {', u'\n', u'    }', u'\n', u'\n', u'    span.function {', u'\n', u'      font-weight: bold;', u'\n', u'      font-family: "Courier New", courier, monospace;', u'\n', u'    }', u'\n', u'\n', u'    div.snippet {', u'\n', u'      margin-bottom: 0.5em;', u'\n', u'      margin-left: 1em;', u'\n', u'      background: #FFFFDD;', u'\n', u'    }', u'\n', u'\n', u'    div.snippetHighlightLine {', u'\n', u'      color: red;', u'\n', u'    }', u'\n', u'\n', u'    span.code {', u'\n', u'      font-family: "Courier New", courier, monospace;', u'\n', u'    }', u'\n', u'  ']), u'\n', u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'error')]), children=[u'\n', u'    ', Tag(u'span'), u': ', Tag(u'span'), u'\n', u'  ']), u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'stackTrace')]), children=[u'\n', u'    ', Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']), u'\n', u'  ']), u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'error')]), children=[u'\n', u'    ', Tag(u'span'), u': ', Tag(u'span'), u'\n', u'  ']), u'\n'])]
	  Tag <div>
	  [u'\n', u'  ', Tag(u'style', attributes=OrderedDict([(u'type', u'text/css')]), children=[u'\n', u'    div.error {', u'\n', u'      color: red;', u'\n', u'      font-family: Verdana, Arial, helvetica, sans-serif;', u'\n', u'      font-weight: bold;', u'\n', u'    }', u'\n', u'\n', u'    div {', u'\n', u'      font-family: Verdana, Arial, helvetica, sans-serif;', u'\n', u'    }', u'\n', u'\n', u'    div.stackTrace {', u'\n', u'    }', u'\n', u'\n', u'    div.frame {', u'\n', u'      padding: 1em;', u'\n', u'      background: white;', u'\n', u'      border-bottom: thin black dashed;', u'\n', u'    }', u'\n', u'\n', u'    div.frame:first-child {', u'\n', u'      padding: 1em;', u'\n', u'      background: white;', u'\n', u'      border-top: thin black dashed;', u'\n', u'      border-bottom: thin black dashed;', u'\n', u'    }', u'\n', u'\n', u'    div.location {', u'\n', u'    }', u'\n', u'\n', u'    span.function {', u'\n', u'      font-weight: bold;', u'\n', u'      font-family: "Courier New", courier, monospace;', u'\n', u'    }', u'\n', u'\n', u'    div.snippet {', u'\n', u'      margin-bottom: 0.5em;', u'\n', u'      margin-left: 1em;', u'\n', u'      background: #FFFFDD;', u'\n', u'    }', u'\n', u'\n', u'    div.snippetHighlightLine {', u'\n', u'      color: red;', u'\n', u'    }', u'\n', u'\n', u'    span.code {', u'\n', u'      font-family: "Courier New", courier, monospace;', u'\n', u'    }', u'\n', u'  ']), u'\n', u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'error')]), children=[u'\n', u'    ', Tag(u'span'), u': ', Tag(u'span'), u'\n', u'  ']), u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'stackTrace')]), children=[u'\n', u'    ', Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']), u'\n', u'  ']), u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'error')]), children=[u'\n', u'    ', Tag(u'span'), u': ', Tag(u'span'), u'\n', u'  ']), u'\n']
	  Tag <div>
	  <twisted.web.util._StackElement object at 0x0000000004923208>
	  [Tag(u'div', attributes=OrderedDict([(u'class', u'stackTrace')]), children=[u'\n', u'    ', Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']), u'\n', u'  '])]
	  Tag <div>
	  [u'\n', u'    ', Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']), u'\n', u'  ']
	  Tag <div>
	  [<twisted.web.util._FrameElement object at 0x0000000004923780>, <twisted.web.util._FrameElement object at 0x0000000004923A20>, <twisted.web.util._FrameElement object at 0x0000000004923BE0>, <twisted.web.util._FrameElement object at 0x00000000049233C8>, <twisted.web.util._FrameElement object at 0x0000000004943208>, <twisted.web.util._FrameElement object at 0x0000000004943470>, <twisted.web.util._FrameElement object at 0x00000000049436D8>]
	  <twisted.web.util._FrameElement object at 0x00000000049233C8>
	  [Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    '])]
	  Tag <div>
	  [u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']
	  Tag <div>
	  <twisted.web.util._SourceFragmentElement object at 0x0000000004943780>
	  [Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      '])]
	  Tag <div>
	  [u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']
	  Tag <div>
	  <generator object sourceLines at 0x0000000004929E58>
	  <twisted.web.util._SourceLineElement object at 0x00000000049438D0>
	  [Tag(u'div', attributes=OrderedDict([('class', 'snippetLine')]), children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        '])]
	  Tag <div>
	  [u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']
	  Tag <code>
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 312, in _flattenTree
	    element = next(stack[-1])
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 231, in _flattenElement
	    result = renderMethod(request, rootClone)
	  File "C:\Python27\lib\site-packages\twisted\web\util.py", line 171, in sourceLine
	    return tag(self.source.replace('  ', u' \N{NO-BREAK SPACE}'))
	UnicodeDecodeError: 'ascii' codec can't decode byte 0xe6 in position 10: ordinal not in range(128)
	
	
2017-07-14 15:02:04+0800 [ERROR] Unhandled error in Deferred:
2017-07-14 15:02:04+0800 [ERROR] Unhandled Error
	Traceback (most recent call last):
	  File "C:\Python27\lib\threading.py", line 810, in __bootstrap_inner
	    self.run()
	  File "C:\Python27\lib\threading.py", line 763, in run
	    self.__target(*self.__args, **self.__kwargs)
	  File "C:\Python27\lib\site-packages\twisted\_threads\_threadworker.py", line 46, in work
	    task()
	  File "C:\Python27\lib\site-packages\twisted\_threads\_team.py", line 190, in doWork
	    task()
	--- <exception caught here> ---
	  File "C:\Python27\lib\site-packages\twisted\python\threadpool.py", line 246, in inContext
	    result = inContext.theWork()
	  File "C:\Python27\lib\site-packages\twisted\python\threadpool.py", line 262, in <lambda>
	    inContext.theWork = lambda: context.call(ctx, func, *args, **kw)
	  File "C:\Python27\lib\site-packages\twisted\python\context.py", line 118, in callWithContext
	    return self.currentContext().callWithContext(ctx, func, *args, **kw)
	  File "C:\Python27\lib\site-packages\twisted\python\context.py", line 81, in callWithContext
	    return func(*args,**kw)
	  File "D:/Documents/catcuts/project/iot_combination\utils\updatasys.py", line 83, in update
	    shutil.rmtree(bkup) # 删除 bkup
	  File "C:\Python27\lib\shutil.py", line 247, in rmtree
	    rmtree(fullname, ignore_errors, onerror)
	  File "C:\Python27\lib\shutil.py", line 247, in rmtree
	    rmtree(fullname, ignore_errors, onerror)
	  File "C:\Python27\lib\shutil.py", line 247, in rmtree
	    rmtree(fullname, ignore_errors, onerror)
	  File "C:\Python27\lib\shutil.py", line 252, in rmtree
	    onerror(os.remove, fullname, sys.exc_info())
	  File "C:\Python27\lib\shutil.py", line 250, in rmtree
	    os.remove(fullname)
	exceptions.WindowsError: [Error 5] : 'D:\\Documents\\catcuts\\project\\iot_combination_bkup\\.git\\objects\\pack\\pack-a1b166e9245f97bdd4bf53ac4b93f78d8f7ff7ac.idx'
	
2017-07-14 15:02:30+0800 [INFO] Starting SmartTalk IoTService.Version is v0.3.6
2017-07-14 15:02:30+0800 [INFO] (1050, "Table 'device' already exists")
2017-07-14 15:02:30+0800 [INFO] (1050, "Table 'devicepanel' already exists")
2017-07-14 15:02:30+0800 [INFO] (1050, "Table 'deviceio' already exists")
2017-07-14 15:02:30+0800 [INFO] (1050, "Table 'deviceaudiovideo' already exists")
2017-07-14 15:02:30+0800 [INFO] (1050, "Table 'devicealarm' already exists")
2017-07-14 15:02:30+0800 [INFO] (1050, "Table 'feedback' already exists")
2017-07-14 15:02:30+0800 [INFO] (1050, "Table 'log_call' already exists")
2017-07-14 15:02:30+0800 [INFO] (1050, "Table 'log_device' already exists")
2017-07-14 15:02:30+0800 [INFO] (1050, "Table 'log_alarm' already exists")
2017-07-14 15:02:30+0800 [INFO] (1050, "Table 'devicetree' already exists")
2017-07-14 15:02:30+0800 [INFO] (1050, "Table 'authority' already exists")
2017-07-14 15:02:30+0800 [INFO] (1050, "Table 'identity' already exists")
2017-07-14 15:02:30+0800 [INFO] (1050, "Table 'authorization' already exists")
2017-07-14 15:02:30+0800 [INFO] (1050, "Table 'user' already exists")
2017-07-14 15:02:30+0800 [INFO] TreeNode has been initialized
2017-07-14 15:02:30+0800 [INFO] FeedBack has been initialized
2017-07-14 15:02:30+0800 [INFO] Administrator has been initialized
2017-07-14 15:02:30+0800 [INFO] Opened iptalk.db successfully
2017-07-14 15:02:30+0800 [INFO] OrderFactory starting on 12200
2017-07-14 15:02:30+0800 [INFO] Starting factory <devices.iptalk.factory.OrderFactory instance at 0x00000000046E98C8>
2017-07-14 15:02:30+0800 [INFO] QueryFactory starting on 34952
2017-07-14 15:02:30+0800 [INFO] Starting factory <devices.iptalk.factory.QueryFactory instance at 0x00000000047741C8>
2017-07-14 15:02:30+0800 [INFO] AudioFactory starting on 3478
2017-07-14 15:02:30+0800 [INFO] Starting protocol <devices.iptalk.factory.AudioFactory instance at 0x0000000004777E88>
2017-07-14 15:02:30+0800 [INFO] VideoFactory starting on 3456
2017-07-14 15:02:30+0800 [INFO] Starting protocol <devices.iptalk.factory.VideoFactory instance at 0x000000000477C308>
2017-07-14 15:02:30+0800 [INFO] IPTalkWebSite starting on 85
2017-07-14 15:02:30+0800 [INFO] Starting factory <web.site.IPTalkWebSite instance at 0x000000000477C648>
2017-07-14 15:02:30+0800 [INFO] WebSocketFactory starting on 89
2017-07-14 15:02:30+0800 [INFO] Starting factory <devices.iptalk.factory.WebSocketFactory instance at 0x00000000047880C8>
2017-07-14 15:02:30+0800 [INFO] TCPPushFactory starting on 90
2017-07-14 15:02:30+0800 [INFO] Starting factory <devices.iptalk.factory.TCPPushFactory instance at 0x0000000004788588>
2017-07-14 15:02:30+0800 [INFO] SearchFactory starting on 3550
2017-07-14 15:02:30+0800 [INFO] Starting protocol <devices.iptalk.factory.SearchFactory instance at 0x0000000004788A48>
2017-07-14 15:02:30+0800 [INFO] MyFTPFactory starting on 21
2017-07-14 15:02:30+0800 [INFO] Starting factory <devices.iptalk.ftp.MyFTPFactory instance at 0x0000000004788DC8>
2017-07-14 15:02:31+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 61058) .
2017-07-14 15:02:31+0800 [INFO] WebSocket keepAlive is on
2017-07-14 15:02:31+0800 [INFO] websocket is connected.
2017-07-14 15:02:51+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:07:02:50 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 15:03:39+0800 [ERROR] Unhandled Error
	Traceback (most recent call last):
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 1442, in dataReceived
	    finishCallback(data[contentLength:])
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 1768, in _finishRequestBody
	    self.allContentReceived()
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 1845, in allContentReceived
	    req.requestReceived(command, path, version)
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 766, in requestReceived
	    self.process()
	--- <exception caught here> ---
	  File "C:\Python27\lib\site-packages\twisted\web\server.py", line 183, in process
	    self.render(resrc)
	  File "C:\Python27\lib\site-packages\twisted\web\server.py", line 234, in render
	    body = resrc.render(self)
	  File "C:\Python27\lib\site-packages\twisted\web\resource.py", line 250, in render
	    return m(request)
	  File "D:/Documents/catcuts/project/iot_combination\devices\iptalk\webmanager.py", line 368, in render_POST
	    finish(request, self.exeSysUpgrade(request))
	  File "D:/Documents/catcuts/project/iot_combination\devices\iptalk\webmanager.py", line 129, in finish
	    request.write(results)
	  File "C:\Python27\lib\site-packages\twisted\web\server.py", line 213, in write
	    http.Request.write(self, data)
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 952, in write
	    self.sentLength = self.sentLength + len(data)
	exceptions.TypeError: object of type 'NoneType' has no len()
	
2017-07-14 15:03:39+0800 [ERROR] Unhandled Error
	Traceback (most recent call last):
	  File "C:\Python27\lib\site-packages\twisted\web\server.py", line 319, in processingFailed
	    util.formatFailure(reason) +
	  File "C:\Python27\lib\site-packages\twisted\web\util.py", line 432, in formatFailure
	    flattenString(None, FailureElement(myFailure)).addBoth(result.append)
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 410, in flattenString
	    d = flatten(request, root, io.write)
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 392, in flatten
	    _writeFlattenedData(state, write, result)
	--- <exception caught here> ---
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 353, in _writeFlattenedData
	    element = next(state)
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 321, in _flattenTree
	    raise FlattenerError(e, roots, extract_tb(exc_info()[2]))
	twisted.web.error.FlattenerError: Exception while flattening:
	  <twisted.web.util.FailureElement object at 0x000000000484F438>
	  [Tag(u'div', children=[u'\n', u'  ', Tag(u'style', attributes=OrderedDict([(u'type', u'text/css')]), children=[u'\n', u'    div.error {', u'\n', u'      color: red;', u'\n', u'      font-family: Verdana, Arial, helvetica, sans-serif;', u'\n', u'      font-weight: bold;', u'\n', u'    }', u'\n', u'\n', u'    div {', u'\n', u'      font-family: Verdana, Arial, helvetica, sans-serif;', u'\n', u'    }', u'\n', u'\n', u'    div.stackTrace {', u'\n', u'    }', u'\n', u'\n', u'    div.frame {', u'\n', u'      padding: 1em;', u'\n', u'      background: white;', u'\n', u'      border-bottom: thin black dashed;', u'\n', u'    }', u'\n', u'\n', u'    div.frame:first-child {', u'\n', u'      padding: 1em;', u'\n', u'      background: white;', u'\n', u'      border-top: thin black dashed;', u'\n', u'      border-bottom: thin black dashed;', u'\n', u'    }', u'\n', u'\n', u'    div.location {', u'\n', u'    }', u'\n', u'\n', u'    span.function {', u'\n', u'      font-weight: bold;', u'\n', u'      font-family: "Courier New", courier, monospace;', u'\n', u'    }', u'\n', u'\n', u'    div.snippet {', u'\n', u'      margin-bottom: 0.5em;', u'\n', u'      margin-left: 1em;', u'\n', u'      background: #FFFFDD;', u'\n', u'    }', u'\n', u'\n', u'    div.snippetHighlightLine {', u'\n', u'      color: red;', u'\n', u'    }', u'\n', u'\n', u'    span.code {', u'\n', u'      font-family: "Courier New", courier, monospace;', u'\n', u'    }', u'\n', u'  ']), u'\n', u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'error')]), children=[u'\n', u'    ', Tag(u'span'), u': ', Tag(u'span'), u'\n', u'  ']), u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'stackTrace')]), children=[u'\n', u'    ', Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']), u'\n', u'  ']), u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'error')]), children=[u'\n', u'    ', Tag(u'span'), u': ', Tag(u'span'), u'\n', u'  ']), u'\n'])]
	  Tag <div>
	  [u'\n', u'  ', Tag(u'style', attributes=OrderedDict([(u'type', u'text/css')]), children=[u'\n', u'    div.error {', u'\n', u'      color: red;', u'\n', u'      font-family: Verdana, Arial, helvetica, sans-serif;', u'\n', u'      font-weight: bold;', u'\n', u'    }', u'\n', u'\n', u'    div {', u'\n', u'      font-family: Verdana, Arial, helvetica, sans-serif;', u'\n', u'    }', u'\n', u'\n', u'    div.stackTrace {', u'\n', u'    }', u'\n', u'\n', u'    div.frame {', u'\n', u'      padding: 1em;', u'\n', u'      background: white;', u'\n', u'      border-bottom: thin black dashed;', u'\n', u'    }', u'\n', u'\n', u'    div.frame:first-child {', u'\n', u'      padding: 1em;', u'\n', u'      background: white;', u'\n', u'      border-top: thin black dashed;', u'\n', u'      border-bottom: thin black dashed;', u'\n', u'    }', u'\n', u'\n', u'    div.location {', u'\n', u'    }', u'\n', u'\n', u'    span.function {', u'\n', u'      font-weight: bold;', u'\n', u'      font-family: "Courier New", courier, monospace;', u'\n', u'    }', u'\n', u'\n', u'    div.snippet {', u'\n', u'      margin-bottom: 0.5em;', u'\n', u'      margin-left: 1em;', u'\n', u'      background: #FFFFDD;', u'\n', u'    }', u'\n', u'\n', u'    div.snippetHighlightLine {', u'\n', u'      color: red;', u'\n', u'    }', u'\n', u'\n', u'    span.code {', u'\n', u'      font-family: "Courier New", courier, monospace;', u'\n', u'    }', u'\n', u'  ']), u'\n', u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'error')]), children=[u'\n', u'    ', Tag(u'span'), u': ', Tag(u'span'), u'\n', u'  ']), u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'stackTrace')]), children=[u'\n', u'    ', Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']), u'\n', u'  ']), u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'error')]), children=[u'\n', u'    ', Tag(u'span'), u': ', Tag(u'span'), u'\n', u'  ']), u'\n']
	  Tag <div>
	  <twisted.web.util._StackElement object at 0x00000000048C6588>
	  [Tag(u'div', attributes=OrderedDict([(u'class', u'stackTrace')]), children=[u'\n', u'    ', Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']), u'\n', u'  '])]
	  Tag <div>
	  [u'\n', u'    ', Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']), u'\n', u'  ']
	  Tag <div>
	  [<twisted.web.util._FrameElement object at 0x00000000048C6A58>, <twisted.web.util._FrameElement object at 0x00000000048C6CC0>, <twisted.web.util._FrameElement object at 0x00000000048C6F28>, <twisted.web.util._FrameElement object at 0x00000000048F51D0>, <twisted.web.util._FrameElement object at 0x00000000048F5438>, <twisted.web.util._FrameElement object at 0x00000000048F56A0>, <twisted.web.util._FrameElement object at 0x00000000048F5908>]
	  <twisted.web.util._FrameElement object at 0x00000000048F51D0>
	  [Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    '])]
	  Tag <div>
	  [u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']
	  Tag <div>
	  <twisted.web.util._SourceFragmentElement object at 0x00000000048F5B00>
	  [Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      '])]
	  Tag <div>
	  [u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']
	  Tag <div>
	  <generator object sourceLines at 0x00000000048CE3A8>
	  <twisted.web.util._SourceLineElement object at 0x00000000048F5E10>
	  [Tag(u'div', attributes=OrderedDict([('class', 'snippetLine')]), children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        '])]
	  Tag <div>
	  [u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']
	  Tag <code>
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 312, in _flattenTree
	    element = next(stack[-1])
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 231, in _flattenElement
	    result = renderMethod(request, rootClone)
	  File "C:\Python27\lib\site-packages\twisted\web\util.py", line 171, in sourceLine
	    return tag(self.source.replace('  ', u' \N{NO-BREAK SPACE}'))
	UnicodeDecodeError: 'ascii' codec can't decode byte 0xe6 in position 10: ordinal not in range(128)
	
	
2017-07-14 15:03:53+0800 [INFO] Starting SmartTalk IoTService.Version is v0.3.6
2017-07-14 15:03:53+0800 [INFO] (1050, "Table 'device' already exists")
2017-07-14 15:03:53+0800 [INFO] (1050, "Table 'devicepanel' already exists")
2017-07-14 15:03:53+0800 [INFO] (1050, "Table 'deviceio' already exists")
2017-07-14 15:03:53+0800 [INFO] (1050, "Table 'deviceaudiovideo' already exists")
2017-07-14 15:03:53+0800 [INFO] (1050, "Table 'devicealarm' already exists")
2017-07-14 15:03:53+0800 [INFO] (1050, "Table 'feedback' already exists")
2017-07-14 15:03:53+0800 [INFO] (1050, "Table 'log_call' already exists")
2017-07-14 15:03:53+0800 [INFO] (1050, "Table 'log_device' already exists")
2017-07-14 15:03:53+0800 [INFO] (1050, "Table 'log_alarm' already exists")
2017-07-14 15:03:53+0800 [INFO] (1050, "Table 'devicetree' already exists")
2017-07-14 15:03:53+0800 [INFO] (1050, "Table 'authority' already exists")
2017-07-14 15:03:53+0800 [INFO] (1050, "Table 'identity' already exists")
2017-07-14 15:03:53+0800 [INFO] (1050, "Table 'authorization' already exists")
2017-07-14 15:03:53+0800 [INFO] (1050, "Table 'user' already exists")
2017-07-14 15:03:53+0800 [INFO] TreeNode has been initialized
2017-07-14 15:03:53+0800 [INFO] FeedBack has been initialized
2017-07-14 15:03:53+0800 [INFO] Administrator has been initialized
2017-07-14 15:03:53+0800 [INFO] Opened iptalk.db successfully
2017-07-14 15:03:53+0800 [INFO] OrderFactory starting on 12200
2017-07-14 15:03:53+0800 [INFO] Starting factory <devices.iptalk.factory.OrderFactory instance at 0x000000000470B8C8>
2017-07-14 15:03:53+0800 [INFO] QueryFactory starting on 34952
2017-07-14 15:03:53+0800 [INFO] Starting factory <devices.iptalk.factory.QueryFactory instance at 0x00000000047971C8>
2017-07-14 15:03:53+0800 [INFO] AudioFactory starting on 3478
2017-07-14 15:03:53+0800 [INFO] Starting protocol <devices.iptalk.factory.AudioFactory instance at 0x000000000479AE88>
2017-07-14 15:03:53+0800 [INFO] VideoFactory starting on 3456
2017-07-14 15:03:53+0800 [INFO] Starting protocol <devices.iptalk.factory.VideoFactory instance at 0x000000000479E308>
2017-07-14 15:03:53+0800 [INFO] IPTalkWebSite starting on 85
2017-07-14 15:03:53+0800 [INFO] Starting factory <web.site.IPTalkWebSite instance at 0x000000000479E648>
2017-07-14 15:03:53+0800 [INFO] WebSocketFactory starting on 89
2017-07-14 15:03:53+0800 [INFO] Starting factory <devices.iptalk.factory.WebSocketFactory instance at 0x00000000047AB0C8>
2017-07-14 15:03:53+0800 [INFO] TCPPushFactory starting on 90
2017-07-14 15:03:53+0800 [INFO] Starting factory <devices.iptalk.factory.TCPPushFactory instance at 0x00000000047AB588>
2017-07-14 15:03:53+0800 [INFO] SearchFactory starting on 3550
2017-07-14 15:03:53+0800 [INFO] Starting protocol <devices.iptalk.factory.SearchFactory instance at 0x00000000047ABA48>
2017-07-14 15:03:53+0800 [INFO] MyFTPFactory starting on 21
2017-07-14 15:03:53+0800 [INFO] Starting factory <devices.iptalk.ftp.MyFTPFactory instance at 0x00000000047ABDC8>
2017-07-14 15:03:54+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 61206) .
2017-07-14 15:03:54+0800 [INFO] WebSocket keepAlive is on
2017-07-14 15:03:54+0800 [INFO] websocket is connected.
2017-07-14 15:04:06+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:07:04:05 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 15:04:06+0800 [ERROR] Unhandled Error
	Traceback (most recent call last):
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 1442, in dataReceived
	    finishCallback(data[contentLength:])
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 1768, in _finishRequestBody
	    self.allContentReceived()
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 1845, in allContentReceived
	    req.requestReceived(command, path, version)
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 766, in requestReceived
	    self.process()
	--- <exception caught here> ---
	  File "C:\Python27\lib\site-packages\twisted\web\server.py", line 183, in process
	    self.render(resrc)
	  File "C:\Python27\lib\site-packages\twisted\web\server.py", line 234, in render
	    body = resrc.render(self)
	  File "C:\Python27\lib\site-packages\twisted\web\resource.py", line 250, in render
	    return m(request)
	  File "D:/Documents/catcuts/project/iot_combination\devices\iptalk\webmanager.py", line 368, in render_POST
	    finish(request, self.exeSysUpgrade(request))
	  File "D:/Documents/catcuts/project/iot_combination\devices\iptalk\webmanager.py", line 129, in finish
	    request.write(results)
	  File "C:\Python27\lib\site-packages\twisted\web\server.py", line 213, in write
	    http.Request.write(self, data)
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 952, in write
	    self.sentLength = self.sentLength + len(data)
	exceptions.TypeError: object of type 'NoneType' has no len()
	
2017-07-14 15:04:06+0800 [ERROR] Unhandled Error
	Traceback (most recent call last):
	  File "C:\Python27\lib\site-packages\twisted\web\server.py", line 319, in processingFailed
	    util.formatFailure(reason) +
	  File "C:\Python27\lib\site-packages\twisted\web\util.py", line 432, in formatFailure
	    flattenString(None, FailureElement(myFailure)).addBoth(result.append)
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 410, in flattenString
	    d = flatten(request, root, io.write)
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 392, in flatten
	    _writeFlattenedData(state, write, result)
	--- <exception caught here> ---
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 353, in _writeFlattenedData
	    element = next(state)
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 321, in _flattenTree
	    raise FlattenerError(e, roots, extract_tb(exc_info()[2]))
	twisted.web.error.FlattenerError: Exception while flattening:
	  <twisted.web.util.FailureElement object at 0x000000000487F278>
	  [Tag(u'div', children=[u'\n', u'  ', Tag(u'style', attributes=OrderedDict([(u'type', u'text/css')]), children=[u'\n', u'    div.error {', u'\n', u'      color: red;', u'\n', u'      font-family: Verdana, Arial, helvetica, sans-serif;', u'\n', u'      font-weight: bold;', u'\n', u'    }', u'\n', u'\n', u'    div {', u'\n', u'      font-family: Verdana, Arial, helvetica, sans-serif;', u'\n', u'    }', u'\n', u'\n', u'    div.stackTrace {', u'\n', u'    }', u'\n', u'\n', u'    div.frame {', u'\n', u'      padding: 1em;', u'\n', u'      background: white;', u'\n', u'      border-bottom: thin black dashed;', u'\n', u'    }', u'\n', u'\n', u'    div.frame:first-child {', u'\n', u'      padding: 1em;', u'\n', u'      background: white;', u'\n', u'      border-top: thin black dashed;', u'\n', u'      border-bottom: thin black dashed;', u'\n', u'    }', u'\n', u'\n', u'    div.location {', u'\n', u'    }', u'\n', u'\n', u'    span.function {', u'\n', u'      font-weight: bold;', u'\n', u'      font-family: "Courier New", courier, monospace;', u'\n', u'    }', u'\n', u'\n', u'    div.snippet {', u'\n', u'      margin-bottom: 0.5em;', u'\n', u'      margin-left: 1em;', u'\n', u'      background: #FFFFDD;', u'\n', u'    }', u'\n', u'\n', u'    div.snippetHighlightLine {', u'\n', u'      color: red;', u'\n', u'    }', u'\n', u'\n', u'    span.code {', u'\n', u'      font-family: "Courier New", courier, monospace;', u'\n', u'    }', u'\n', u'  ']), u'\n', u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'error')]), children=[u'\n', u'    ', Tag(u'span'), u': ', Tag(u'span'), u'\n', u'  ']), u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'stackTrace')]), children=[u'\n', u'    ', Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']), u'\n', u'  ']), u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'error')]), children=[u'\n', u'    ', Tag(u'span'), u': ', Tag(u'span'), u'\n', u'  ']), u'\n'])]
	  Tag <div>
	  [u'\n', u'  ', Tag(u'style', attributes=OrderedDict([(u'type', u'text/css')]), children=[u'\n', u'    div.error {', u'\n', u'      color: red;', u'\n', u'      font-family: Verdana, Arial, helvetica, sans-serif;', u'\n', u'      font-weight: bold;', u'\n', u'    }', u'\n', u'\n', u'    div {', u'\n', u'      font-family: Verdana, Arial, helvetica, sans-serif;', u'\n', u'    }', u'\n', u'\n', u'    div.stackTrace {', u'\n', u'    }', u'\n', u'\n', u'    div.frame {', u'\n', u'      padding: 1em;', u'\n', u'      background: white;', u'\n', u'      border-bottom: thin black dashed;', u'\n', u'    }', u'\n', u'\n', u'    div.frame:first-child {', u'\n', u'      padding: 1em;', u'\n', u'      background: white;', u'\n', u'      border-top: thin black dashed;', u'\n', u'      border-bottom: thin black dashed;', u'\n', u'    }', u'\n', u'\n', u'    div.location {', u'\n', u'    }', u'\n', u'\n', u'    span.function {', u'\n', u'      font-weight: bold;', u'\n', u'      font-family: "Courier New", courier, monospace;', u'\n', u'    }', u'\n', u'\n', u'    div.snippet {', u'\n', u'      margin-bottom: 0.5em;', u'\n', u'      margin-left: 1em;', u'\n', u'      background: #FFFFDD;', u'\n', u'    }', u'\n', u'\n', u'    div.snippetHighlightLine {', u'\n', u'      color: red;', u'\n', u'    }', u'\n', u'\n', u'    span.code {', u'\n', u'      font-family: "Courier New", courier, monospace;', u'\n', u'    }', u'\n', u'  ']), u'\n', u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'error')]), children=[u'\n', u'    ', Tag(u'span'), u': ', Tag(u'span'), u'\n', u'  ']), u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'stackTrace')]), children=[u'\n', u'    ', Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']), u'\n', u'  ']), u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'error')]), children=[u'\n', u'    ', Tag(u'span'), u': ', Tag(u'span'), u'\n', u'  ']), u'\n']
	  Tag <div>
	  <twisted.web.util._StackElement object at 0x00000000048DD400>
	  [Tag(u'div', attributes=OrderedDict([(u'class', u'stackTrace')]), children=[u'\n', u'    ', Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']), u'\n', u'  '])]
	  Tag <div>
	  [u'\n', u'    ', Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']), u'\n', u'  ']
	  Tag <div>
	  [<twisted.web.util._FrameElement object at 0x00000000048DD8D0>, <twisted.web.util._FrameElement object at 0x00000000048DDB38>, <twisted.web.util._FrameElement object at 0x00000000048DDDA0>, <twisted.web.util._FrameElement object at 0x000000000493A048>, <twisted.web.util._FrameElement object at 0x000000000493A2B0>, <twisted.web.util._FrameElement object at 0x000000000493A518>, <twisted.web.util._FrameElement object at 0x000000000493A780>]
	  <twisted.web.util._FrameElement object at 0x000000000493A048>
	  [Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    '])]
	  Tag <div>
	  [u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']
	  Tag <div>
	  <twisted.web.util._SourceFragmentElement object at 0x000000000493A978>
	  [Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      '])]
	  Tag <div>
	  [u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']
	  Tag <div>
	  <generator object sourceLines at 0x00000000048E45A0>
	  <twisted.web.util._SourceLineElement object at 0x000000000493AC88>
	  [Tag(u'div', attributes=OrderedDict([('class', 'snippetLine')]), children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        '])]
	  Tag <div>
	  [u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']
	  Tag <code>
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 312, in _flattenTree
	    element = next(stack[-1])
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 231, in _flattenElement
	    result = renderMethod(request, rootClone)
	  File "C:\Python27\lib\site-packages\twisted\web\util.py", line 171, in sourceLine
	    return tag(self.source.replace('  ', u' \N{NO-BREAK SPACE}'))
	UnicodeDecodeError: 'ascii' codec can't decode byte 0xe6 in position 10: ordinal not in range(128)
	
	
2017-07-14 15:11:58+0800 [INFO] Starting SmartTalk IoTService.Version is v0.3.6
2017-07-14 15:11:58+0800 [INFO] (1050, "Table 'device' already exists")
2017-07-14 15:11:58+0800 [INFO] (1050, "Table 'devicepanel' already exists")
2017-07-14 15:11:58+0800 [INFO] (1050, "Table 'deviceio' already exists")
2017-07-14 15:11:58+0800 [INFO] (1050, "Table 'deviceaudiovideo' already exists")
2017-07-14 15:11:58+0800 [INFO] (1050, "Table 'devicealarm' already exists")
2017-07-14 15:11:58+0800 [INFO] (1050, "Table 'feedback' already exists")
2017-07-14 15:11:58+0800 [INFO] (1050, "Table 'log_call' already exists")
2017-07-14 15:11:58+0800 [INFO] (1050, "Table 'log_device' already exists")
2017-07-14 15:11:58+0800 [INFO] (1050, "Table 'log_alarm' already exists")
2017-07-14 15:11:58+0800 [INFO] (1050, "Table 'devicetree' already exists")
2017-07-14 15:11:58+0800 [INFO] (1050, "Table 'authority' already exists")
2017-07-14 15:11:59+0800 [INFO] (1050, "Table 'identity' already exists")
2017-07-14 15:11:59+0800 [INFO] (1050, "Table 'authorization' already exists")
2017-07-14 15:11:59+0800 [INFO] (1050, "Table 'user' already exists")
2017-07-14 15:11:59+0800 [INFO] TreeNode has been initialized
2017-07-14 15:11:59+0800 [INFO] FeedBack has been initialized
2017-07-14 15:11:59+0800 [INFO] Administrator has been initialized
2017-07-14 15:11:59+0800 [INFO] Opened iptalk.db successfully
2017-07-14 15:11:59+0800 [INFO] OrderFactory starting on 12200
2017-07-14 15:11:59+0800 [INFO] Starting factory <devices.iptalk.factory.OrderFactory instance at 0x00000000046668C8>
2017-07-14 15:11:59+0800 [INFO] QueryFactory starting on 34952
2017-07-14 15:11:59+0800 [INFO] Starting factory <devices.iptalk.factory.QueryFactory instance at 0x00000000046F21C8>
2017-07-14 15:11:59+0800 [INFO] AudioFactory starting on 3478
2017-07-14 15:11:59+0800 [INFO] Starting protocol <devices.iptalk.factory.AudioFactory instance at 0x00000000046F5E88>
2017-07-14 15:11:59+0800 [INFO] VideoFactory starting on 3456
2017-07-14 15:11:59+0800 [INFO] Starting protocol <devices.iptalk.factory.VideoFactory instance at 0x00000000046F9308>
2017-07-14 15:11:59+0800 [INFO] IPTalkWebSite starting on 85
2017-07-14 15:11:59+0800 [INFO] Starting factory <web.site.IPTalkWebSite instance at 0x00000000046F9648>
2017-07-14 15:11:59+0800 [INFO] WebSocketFactory starting on 89
2017-07-14 15:11:59+0800 [INFO] Starting factory <devices.iptalk.factory.WebSocketFactory instance at 0x0000000004706248>
2017-07-14 15:11:59+0800 [INFO] TCPPushFactory starting on 90
2017-07-14 15:11:59+0800 [INFO] Starting factory <devices.iptalk.factory.TCPPushFactory instance at 0x0000000004706708>
2017-07-14 15:11:59+0800 [INFO] SearchFactory starting on 3550
2017-07-14 15:11:59+0800 [INFO] Starting protocol <devices.iptalk.factory.SearchFactory instance at 0x0000000004706BC8>
2017-07-14 15:11:59+0800 [INFO] MyFTPFactory starting on 21
2017-07-14 15:11:59+0800 [INFO] Starting factory <devices.iptalk.ftp.MyFTPFactory instance at 0x0000000004706F48>
2017-07-14 15:12:00+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 62131) .
2017-07-14 15:12:00+0800 [INFO] WebSocket keepAlive is on
2017-07-14 15:12:00+0800 [INFO] websocket is connected.
2017-07-14 15:12:03+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:07:12:02 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 15:12:03+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:07:12:02 +0000] "POST /upgrade/sysUpgrade HTTP/1.1" 500 389 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 15:12:15+0800 [ERROR] Unhandled error in Deferred:
2017-07-14 15:12:15+0800 [ERROR] Unhandled Error
	Traceback (most recent call last):
	  File "C:\Python27\lib\threading.py", line 810, in __bootstrap_inner
	    self.run()
	  File "C:\Python27\lib\threading.py", line 763, in run
	    self.__target(*self.__args, **self.__kwargs)
	  File "C:\Python27\lib\site-packages\twisted\_threads\_threadworker.py", line 46, in work
	    task()
	  File "C:\Python27\lib\site-packages\twisted\_threads\_team.py", line 190, in doWork
	    task()
	--- <exception caught here> ---
	  File "C:\Python27\lib\site-packages\twisted\python\threadpool.py", line 246, in inContext
	    result = inContext.theWork()
	  File "C:\Python27\lib\site-packages\twisted\python\threadpool.py", line 262, in <lambda>
	    inContext.theWork = lambda: context.call(ctx, func, *args, **kw)
	  File "C:\Python27\lib\site-packages\twisted\python\context.py", line 118, in callWithContext
	    return self.currentContext().callWithContext(ctx, func, *args, **kw)
	  File "C:\Python27\lib\site-packages\twisted\python\context.py", line 81, in callWithContext
	    return func(*args,**kw)
	  File "D:/Documents/catcuts/project/iot_combination\utils\updatasys.py", line 83, in update
	    shutil.rmtree(bkup) # 删除 bkup
	  File "C:\Python27\lib\shutil.py", line 247, in rmtree
	    rmtree(fullname, ignore_errors, onerror)
	  File "C:\Python27\lib\shutil.py", line 247, in rmtree
	    rmtree(fullname, ignore_errors, onerror)
	  File "C:\Python27\lib\shutil.py", line 247, in rmtree
	    rmtree(fullname, ignore_errors, onerror)
	  File "C:\Python27\lib\shutil.py", line 252, in rmtree
	    onerror(os.remove, fullname, sys.exc_info())
	  File "C:\Python27\lib\shutil.py", line 250, in rmtree
	    os.remove(fullname)
	exceptions.WindowsError: [Error 5] : 'D:\\Documents\\catcuts\\project\\iot_combination_bkup\\.git\\objects\\pack\\pack-a1b166e9245f97bdd4bf53ac4b93f78d8f7ff7ac.idx'
	
2017-07-14 15:13:36+0800 [INFO] Starting SmartTalk IoTService.Version is v0.3.6
2017-07-14 15:13:37+0800 [INFO] (1050, "Table 'device' already exists")
2017-07-14 15:13:37+0800 [INFO] (1050, "Table 'devicepanel' already exists")
2017-07-14 15:13:37+0800 [INFO] (1050, "Table 'deviceio' already exists")
2017-07-14 15:13:37+0800 [INFO] (1050, "Table 'deviceaudiovideo' already exists")
2017-07-14 15:13:37+0800 [INFO] (1050, "Table 'devicealarm' already exists")
2017-07-14 15:13:37+0800 [INFO] (1050, "Table 'feedback' already exists")
2017-07-14 15:13:37+0800 [INFO] (1050, "Table 'log_call' already exists")
2017-07-14 15:13:37+0800 [INFO] (1050, "Table 'log_device' already exists")
2017-07-14 15:13:37+0800 [INFO] (1050, "Table 'log_alarm' already exists")
2017-07-14 15:13:37+0800 [INFO] (1050, "Table 'devicetree' already exists")
2017-07-14 15:13:37+0800 [INFO] (1050, "Table 'authority' already exists")
2017-07-14 15:13:37+0800 [INFO] (1050, "Table 'identity' already exists")
2017-07-14 15:13:37+0800 [INFO] (1050, "Table 'authorization' already exists")
2017-07-14 15:13:37+0800 [INFO] (1050, "Table 'user' already exists")
2017-07-14 15:13:37+0800 [INFO] TreeNode has been initialized
2017-07-14 15:13:37+0800 [INFO] FeedBack has been initialized
2017-07-14 15:13:37+0800 [INFO] Administrator has been initialized
2017-07-14 15:13:37+0800 [INFO] Opened iptalk.db successfully
2017-07-14 15:13:37+0800 [INFO] OrderFactory starting on 12200
2017-07-14 15:13:37+0800 [INFO] Starting factory <devices.iptalk.factory.OrderFactory instance at 0x00000000045908C8>
2017-07-14 15:13:37+0800 [INFO] QueryFactory starting on 34952
2017-07-14 15:13:37+0800 [INFO] Starting factory <devices.iptalk.factory.QueryFactory instance at 0x00000000046241C8>
2017-07-14 15:13:37+0800 [INFO] AudioFactory starting on 3478
2017-07-14 15:13:37+0800 [INFO] Starting protocol <devices.iptalk.factory.AudioFactory instance at 0x0000000004627E88>
2017-07-14 15:13:37+0800 [INFO] VideoFactory starting on 3456
2017-07-14 15:13:37+0800 [INFO] Starting protocol <devices.iptalk.factory.VideoFactory instance at 0x000000000462B308>
2017-07-14 15:13:37+0800 [INFO] IPTalkWebSite starting on 85
2017-07-14 15:13:37+0800 [INFO] Starting factory <web.site.IPTalkWebSite instance at 0x000000000462B648>
2017-07-14 15:13:37+0800 [INFO] WebSocketFactory starting on 89
2017-07-14 15:13:37+0800 [INFO] Starting factory <devices.iptalk.factory.WebSocketFactory instance at 0x0000000004638088>
2017-07-14 15:13:37+0800 [INFO] TCPPushFactory starting on 90
2017-07-14 15:13:37+0800 [INFO] Starting factory <devices.iptalk.factory.TCPPushFactory instance at 0x0000000004638548>
2017-07-14 15:13:37+0800 [INFO] SearchFactory starting on 3550
2017-07-14 15:13:37+0800 [INFO] Starting protocol <devices.iptalk.factory.SearchFactory instance at 0x0000000004638A08>
2017-07-14 15:13:37+0800 [INFO] MyFTPFactory starting on 21
2017-07-14 15:13:37+0800 [INFO] Starting factory <devices.iptalk.ftp.MyFTPFactory instance at 0x0000000004638D88>
2017-07-14 15:13:42+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 62376) .
2017-07-14 15:13:42+0800 [INFO] WebSocket keepAlive is on
2017-07-14 15:13:42+0800 [INFO] websocket is connected.
2017-07-14 15:13:42+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:07:13:41 +0000] "GET /devices/iptalk/getiptalkdevicemessage HTTP/1.1" 200 83 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 15:13:45+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:07:13:45 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 15:13:54+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:07:13:45 +0000] "POST /upgrade/sysUpgrade HTTP/1.1" 500 389 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 15:14:15+0800 [ERROR] Unhandled error in Deferred:
2017-07-14 15:14:15+0800 [ERROR] Unhandled Error
	Traceback (most recent call last):
	  File "C:\Python27\lib\threading.py", line 810, in __bootstrap_inner
	    self.run()
	  File "C:\Python27\lib\threading.py", line 763, in run
	    self.__target(*self.__args, **self.__kwargs)
	  File "C:\Python27\lib\site-packages\twisted\_threads\_threadworker.py", line 46, in work
	    task()
	  File "C:\Python27\lib\site-packages\twisted\_threads\_team.py", line 190, in doWork
	    task()
	--- <exception caught here> ---
	  File "C:\Python27\lib\site-packages\twisted\python\threadpool.py", line 246, in inContext
	    result = inContext.theWork()
	  File "C:\Python27\lib\site-packages\twisted\python\threadpool.py", line 262, in <lambda>
	    inContext.theWork = lambda: context.call(ctx, func, *args, **kw)
	  File "C:\Python27\lib\site-packages\twisted\python\context.py", line 118, in callWithContext
	    return self.currentContext().callWithContext(ctx, func, *args, **kw)
	  File "C:\Python27\lib\site-packages\twisted\python\context.py", line 81, in callWithContext
	    return func(*args,**kw)
	  File "D:/Documents/catcuts/project/iot_combination\utils\updatasys.py", line 83, in update
	    shutil.rmtree(bkup) # 删除 bkup
	  File "C:\Python27\lib\shutil.py", line 247, in rmtree
	    rmtree(fullname, ignore_errors, onerror)
	  File "C:\Python27\lib\shutil.py", line 247, in rmtree
	    rmtree(fullname, ignore_errors, onerror)
	  File "C:\Python27\lib\shutil.py", line 247, in rmtree
	    rmtree(fullname, ignore_errors, onerror)
	  File "C:\Python27\lib\shutil.py", line 252, in rmtree
	    onerror(os.remove, fullname, sys.exc_info())
	  File "C:\Python27\lib\shutil.py", line 250, in rmtree
	    os.remove(fullname)
	exceptions.WindowsError: [Error 5] : 'D:\\Documents\\catcuts\\project\\iot_combination_bkup\\.git\\objects\\pack\\pack-a1b166e9245f97bdd4bf53ac4b93f78d8f7ff7ac.idx'
	
2017-07-14 15:18:13+0800 [INFO] Starting SmartTalk IoTService.Version is v0.3.6
2017-07-14 15:18:13+0800 [INFO] (1050, "Table 'device' already exists")
2017-07-14 15:18:13+0800 [INFO] (1050, "Table 'devicepanel' already exists")
2017-07-14 15:18:13+0800 [INFO] (1050, "Table 'deviceio' already exists")
2017-07-14 15:18:13+0800 [INFO] (1050, "Table 'deviceaudiovideo' already exists")
2017-07-14 15:18:13+0800 [INFO] (1050, "Table 'devicealarm' already exists")
2017-07-14 15:18:13+0800 [INFO] (1050, "Table 'feedback' already exists")
2017-07-14 15:18:13+0800 [INFO] (1050, "Table 'log_call' already exists")
2017-07-14 15:18:13+0800 [INFO] (1050, "Table 'log_device' already exists")
2017-07-14 15:18:13+0800 [INFO] (1050, "Table 'log_alarm' already exists")
2017-07-14 15:18:13+0800 [INFO] (1050, "Table 'devicetree' already exists")
2017-07-14 15:18:13+0800 [INFO] (1050, "Table 'authority' already exists")
2017-07-14 15:18:13+0800 [INFO] (1050, "Table 'identity' already exists")
2017-07-14 15:18:13+0800 [INFO] (1050, "Table 'authorization' already exists")
2017-07-14 15:18:13+0800 [INFO] (1050, "Table 'user' already exists")
2017-07-14 15:18:13+0800 [INFO] TreeNode has been initialized
2017-07-14 15:18:13+0800 [INFO] FeedBack has been initialized
2017-07-14 15:18:13+0800 [INFO] Administrator has been initialized
2017-07-14 15:18:13+0800 [INFO] Opened iptalk.db successfully
2017-07-14 15:18:14+0800 [INFO] OrderFactory starting on 12200
2017-07-14 15:18:14+0800 [INFO] Starting factory <devices.iptalk.factory.OrderFactory instance at 0x000000000472E8C8>
2017-07-14 15:18:14+0800 [INFO] QueryFactory starting on 34952
2017-07-14 15:18:14+0800 [INFO] Starting factory <devices.iptalk.factory.QueryFactory instance at 0x00000000047BA1C8>
2017-07-14 15:18:14+0800 [INFO] AudioFactory starting on 3478
2017-07-14 15:18:14+0800 [INFO] Starting protocol <devices.iptalk.factory.AudioFactory instance at 0x00000000047BDE88>
2017-07-14 15:18:14+0800 [INFO] VideoFactory starting on 3456
2017-07-14 15:18:14+0800 [INFO] Starting protocol <devices.iptalk.factory.VideoFactory instance at 0x00000000047C1308>
2017-07-14 15:18:14+0800 [INFO] IPTalkWebSite starting on 85
2017-07-14 15:18:14+0800 [INFO] Starting factory <web.site.IPTalkWebSite instance at 0x00000000047C1648>
2017-07-14 15:18:14+0800 [INFO] WebSocketFactory starting on 89
2017-07-14 15:18:14+0800 [INFO] Starting factory <devices.iptalk.factory.WebSocketFactory instance at 0x00000000047CD248>
2017-07-14 15:18:14+0800 [INFO] TCPPushFactory starting on 90
2017-07-14 15:18:14+0800 [INFO] Starting factory <devices.iptalk.factory.TCPPushFactory instance at 0x00000000047CD708>
2017-07-14 15:18:14+0800 [INFO] SearchFactory starting on 3550
2017-07-14 15:18:14+0800 [INFO] Starting protocol <devices.iptalk.factory.SearchFactory instance at 0x00000000047CDBC8>
2017-07-14 15:18:14+0800 [INFO] MyFTPFactory starting on 21
2017-07-14 15:18:14+0800 [INFO] Starting factory <devices.iptalk.ftp.MyFTPFactory instance at 0x00000000047CDF48>
2017-07-14 15:18:17+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:07:18:17 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 15:18:17+0800 [ERROR] Unhandled Error
	Traceback (most recent call last):
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 1442, in dataReceived
	    finishCallback(data[contentLength:])
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 1768, in _finishRequestBody
	    self.allContentReceived()
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 1845, in allContentReceived
	    req.requestReceived(command, path, version)
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 766, in requestReceived
	    self.process()
	--- <exception caught here> ---
	  File "C:\Python27\lib\site-packages\twisted\web\server.py", line 183, in process
	    self.render(resrc)
	  File "C:\Python27\lib\site-packages\twisted\web\server.py", line 234, in render
	    body = resrc.render(self)
	  File "C:\Python27\lib\site-packages\twisted\web\resource.py", line 250, in render
	    return m(request)
	  File "D:/Documents/catcuts/project/iot_combination\devices\iptalk\webmanager.py", line 368, in render_POST
	    return self.exeSysUpgrade(request)
	  File "D:/Documents/catcuts/project/iot_combination\devices\iptalk\webmanager.py", line 396, in exeSysUpgrade
	    from utils.updatesys import systemUpdate
	exceptions.ImportError: No module named updatesys
	
2017-07-14 15:18:17+0800 [ERROR] Unhandled Error
	Traceback (most recent call last):
	  File "C:\Python27\lib\site-packages\twisted\web\server.py", line 319, in processingFailed
	    util.formatFailure(reason) +
	  File "C:\Python27\lib\site-packages\twisted\web\util.py", line 432, in formatFailure
	    flattenString(None, FailureElement(myFailure)).addBoth(result.append)
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 410, in flattenString
	    d = flatten(request, root, io.write)
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 392, in flatten
	    _writeFlattenedData(state, write, result)
	--- <exception caught here> ---
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 353, in _writeFlattenedData
	    element = next(state)
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 321, in _flattenTree
	    raise FlattenerError(e, roots, extract_tb(exc_info()[2]))
	twisted.web.error.FlattenerError: Exception while flattening:
	  <twisted.web.util.FailureElement object at 0x0000000004843470>
	  [Tag(u'div', children=[u'\n', u'  ', Tag(u'style', attributes=OrderedDict([(u'type', u'text/css')]), children=[u'\n', u'    div.error {', u'\n', u'      color: red;', u'\n', u'      font-family: Verdana, Arial, helvetica, sans-serif;', u'\n', u'      font-weight: bold;', u'\n', u'    }', u'\n', u'\n', u'    div {', u'\n', u'      font-family: Verdana, Arial, helvetica, sans-serif;', u'\n', u'    }', u'\n', u'\n', u'    div.stackTrace {', u'\n', u'    }', u'\n', u'\n', u'    div.frame {', u'\n', u'      padding: 1em;', u'\n', u'      background: white;', u'\n', u'      border-bottom: thin black dashed;', u'\n', u'    }', u'\n', u'\n', u'    div.frame:first-child {', u'\n', u'      padding: 1em;', u'\n', u'      background: white;', u'\n', u'      border-top: thin black dashed;', u'\n', u'      border-bottom: thin black dashed;', u'\n', u'    }', u'\n', u'\n', u'    div.location {', u'\n', u'    }', u'\n', u'\n', u'    span.function {', u'\n', u'      font-weight: bold;', u'\n', u'      font-family: "Courier New", courier, monospace;', u'\n', u'    }', u'\n', u'\n', u'    div.snippet {', u'\n', u'      margin-bottom: 0.5em;', u'\n', u'      margin-left: 1em;', u'\n', u'      background: #FFFFDD;', u'\n', u'    }', u'\n', u'\n', u'    div.snippetHighlightLine {', u'\n', u'      color: red;', u'\n', u'    }', u'\n', u'\n', u'    span.code {', u'\n', u'      font-family: "Courier New", courier, monospace;', u'\n', u'    }', u'\n', u'  ']), u'\n', u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'error')]), children=[u'\n', u'    ', Tag(u'span'), u': ', Tag(u'span'), u'\n', u'  ']), u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'stackTrace')]), children=[u'\n', u'    ', Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']), u'\n', u'  ']), u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'error')]), children=[u'\n', u'    ', Tag(u'span'), u': ', Tag(u'span'), u'\n', u'  ']), u'\n'])]
	  Tag <div>
	  [u'\n', u'  ', Tag(u'style', attributes=OrderedDict([(u'type', u'text/css')]), children=[u'\n', u'    div.error {', u'\n', u'      color: red;', u'\n', u'      font-family: Verdana, Arial, helvetica, sans-serif;', u'\n', u'      font-weight: bold;', u'\n', u'    }', u'\n', u'\n', u'    div {', u'\n', u'      font-family: Verdana, Arial, helvetica, sans-serif;', u'\n', u'    }', u'\n', u'\n', u'    div.stackTrace {', u'\n', u'    }', u'\n', u'\n', u'    div.frame {', u'\n', u'      padding: 1em;', u'\n', u'      background: white;', u'\n', u'      border-bottom: thin black dashed;', u'\n', u'    }', u'\n', u'\n', u'    div.frame:first-child {', u'\n', u'      padding: 1em;', u'\n', u'      background: white;', u'\n', u'      border-top: thin black dashed;', u'\n', u'      border-bottom: thin black dashed;', u'\n', u'    }', u'\n', u'\n', u'    div.location {', u'\n', u'    }', u'\n', u'\n', u'    span.function {', u'\n', u'      font-weight: bold;', u'\n', u'      font-family: "Courier New", courier, monospace;', u'\n', u'    }', u'\n', u'\n', u'    div.snippet {', u'\n', u'      margin-bottom: 0.5em;', u'\n', u'      margin-left: 1em;', u'\n', u'      background: #FFFFDD;', u'\n', u'    }', u'\n', u'\n', u'    div.snippetHighlightLine {', u'\n', u'      color: red;', u'\n', u'    }', u'\n', u'\n', u'    span.code {', u'\n', u'      font-family: "Courier New", courier, monospace;', u'\n', u'    }', u'\n', u'  ']), u'\n', u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'error')]), children=[u'\n', u'    ', Tag(u'span'), u': ', Tag(u'span'), u'\n', u'  ']), u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'stackTrace')]), children=[u'\n', u'    ', Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']), u'\n', u'  ']), u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'error')]), children=[u'\n', u'    ', Tag(u'span'), u': ', Tag(u'span'), u'\n', u'  ']), u'\n']
	  Tag <div>
	  <twisted.web.util._StackElement object at 0x0000000004895630>
	  [Tag(u'div', attributes=OrderedDict([(u'class', u'stackTrace')]), children=[u'\n', u'    ', Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']), u'\n', u'  '])]
	  Tag <div>
	  [u'\n', u'    ', Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']), u'\n', u'  ']
	  Tag <div>
	  [<twisted.web.util._FrameElement object at 0x0000000004895B00>, <twisted.web.util._FrameElement object at 0x0000000004895D68>, <twisted.web.util._FrameElement object at 0x0000000004895FD0>, <twisted.web.util._FrameElement object at 0x00000000048AA278>, <twisted.web.util._FrameElement object at 0x00000000048AA4E0>]
	  <twisted.web.util._FrameElement object at 0x00000000048AA278>
	  [Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    '])]
	  Tag <div>
	  [u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']
	  Tag <div>
	  <twisted.web.util._SourceFragmentElement object at 0x00000000048AA6D8>
	  [Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      '])]
	  Tag <div>
	  [u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']
	  Tag <div>
	  <generator object sourceLines at 0x00000000048B72D0>
	  <twisted.web.util._SourceLineElement object at 0x00000000048AA9E8>
	  [Tag(u'div', attributes=OrderedDict([('class', 'snippetLine')]), children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        '])]
	  Tag <div>
	  [u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']
	  Tag <code>
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 312, in _flattenTree
	    element = next(stack[-1])
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 231, in _flattenElement
	    result = renderMethod(request, rootClone)
	  File "C:\Python27\lib\site-packages\twisted\web\util.py", line 171, in sourceLine
	    return tag(self.source.replace('  ', u' \N{NO-BREAK SPACE}'))
	UnicodeDecodeError: 'ascii' codec can't decode byte 0xe6 in position 10: ordinal not in range(128)
	
	
2017-07-14 15:18:17+0800 [ERROR] Unhandled Error
	Traceback (most recent call last):
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 1442, in dataReceived
	    finishCallback(data[contentLength:])
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 1768, in _finishRequestBody
	    self.allContentReceived()
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 1845, in allContentReceived
	    req.requestReceived(command, path, version)
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 766, in requestReceived
	    self.process()
	--- <exception caught here> ---
	  File "C:\Python27\lib\site-packages\twisted\web\server.py", line 183, in process
	    self.render(resrc)
	  File "C:\Python27\lib\site-packages\twisted\web\server.py", line 234, in render
	    body = resrc.render(self)
	  File "C:\Python27\lib\site-packages\twisted\web\resource.py", line 250, in render
	    return m(request)
	  File "D:/Documents/catcuts/project/iot_combination\devices\iptalk\webmanager.py", line 368, in render_POST
	    return self.exeSysUpgrade(request)
	  File "D:/Documents/catcuts/project/iot_combination\devices\iptalk\webmanager.py", line 396, in exeSysUpgrade
	    from utils.updatesys import systemUpdate
	exceptions.ImportError: No module named updatesys
	
2017-07-14 15:18:17+0800 [ERROR] Unhandled Error
	Traceback (most recent call last):
	  File "C:\Python27\lib\site-packages\twisted\web\server.py", line 319, in processingFailed
	    util.formatFailure(reason) +
	  File "C:\Python27\lib\site-packages\twisted\web\util.py", line 432, in formatFailure
	    flattenString(None, FailureElement(myFailure)).addBoth(result.append)
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 410, in flattenString
	    d = flatten(request, root, io.write)
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 392, in flatten
	    _writeFlattenedData(state, write, result)
	--- <exception caught here> ---
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 353, in _writeFlattenedData
	    element = next(state)
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 321, in _flattenTree
	    raise FlattenerError(e, roots, extract_tb(exc_info()[2]))
	twisted.web.error.FlattenerError: Exception while flattening:
	  <twisted.web.util.FailureElement object at 0x0000000004904EB8>
	  [Tag(u'div', children=[u'\n', u'  ', Tag(u'style', attributes=OrderedDict([(u'type', u'text/css')]), children=[u'\n', u'    div.error {', u'\n', u'      color: red;', u'\n', u'      font-family: Verdana, Arial, helvetica, sans-serif;', u'\n', u'      font-weight: bold;', u'\n', u'    }', u'\n', u'\n', u'    div {', u'\n', u'      font-family: Verdana, Arial, helvetica, sans-serif;', u'\n', u'    }', u'\n', u'\n', u'    div.stackTrace {', u'\n', u'    }', u'\n', u'\n', u'    div.frame {', u'\n', u'      padding: 1em;', u'\n', u'      background: white;', u'\n', u'      border-bottom: thin black dashed;', u'\n', u'    }', u'\n', u'\n', u'    div.frame:first-child {', u'\n', u'      padding: 1em;', u'\n', u'      background: white;', u'\n', u'      border-top: thin black dashed;', u'\n', u'      border-bottom: thin black dashed;', u'\n', u'    }', u'\n', u'\n', u'    div.location {', u'\n', u'    }', u'\n', u'\n', u'    span.function {', u'\n', u'      font-weight: bold;', u'\n', u'      font-family: "Courier New", courier, monospace;', u'\n', u'    }', u'\n', u'\n', u'    div.snippet {', u'\n', u'      margin-bottom: 0.5em;', u'\n', u'      margin-left: 1em;', u'\n', u'      background: #FFFFDD;', u'\n', u'    }', u'\n', u'\n', u'    div.snippetHighlightLine {', u'\n', u'      color: red;', u'\n', u'    }', u'\n', u'\n', u'    span.code {', u'\n', u'      font-family: "Courier New", courier, monospace;', u'\n', u'    }', u'\n', u'  ']), u'\n', u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'error')]), children=[u'\n', u'    ', Tag(u'span'), u': ', Tag(u'span'), u'\n', u'  ']), u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'stackTrace')]), children=[u'\n', u'    ', Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']), u'\n', u'  ']), u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'error')]), children=[u'\n', u'    ', Tag(u'span'), u': ', Tag(u'span'), u'\n', u'  ']), u'\n'])]
	  Tag <div>
	  [u'\n', u'  ', Tag(u'style', attributes=OrderedDict([(u'type', u'text/css')]), children=[u'\n', u'    div.error {', u'\n', u'      color: red;', u'\n', u'      font-family: Verdana, Arial, helvetica, sans-serif;', u'\n', u'      font-weight: bold;', u'\n', u'    }', u'\n', u'\n', u'    div {', u'\n', u'      font-family: Verdana, Arial, helvetica, sans-serif;', u'\n', u'    }', u'\n', u'\n', u'    div.stackTrace {', u'\n', u'    }', u'\n', u'\n', u'    div.frame {', u'\n', u'      padding: 1em;', u'\n', u'      background: white;', u'\n', u'      border-bottom: thin black dashed;', u'\n', u'    }', u'\n', u'\n', u'    div.frame:first-child {', u'\n', u'      padding: 1em;', u'\n', u'      background: white;', u'\n', u'      border-top: thin black dashed;', u'\n', u'      border-bottom: thin black dashed;', u'\n', u'    }', u'\n', u'\n', u'    div.location {', u'\n', u'    }', u'\n', u'\n', u'    span.function {', u'\n', u'      font-weight: bold;', u'\n', u'      font-family: "Courier New", courier, monospace;', u'\n', u'    }', u'\n', u'\n', u'    div.snippet {', u'\n', u'      margin-bottom: 0.5em;', u'\n', u'      margin-left: 1em;', u'\n', u'      background: #FFFFDD;', u'\n', u'    }', u'\n', u'\n', u'    div.snippetHighlightLine {', u'\n', u'      color: red;', u'\n', u'    }', u'\n', u'\n', u'    span.code {', u'\n', u'      font-family: "Courier New", courier, monospace;', u'\n', u'    }', u'\n', u'  ']), u'\n', u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'error')]), children=[u'\n', u'    ', Tag(u'span'), u': ', Tag(u'span'), u'\n', u'  ']), u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'stackTrace')]), children=[u'\n', u'    ', Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']), u'\n', u'  ']), u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'error')]), children=[u'\n', u'    ', Tag(u'span'), u': ', Tag(u'span'), u'\n', u'  ']), u'\n']
	  Tag <div>
	  <twisted.web.util._StackElement object at 0x00000000049180F0>
	  [Tag(u'div', attributes=OrderedDict([(u'class', u'stackTrace')]), children=[u'\n', u'    ', Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']), u'\n', u'  '])]
	  Tag <div>
	  [u'\n', u'    ', Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']), u'\n', u'  ']
	  Tag <div>
	  [<twisted.web.util._FrameElement object at 0x0000000004918438>, <twisted.web.util._FrameElement object at 0x00000000049186A0>, <twisted.web.util._FrameElement object at 0x0000000004918908>, <twisted.web.util._FrameElement object at 0x0000000004918B70>, <twisted.web.util._FrameElement object at 0x0000000004918DD8>]
	  <twisted.web.util._FrameElement object at 0x0000000004918B70>
	  [Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    '])]
	  Tag <div>
	  [u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']
	  Tag <div>
	  <twisted.web.util._SourceFragmentElement object at 0x0000000004918E80>
	  [Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      '])]
	  Tag <div>
	  [u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']
	  Tag <div>
	  <generator object sourceLines at 0x00000000048B7480>
	  <twisted.web.util._SourceLineElement object at 0x000000000492A128>
	  [Tag(u'div', attributes=OrderedDict([('class', 'snippetLine')]), children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        '])]
	  Tag <div>
	  [u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']
	  Tag <code>
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 312, in _flattenTree
	    element = next(stack[-1])
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 231, in _flattenElement
	    result = renderMethod(request, rootClone)
	  File "C:\Python27\lib\site-packages\twisted\web\util.py", line 171, in sourceLine
	    return tag(self.source.replace('  ', u' \N{NO-BREAK SPACE}'))
	UnicodeDecodeError: 'ascii' codec can't decode byte 0xe6 in position 10: ordinal not in range(128)
	
	
2017-07-14 15:18:31+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 62897) .
2017-07-14 15:18:31+0800 [INFO] WebSocket keepAlive is on
2017-07-14 15:18:31+0800 [INFO] websocket is connected.
2017-07-14 15:19:42+0800 [INFO] Starting SmartTalk IoTService.Version is v0.3.6
2017-07-14 15:19:42+0800 [INFO] (1050, "Table 'device' already exists")
2017-07-14 15:19:42+0800 [INFO] (1050, "Table 'devicepanel' already exists")
2017-07-14 15:19:42+0800 [INFO] (1050, "Table 'deviceio' already exists")
2017-07-14 15:19:42+0800 [INFO] (1050, "Table 'deviceaudiovideo' already exists")
2017-07-14 15:19:42+0800 [INFO] (1050, "Table 'devicealarm' already exists")
2017-07-14 15:19:42+0800 [INFO] (1050, "Table 'feedback' already exists")
2017-07-14 15:19:42+0800 [INFO] (1050, "Table 'log_call' already exists")
2017-07-14 15:19:42+0800 [INFO] (1050, "Table 'log_device' already exists")
2017-07-14 15:19:42+0800 [INFO] (1050, "Table 'log_alarm' already exists")
2017-07-14 15:19:42+0800 [INFO] (1050, "Table 'devicetree' already exists")
2017-07-14 15:19:42+0800 [INFO] (1050, "Table 'authority' already exists")
2017-07-14 15:19:42+0800 [INFO] (1050, "Table 'identity' already exists")
2017-07-14 15:19:42+0800 [INFO] (1050, "Table 'authorization' already exists")
2017-07-14 15:19:42+0800 [INFO] (1050, "Table 'user' already exists")
2017-07-14 15:19:42+0800 [INFO] TreeNode has been initialized
2017-07-14 15:19:42+0800 [INFO] FeedBack has been initialized
2017-07-14 15:19:42+0800 [INFO] Administrator has been initialized
2017-07-14 15:19:42+0800 [INFO] Opened iptalk.db successfully
2017-07-14 15:19:42+0800 [INFO] OrderFactory starting on 12200
2017-07-14 15:19:42+0800 [INFO] Starting factory <devices.iptalk.factory.OrderFactory instance at 0x000000000467A8C8>
2017-07-14 15:19:42+0800 [INFO] QueryFactory starting on 34952
2017-07-14 15:19:42+0800 [INFO] Starting factory <devices.iptalk.factory.QueryFactory instance at 0x000000000470A1C8>
2017-07-14 15:19:42+0800 [INFO] AudioFactory starting on 3478
2017-07-14 15:19:42+0800 [INFO] Starting protocol <devices.iptalk.factory.AudioFactory instance at 0x000000000470DE88>
2017-07-14 15:19:42+0800 [INFO] VideoFactory starting on 3456
2017-07-14 15:19:42+0800 [INFO] Starting protocol <devices.iptalk.factory.VideoFactory instance at 0x0000000004711308>
2017-07-14 15:19:42+0800 [INFO] IPTalkWebSite starting on 85
2017-07-14 15:19:42+0800 [INFO] Starting factory <web.site.IPTalkWebSite instance at 0x0000000004711648>
2017-07-14 15:19:42+0800 [INFO] WebSocketFactory starting on 89
2017-07-14 15:19:42+0800 [INFO] Starting factory <devices.iptalk.factory.WebSocketFactory instance at 0x000000000471E088>
2017-07-14 15:19:42+0800 [INFO] TCPPushFactory starting on 90
2017-07-14 15:19:42+0800 [INFO] Starting factory <devices.iptalk.factory.TCPPushFactory instance at 0x000000000471E548>
2017-07-14 15:19:42+0800 [INFO] SearchFactory starting on 3550
2017-07-14 15:19:42+0800 [INFO] Starting protocol <devices.iptalk.factory.SearchFactory instance at 0x000000000471EA08>
2017-07-14 15:19:42+0800 [INFO] MyFTPFactory starting on 21
2017-07-14 15:19:42+0800 [INFO] Starting factory <devices.iptalk.ftp.MyFTPFactory instance at 0x000000000471ED88>
2017-07-14 15:19:45+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:07:19:44 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 15:19:52+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:07:19:44 +0000] "POST /upgrade/sysUpgrade HTTP/1.1" 500 389 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 15:19:52+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 63145) .
2017-07-14 15:19:52+0800 [INFO] WebSocket keepAlive is on
2017-07-14 15:19:52+0800 [INFO] websocket is connected.
2017-07-14 15:19:52+0800 [INFO] delete websock TCP connect:179bd54919a342ebb112e4ede8e90a4e
2017-07-14 15:19:52+0800 [INFO] websocket is disconnected.
2017-07-14 15:20:05+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 63196) .
2017-07-14 15:20:05+0800 [INFO] WebSocket keepAlive is on
2017-07-14 15:20:05+0800 [INFO] websocket is connected.
2017-07-14 15:20:13+0800 [ERROR] Unhandled error in Deferred:
2017-07-14 15:20:13+0800 [ERROR] Unhandled Error
	Traceback (most recent call last):
	  File "C:\Python27\lib\threading.py", line 810, in __bootstrap_inner
	    self.run()
	  File "C:\Python27\lib\threading.py", line 763, in run
	    self.__target(*self.__args, **self.__kwargs)
	  File "C:\Python27\lib\site-packages\twisted\_threads\_threadworker.py", line 46, in work
	    task()
	  File "C:\Python27\lib\site-packages\twisted\_threads\_team.py", line 190, in doWork
	    task()
	--- <exception caught here> ---
	  File "C:\Python27\lib\site-packages\twisted\python\threadpool.py", line 246, in inContext
	    result = inContext.theWork()
	  File "C:\Python27\lib\site-packages\twisted\python\threadpool.py", line 262, in <lambda>
	    inContext.theWork = lambda: context.call(ctx, func, *args, **kw)
	  File "C:\Python27\lib\site-packages\twisted\python\context.py", line 118, in callWithContext
	    return self.currentContext().callWithContext(ctx, func, *args, **kw)
	  File "C:\Python27\lib\site-packages\twisted\python\context.py", line 81, in callWithContext
	    return func(*args,**kw)
	  File "D:/Documents/catcuts/project/iot_combination\utils\updatesys.py", line 83, in update
	    shutil.rmtree(bkup) # 删除 bkup
	  File "C:\Python27\lib\shutil.py", line 247, in rmtree
	    rmtree(fullname, ignore_errors, onerror)
	  File "C:\Python27\lib\shutil.py", line 247, in rmtree
	    rmtree(fullname, ignore_errors, onerror)
	  File "C:\Python27\lib\shutil.py", line 247, in rmtree
	    rmtree(fullname, ignore_errors, onerror)
	  File "C:\Python27\lib\shutil.py", line 252, in rmtree
	    onerror(os.remove, fullname, sys.exc_info())
	  File "C:\Python27\lib\shutil.py", line 250, in rmtree
	    os.remove(fullname)
	exceptions.WindowsError: [Error 5] : 'D:\\Documents\\catcuts\\project\\iot_combination_bkup\\.git\\objects\\pack\\pack-a1b166e9245f97bdd4bf53ac4b93f78d8f7ff7ac.idx'
	
2017-07-14 15:21:38+0800 [INFO] Starting SmartTalk IoTService.Version is v0.3.6
2017-07-14 15:21:38+0800 [INFO] (1050, "Table 'device' already exists")
2017-07-14 15:21:38+0800 [INFO] (1050, "Table 'devicepanel' already exists")
2017-07-14 15:21:38+0800 [INFO] (1050, "Table 'deviceio' already exists")
2017-07-14 15:21:38+0800 [INFO] (1050, "Table 'deviceaudiovideo' already exists")
2017-07-14 15:21:38+0800 [INFO] (1050, "Table 'devicealarm' already exists")
2017-07-14 15:21:38+0800 [INFO] (1050, "Table 'feedback' already exists")
2017-07-14 15:21:38+0800 [INFO] (1050, "Table 'log_call' already exists")
2017-07-14 15:21:38+0800 [INFO] (1050, "Table 'log_device' already exists")
2017-07-14 15:21:38+0800 [INFO] (1050, "Table 'log_alarm' already exists")
2017-07-14 15:21:38+0800 [INFO] (1050, "Table 'devicetree' already exists")
2017-07-14 15:21:38+0800 [INFO] (1050, "Table 'authority' already exists")
2017-07-14 15:21:38+0800 [INFO] (1050, "Table 'identity' already exists")
2017-07-14 15:21:38+0800 [INFO] (1050, "Table 'authorization' already exists")
2017-07-14 15:21:38+0800 [INFO] (1050, "Table 'user' already exists")
2017-07-14 15:21:38+0800 [INFO] TreeNode has been initialized
2017-07-14 15:21:38+0800 [INFO] FeedBack has been initialized
2017-07-14 15:21:38+0800 [INFO] Administrator has been initialized
2017-07-14 15:21:38+0800 [INFO] Opened iptalk.db successfully
2017-07-14 15:21:38+0800 [INFO] OrderFactory starting on 12200
2017-07-14 15:21:38+0800 [INFO] Starting factory <devices.iptalk.factory.OrderFactory instance at 0x00000000045F18C8>
2017-07-14 15:21:38+0800 [INFO] QueryFactory starting on 34952
2017-07-14 15:21:38+0800 [INFO] Starting factory <devices.iptalk.factory.QueryFactory instance at 0x000000000467D1C8>
2017-07-14 15:21:38+0800 [INFO] AudioFactory starting on 3478
2017-07-14 15:21:38+0800 [INFO] Starting protocol <devices.iptalk.factory.AudioFactory instance at 0x0000000004680E88>
2017-07-14 15:21:38+0800 [INFO] VideoFactory starting on 3456
2017-07-14 15:21:38+0800 [INFO] Starting protocol <devices.iptalk.factory.VideoFactory instance at 0x0000000004684308>
2017-07-14 15:21:38+0800 [INFO] IPTalkWebSite starting on 85
2017-07-14 15:21:38+0800 [INFO] Starting factory <web.site.IPTalkWebSite instance at 0x0000000004684648>
2017-07-14 15:21:38+0800 [INFO] WebSocketFactory starting on 89
2017-07-14 15:21:38+0800 [INFO] Starting factory <devices.iptalk.factory.WebSocketFactory instance at 0x0000000004691088>
2017-07-14 15:21:38+0800 [INFO] TCPPushFactory starting on 90
2017-07-14 15:21:38+0800 [INFO] Starting factory <devices.iptalk.factory.TCPPushFactory instance at 0x0000000004691548>
2017-07-14 15:21:38+0800 [INFO] SearchFactory starting on 3550
2017-07-14 15:21:38+0800 [INFO] Starting protocol <devices.iptalk.factory.SearchFactory instance at 0x0000000004691A08>
2017-07-14 15:21:38+0800 [INFO] MyFTPFactory starting on 21
2017-07-14 15:21:38+0800 [INFO] Starting factory <devices.iptalk.ftp.MyFTPFactory instance at 0x0000000004691D88>
2017-07-14 15:21:40+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 63409) .
2017-07-14 15:21:40+0800 [INFO] WebSocket keepAlive is on
2017-07-14 15:21:40+0800 [INFO] websocket is connected.
2017-07-14 15:21:42+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:07:21:41 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 15:22:16+0800 [INFO] Starting SmartTalk IoTService.Version is v0.3.6
2017-07-14 15:22:16+0800 [INFO] (1050, "Table 'device' already exists")
2017-07-14 15:22:16+0800 [INFO] (1050, "Table 'devicepanel' already exists")
2017-07-14 15:22:16+0800 [INFO] (1050, "Table 'deviceio' already exists")
2017-07-14 15:22:16+0800 [INFO] (1050, "Table 'deviceaudiovideo' already exists")
2017-07-14 15:22:16+0800 [INFO] (1050, "Table 'devicealarm' already exists")
2017-07-14 15:22:16+0800 [INFO] (1050, "Table 'feedback' already exists")
2017-07-14 15:22:16+0800 [INFO] (1050, "Table 'log_call' already exists")
2017-07-14 15:22:17+0800 [INFO] (1050, "Table 'log_device' already exists")
2017-07-14 15:22:17+0800 [INFO] (1050, "Table 'log_alarm' already exists")
2017-07-14 15:22:17+0800 [INFO] (1050, "Table 'devicetree' already exists")
2017-07-14 15:22:17+0800 [INFO] (1050, "Table 'authority' already exists")
2017-07-14 15:22:17+0800 [INFO] (1050, "Table 'identity' already exists")
2017-07-14 15:22:17+0800 [INFO] (1050, "Table 'authorization' already exists")
2017-07-14 15:22:17+0800 [INFO] (1050, "Table 'user' already exists")
2017-07-14 15:22:17+0800 [INFO] TreeNode has been initialized
2017-07-14 15:22:17+0800 [INFO] FeedBack has been initialized
2017-07-14 15:22:17+0800 [INFO] Administrator has been initialized
2017-07-14 15:22:17+0800 [INFO] Opened iptalk.db successfully
2017-07-14 15:22:17+0800 [INFO] OrderFactory starting on 12200
2017-07-14 15:22:17+0800 [INFO] Starting factory <devices.iptalk.factory.OrderFactory instance at 0x00000000045DD8C8>
2017-07-14 15:22:17+0800 [INFO] QueryFactory starting on 34952
2017-07-14 15:22:17+0800 [INFO] Starting factory <devices.iptalk.factory.QueryFactory instance at 0x00000000046691C8>
2017-07-14 15:22:17+0800 [INFO] AudioFactory starting on 3478
2017-07-14 15:22:17+0800 [INFO] Starting protocol <devices.iptalk.factory.AudioFactory instance at 0x000000000466CE88>
2017-07-14 15:22:17+0800 [INFO] VideoFactory starting on 3456
2017-07-14 15:22:17+0800 [INFO] Starting protocol <devices.iptalk.factory.VideoFactory instance at 0x0000000004670308>
2017-07-14 15:22:17+0800 [INFO] IPTalkWebSite starting on 85
2017-07-14 15:22:17+0800 [INFO] Starting factory <web.site.IPTalkWebSite instance at 0x0000000004670648>
2017-07-14 15:22:17+0800 [INFO] WebSocketFactory starting on 89
2017-07-14 15:22:17+0800 [INFO] Starting factory <devices.iptalk.factory.WebSocketFactory instance at 0x000000000467C088>
2017-07-14 15:22:17+0800 [INFO] TCPPushFactory starting on 90
2017-07-14 15:22:17+0800 [INFO] Starting factory <devices.iptalk.factory.TCPPushFactory instance at 0x000000000467C548>
2017-07-14 15:22:17+0800 [INFO] SearchFactory starting on 3550
2017-07-14 15:22:17+0800 [INFO] Starting protocol <devices.iptalk.factory.SearchFactory instance at 0x000000000467CA08>
2017-07-14 15:22:17+0800 [INFO] MyFTPFactory starting on 21
2017-07-14 15:22:17+0800 [INFO] Starting factory <devices.iptalk.ftp.MyFTPFactory instance at 0x000000000467CD88>
2017-07-14 15:22:18+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 63501) .
2017-07-14 15:22:18+0800 [INFO] WebSocket keepAlive is on
2017-07-14 15:22:18+0800 [INFO] websocket is connected.
2017-07-14 15:22:20+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:07:22:19 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 15:22:23+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:07:22:19 +0000] "POST /upgrade/sysUpgrade HTTP/1.1" 500 389 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 15:22:26+0800 [ERROR] Unhandled error in Deferred:
2017-07-14 15:22:26+0800 [ERROR] Unhandled Error
	Traceback (most recent call last):
	  File "C:\Python27\lib\threading.py", line 810, in __bootstrap_inner
	    self.run()
	  File "C:\Python27\lib\threading.py", line 763, in run
	    self.__target(*self.__args, **self.__kwargs)
	  File "C:\Python27\lib\site-packages\twisted\_threads\_threadworker.py", line 46, in work
	    task()
	  File "C:\Python27\lib\site-packages\twisted\_threads\_team.py", line 190, in doWork
	    task()
	--- <exception caught here> ---
	  File "C:\Python27\lib\site-packages\twisted\python\threadpool.py", line 246, in inContext
	    result = inContext.theWork()
	  File "C:\Python27\lib\site-packages\twisted\python\threadpool.py", line 262, in <lambda>
	    inContext.theWork = lambda: context.call(ctx, func, *args, **kw)
	  File "C:\Python27\lib\site-packages\twisted\python\context.py", line 118, in callWithContext
	    return self.currentContext().callWithContext(ctx, func, *args, **kw)
	  File "C:\Python27\lib\site-packages\twisted\python\context.py", line 81, in callWithContext
	    return func(*args,**kw)
	  File "D:/Documents/catcuts/project/iot_combination\utils\updatesys.py", line 83, in update
	    shutil.rmtree(bkup) # 删除 bkup
	  File "C:\Python27\lib\shutil.py", line 247, in rmtree
	    rmtree(fullname, ignore_errors, onerror)
	  File "C:\Python27\lib\shutil.py", line 247, in rmtree
	    rmtree(fullname, ignore_errors, onerror)
	  File "C:\Python27\lib\shutil.py", line 247, in rmtree
	    rmtree(fullname, ignore_errors, onerror)
	  File "C:\Python27\lib\shutil.py", line 252, in rmtree
	    onerror(os.remove, fullname, sys.exc_info())
	  File "C:\Python27\lib\shutil.py", line 250, in rmtree
	    os.remove(fullname)
	exceptions.WindowsError: [Error 5] : 'D:\\Documents\\catcuts\\project\\iot_combination_bkup\\.git\\objects\\pack\\pack-a1b166e9245f97bdd4bf53ac4b93f78d8f7ff7ac.idx'
	
2017-07-14 15:23:10+0800 [INFO] Starting SmartTalk IoTService.Version is v0.3.6
2017-07-14 15:23:11+0800 [INFO] (1050, "Table 'device' already exists")
2017-07-14 15:23:11+0800 [INFO] (1050, "Table 'devicepanel' already exists")
2017-07-14 15:23:11+0800 [INFO] (1050, "Table 'deviceio' already exists")
2017-07-14 15:23:11+0800 [INFO] (1050, "Table 'deviceaudiovideo' already exists")
2017-07-14 15:23:11+0800 [INFO] (1050, "Table 'devicealarm' already exists")
2017-07-14 15:23:11+0800 [INFO] (1050, "Table 'feedback' already exists")
2017-07-14 15:23:11+0800 [INFO] (1050, "Table 'log_call' already exists")
2017-07-14 15:23:11+0800 [INFO] (1050, "Table 'log_device' already exists")
2017-07-14 15:23:11+0800 [INFO] (1050, "Table 'log_alarm' already exists")
2017-07-14 15:23:11+0800 [INFO] (1050, "Table 'devicetree' already exists")
2017-07-14 15:23:11+0800 [INFO] (1050, "Table 'authority' already exists")
2017-07-14 15:23:11+0800 [INFO] (1050, "Table 'identity' already exists")
2017-07-14 15:23:11+0800 [INFO] (1050, "Table 'authorization' already exists")
2017-07-14 15:23:11+0800 [INFO] (1050, "Table 'user' already exists")
2017-07-14 15:23:11+0800 [INFO] TreeNode has been initialized
2017-07-14 15:23:11+0800 [INFO] FeedBack has been initialized
2017-07-14 15:23:11+0800 [INFO] Administrator has been initialized
2017-07-14 15:23:11+0800 [INFO] Opened iptalk.db successfully
2017-07-14 15:23:11+0800 [INFO] OrderFactory starting on 12200
2017-07-14 15:23:11+0800 [INFO] Starting factory <devices.iptalk.factory.OrderFactory instance at 0x000000000461D8C8>
2017-07-14 15:23:11+0800 [INFO] QueryFactory starting on 34952
2017-07-14 15:23:11+0800 [INFO] Starting factory <devices.iptalk.factory.QueryFactory instance at 0x00000000046AD1C8>
2017-07-14 15:23:11+0800 [INFO] AudioFactory starting on 3478
2017-07-14 15:23:11+0800 [INFO] Starting protocol <devices.iptalk.factory.AudioFactory instance at 0x00000000046B0E88>
2017-07-14 15:23:11+0800 [INFO] VideoFactory starting on 3456
2017-07-14 15:23:11+0800 [INFO] Starting protocol <devices.iptalk.factory.VideoFactory instance at 0x00000000046B4308>
2017-07-14 15:23:11+0800 [INFO] IPTalkWebSite starting on 85
2017-07-14 15:23:11+0800 [INFO] Starting factory <web.site.IPTalkWebSite instance at 0x00000000046B4648>
2017-07-14 15:23:11+0800 [INFO] WebSocketFactory starting on 89
2017-07-14 15:23:11+0800 [INFO] Starting factory <devices.iptalk.factory.WebSocketFactory instance at 0x00000000046C0088>
2017-07-14 15:23:11+0800 [INFO] TCPPushFactory starting on 90
2017-07-14 15:23:11+0800 [INFO] Starting factory <devices.iptalk.factory.TCPPushFactory instance at 0x00000000046C0548>
2017-07-14 15:23:11+0800 [INFO] SearchFactory starting on 3550
2017-07-14 15:23:11+0800 [INFO] Starting protocol <devices.iptalk.factory.SearchFactory instance at 0x00000000046C0A08>
2017-07-14 15:23:11+0800 [INFO] MyFTPFactory starting on 21
2017-07-14 15:23:11+0800 [INFO] Starting factory <devices.iptalk.ftp.MyFTPFactory instance at 0x00000000046C0D88>
2017-07-14 15:23:13+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 63620) .
2017-07-14 15:23:13+0800 [INFO] WebSocket keepAlive is on
2017-07-14 15:23:13+0800 [INFO] websocket is connected.
2017-07-14 15:23:14+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:07:23:13 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 15:23:19+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:07:23:13 +0000] "POST /upgrade/sysUpgrade HTTP/1.1" 500 389 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 15:25:50+0800 [ERROR] Unhandled error in Deferred:
2017-07-14 15:25:50+0800 [ERROR] Unhandled Error
	Traceback (most recent call last):
	  File "C:\Python27\lib\site-packages\twisted\internet\base.py", line 1203, in mainLoop
	    self.runUntilCurrent()
	  File "C:\Python27\lib\site-packages\twisted\internet\base.py", line 798, in runUntilCurrent
	    f(*a, **kw)
	  File "C:\Python27\lib\site-packages\twisted\internet\defer.py", line 393, in callback
	    self._startRunCallbacks(result)
	  File "C:\Python27\lib\site-packages\twisted\internet\defer.py", line 501, in _startRunCallbacks
	    self._runCallbacks()
	--- <exception caught here> ---
	  File "C:\Python27\lib\site-packages\twisted\internet\defer.py", line 588, in _runCallbacks
	    current.result = callback(current.result, *args, **kw)
	  File "D:/Documents/catcuts/project/iot_combination\devices\iptalk\webmanager.py", line 385, in updateCallback
	    finish(request, self.exeSysUpgrade(request))
	  File "D:/Documents/catcuts/project/iot_combination\devices\iptalk\webmanager.py", line 129, in finish
	    request.write(results)
	  File "C:\Python27\lib\site-packages\twisted\web\server.py", line 213, in write
	    http.Request.write(self, data)
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 896, in write
	    raise RuntimeError('Request.write called on a request after '
	exceptions.RuntimeError: Request.write called on a request after Request.finish was called.
	
2017-07-14 15:25:51+0800 [ERROR] Unhandled error in Deferred:
2017-07-14 15:25:51+0800 [ERROR] Unhandled Error
	Traceback (most recent call last):
	  File "C:\Python27\lib\threading.py", line 810, in __bootstrap_inner
	    self.run()
	  File "C:\Python27\lib\threading.py", line 763, in run
	    self.__target(*self.__args, **self.__kwargs)
	  File "C:\Python27\lib\site-packages\twisted\_threads\_threadworker.py", line 46, in work
	    task()
	  File "C:\Python27\lib\site-packages\twisted\_threads\_team.py", line 190, in doWork
	    task()
	--- <exception caught here> ---
	  File "C:\Python27\lib\site-packages\twisted\python\threadpool.py", line 246, in inContext
	    result = inContext.theWork()
	  File "C:\Python27\lib\site-packages\twisted\python\threadpool.py", line 262, in <lambda>
	    inContext.theWork = lambda: context.call(ctx, func, *args, **kw)
	  File "C:\Python27\lib\site-packages\twisted\python\context.py", line 118, in callWithContext
	    return self.currentContext().callWithContext(ctx, func, *args, **kw)
	  File "C:\Python27\lib\site-packages\twisted\python\context.py", line 81, in callWithContext
	    return func(*args,**kw)
	  File "D:/Documents/catcuts/project/iot_combination\utils\updatesys.py", line 83, in update
	    shutil.rmtree(bkup) # 删除 bkup
	  File "C:\Python27\lib\shutil.py", line 247, in rmtree
	    rmtree(fullname, ignore_errors, onerror)
	  File "C:\Python27\lib\shutil.py", line 247, in rmtree
	    rmtree(fullname, ignore_errors, onerror)
	  File "C:\Python27\lib\shutil.py", line 247, in rmtree
	    rmtree(fullname, ignore_errors, onerror)
	  File "C:\Python27\lib\shutil.py", line 252, in rmtree
	    onerror(os.remove, fullname, sys.exc_info())
	  File "C:\Python27\lib\shutil.py", line 250, in rmtree
	    os.remove(fullname)
	exceptions.WindowsError: [Error 5] : 'D:\\Documents\\catcuts\\project\\iot_combination_bkup\\.git\\objects\\99\\1e8ddc1329238c44576520317eb6a6da443bf5'
	
2017-07-14 15:27:16+0800 [INFO] Starting SmartTalk IoTService.Version is v0.3.6
2017-07-14 15:27:16+0800 [INFO] (1050, "Table 'device' already exists")
2017-07-14 15:27:16+0800 [INFO] (1050, "Table 'devicepanel' already exists")
2017-07-14 15:27:16+0800 [INFO] (1050, "Table 'deviceio' already exists")
2017-07-14 15:27:16+0800 [INFO] (1050, "Table 'deviceaudiovideo' already exists")
2017-07-14 15:27:16+0800 [INFO] (1050, "Table 'devicealarm' already exists")
2017-07-14 15:27:16+0800 [INFO] (1050, "Table 'feedback' already exists")
2017-07-14 15:27:16+0800 [INFO] (1050, "Table 'log_call' already exists")
2017-07-14 15:27:16+0800 [INFO] (1050, "Table 'log_device' already exists")
2017-07-14 15:27:16+0800 [INFO] (1050, "Table 'log_alarm' already exists")
2017-07-14 15:27:16+0800 [INFO] (1050, "Table 'devicetree' already exists")
2017-07-14 15:27:16+0800 [INFO] (1050, "Table 'authority' already exists")
2017-07-14 15:27:16+0800 [INFO] (1050, "Table 'identity' already exists")
2017-07-14 15:27:16+0800 [INFO] (1050, "Table 'authorization' already exists")
2017-07-14 15:27:16+0800 [INFO] (1050, "Table 'user' already exists")
2017-07-14 15:27:16+0800 [INFO] TreeNode has been initialized
2017-07-14 15:27:16+0800 [INFO] FeedBack has been initialized
2017-07-14 15:27:16+0800 [INFO] Administrator has been initialized
2017-07-14 15:27:16+0800 [INFO] Opened iptalk.db successfully
2017-07-14 15:27:17+0800 [INFO] OrderFactory starting on 12200
2017-07-14 15:27:17+0800 [INFO] Starting factory <devices.iptalk.factory.OrderFactory instance at 0x00000000047738C8>
2017-07-14 15:27:17+0800 [INFO] QueryFactory starting on 34952
2017-07-14 15:27:17+0800 [INFO] Starting factory <devices.iptalk.factory.QueryFactory instance at 0x00000000047FF1C8>
2017-07-14 15:27:17+0800 [INFO] AudioFactory starting on 3478
2017-07-14 15:27:17+0800 [INFO] Starting protocol <devices.iptalk.factory.AudioFactory instance at 0x0000000004802E88>
2017-07-14 15:27:17+0800 [INFO] VideoFactory starting on 3456
2017-07-14 15:27:17+0800 [INFO] Starting protocol <devices.iptalk.factory.VideoFactory instance at 0x0000000004806308>
2017-07-14 15:27:17+0800 [INFO] IPTalkWebSite starting on 85
2017-07-14 15:27:17+0800 [INFO] Starting factory <web.site.IPTalkWebSite instance at 0x0000000004806648>
2017-07-14 15:27:17+0800 [INFO] WebSocketFactory starting on 89
2017-07-14 15:27:17+0800 [INFO] Starting factory <devices.iptalk.factory.WebSocketFactory instance at 0x0000000004813248>
2017-07-14 15:27:17+0800 [INFO] TCPPushFactory starting on 90
2017-07-14 15:27:17+0800 [INFO] Starting factory <devices.iptalk.factory.TCPPushFactory instance at 0x0000000004813708>
2017-07-14 15:27:17+0800 [INFO] SearchFactory starting on 3550
2017-07-14 15:27:17+0800 [INFO] Starting protocol <devices.iptalk.factory.SearchFactory instance at 0x0000000004813BC8>
2017-07-14 15:27:17+0800 [INFO] MyFTPFactory starting on 21
2017-07-14 15:27:17+0800 [INFO] Starting factory <devices.iptalk.ftp.MyFTPFactory instance at 0x0000000004813F48>
2017-07-14 15:27:20+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:07:27:19 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 15:27:24+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:07:27:19 +0000] "POST /upgrade/sysUpgrade HTTP/1.1" 500 389 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 15:27:24+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 64115) .
2017-07-14 15:27:24+0800 [INFO] WebSocket keepAlive is on
2017-07-14 15:27:24+0800 [INFO] websocket is connected.
2017-07-14 15:27:55+0800 [ERROR] Unhandled error in Deferred:
2017-07-14 15:27:55+0800 [ERROR] Unhandled Error
	Traceback (most recent call last):
	  File "C:\Python27\lib\site-packages\twisted\internet\base.py", line 1203, in mainLoop
	    self.runUntilCurrent()
	  File "C:\Python27\lib\site-packages\twisted\internet\base.py", line 798, in runUntilCurrent
	    f(*a, **kw)
	  File "C:\Python27\lib\site-packages\twisted\internet\defer.py", line 393, in callback
	    self._startRunCallbacks(result)
	  File "C:\Python27\lib\site-packages\twisted\internet\defer.py", line 501, in _startRunCallbacks
	    self._runCallbacks()
	--- <exception caught here> ---
	  File "C:\Python27\lib\site-packages\twisted\internet\defer.py", line 588, in _runCallbacks
	    current.result = callback(current.result, *args, **kw)
	  File "D:/Documents/catcuts/project/iot_combination\devices\iptalk\webmanager.py", line 385, in updateCallback
	    finish(request, result)
	  File "D:/Documents/catcuts/project/iot_combination\devices\iptalk\webmanager.py", line 129, in finish
	    request.write(results)
	  File "C:\Python27\lib\site-packages\twisted\web\server.py", line 213, in write
	    http.Request.write(self, data)
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 896, in write
	    raise RuntimeError('Request.write called on a request after '
	exceptions.RuntimeError: Request.write called on a request after Request.finish was called.
	
2017-07-14 15:28:04+0800 [INFO] Starting SmartTalk IoTService.Version is v0.3.6
2017-07-14 15:28:04+0800 [INFO] (1050, "Table 'device' already exists")
2017-07-14 15:28:04+0800 [INFO] (1050, "Table 'devicepanel' already exists")
2017-07-14 15:28:04+0800 [INFO] (1050, "Table 'deviceio' already exists")
2017-07-14 15:28:04+0800 [INFO] (1050, "Table 'deviceaudiovideo' already exists")
2017-07-14 15:28:04+0800 [INFO] (1050, "Table 'devicealarm' already exists")
2017-07-14 15:28:04+0800 [INFO] (1050, "Table 'feedback' already exists")
2017-07-14 15:28:04+0800 [INFO] (1050, "Table 'log_call' already exists")
2017-07-14 15:28:04+0800 [INFO] (1050, "Table 'log_device' already exists")
2017-07-14 15:28:04+0800 [INFO] (1050, "Table 'log_alarm' already exists")
2017-07-14 15:28:04+0800 [INFO] (1050, "Table 'devicetree' already exists")
2017-07-14 15:28:04+0800 [INFO] (1050, "Table 'authority' already exists")
2017-07-14 15:28:04+0800 [INFO] (1050, "Table 'identity' already exists")
2017-07-14 15:28:04+0800 [INFO] (1050, "Table 'authorization' already exists")
2017-07-14 15:28:04+0800 [INFO] (1050, "Table 'user' already exists")
2017-07-14 15:28:04+0800 [INFO] TreeNode has been initialized
2017-07-14 15:28:04+0800 [INFO] FeedBack has been initialized
2017-07-14 15:28:04+0800 [INFO] Administrator has been initialized
2017-07-14 15:28:04+0800 [INFO] Opened iptalk.db successfully
2017-07-14 15:28:05+0800 [INFO] OrderFactory starting on 12200
2017-07-14 15:28:05+0800 [INFO] Starting factory <devices.iptalk.factory.OrderFactory instance at 0x000000000464F8C8>
2017-07-14 15:28:05+0800 [INFO] QueryFactory starting on 34952
2017-07-14 15:28:05+0800 [INFO] Starting factory <devices.iptalk.factory.QueryFactory instance at 0x00000000046DB1C8>
2017-07-14 15:28:05+0800 [INFO] AudioFactory starting on 3478
2017-07-14 15:28:05+0800 [INFO] Starting protocol <devices.iptalk.factory.AudioFactory instance at 0x00000000046DEE88>
2017-07-14 15:28:05+0800 [INFO] VideoFactory starting on 3456
2017-07-14 15:28:05+0800 [INFO] Starting protocol <devices.iptalk.factory.VideoFactory instance at 0x00000000046E2308>
2017-07-14 15:28:05+0800 [INFO] IPTalkWebSite starting on 85
2017-07-14 15:28:05+0800 [INFO] Starting factory <web.site.IPTalkWebSite instance at 0x00000000046E2648>
2017-07-14 15:28:05+0800 [INFO] WebSocketFactory starting on 89
2017-07-14 15:28:05+0800 [INFO] Starting factory <devices.iptalk.factory.WebSocketFactory instance at 0x00000000046EF088>
2017-07-14 15:28:05+0800 [INFO] TCPPushFactory starting on 90
2017-07-14 15:28:05+0800 [INFO] Starting factory <devices.iptalk.factory.TCPPushFactory instance at 0x00000000046EF548>
2017-07-14 15:28:05+0800 [INFO] SearchFactory starting on 3550
2017-07-14 15:28:05+0800 [INFO] Starting protocol <devices.iptalk.factory.SearchFactory instance at 0x00000000046EFA08>
2017-07-14 15:28:05+0800 [INFO] MyFTPFactory starting on 21
2017-07-14 15:28:05+0800 [INFO] Starting factory <devices.iptalk.ftp.MyFTPFactory instance at 0x00000000046EFD88>
2017-07-14 15:28:05+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 64191) .
2017-07-14 15:28:05+0800 [INFO] WebSocket keepAlive is on
2017-07-14 15:28:05+0800 [INFO] websocket is connected.
2017-07-14 15:28:11+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:07:28:10 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 15:28:14+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:07:28:10 +0000] "POST /upgrade/sysUpgrade HTTP/1.1" 500 389 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 15:29:36+0800 [ERROR] Unhandled error in Deferred:
2017-07-14 15:29:36+0800 [ERROR] Unhandled Error
	Traceback (most recent call last):
	  File "C:\Python27\lib\site-packages\twisted\internet\base.py", line 1203, in mainLoop
	    self.runUntilCurrent()
	  File "C:\Python27\lib\site-packages\twisted\internet\base.py", line 798, in runUntilCurrent
	    f(*a, **kw)
	  File "C:\Python27\lib\site-packages\twisted\internet\defer.py", line 393, in callback
	    self._startRunCallbacks(result)
	  File "C:\Python27\lib\site-packages\twisted\internet\defer.py", line 501, in _startRunCallbacks
	    self._runCallbacks()
	--- <exception caught here> ---
	  File "C:\Python27\lib\site-packages\twisted\internet\defer.py", line 588, in _runCallbacks
	    current.result = callback(current.result, *args, **kw)
	  File "D:/Documents/catcuts/project/iot_combination\devices\iptalk\webmanager.py", line 385, in updateCallback
	    finish(request, result)
	  File "D:/Documents/catcuts/project/iot_combination\devices\iptalk\webmanager.py", line 129, in finish
	    request.write(results)
	  File "C:\Python27\lib\site-packages\twisted\web\server.py", line 213, in write
	    http.Request.write(self, data)
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 896, in write
	    raise RuntimeError('Request.write called on a request after '
	exceptions.RuntimeError: Request.write called on a request after Request.finish was called.
	
2017-07-14 15:33:57+0800 [INFO] Starting SmartTalk IoTService.Version is v0.3.6
2017-07-14 15:33:57+0800 [INFO] (1050, "Table 'device' already exists")
2017-07-14 15:33:57+0800 [INFO] (1050, "Table 'devicepanel' already exists")
2017-07-14 15:33:57+0800 [INFO] (1050, "Table 'deviceio' already exists")
2017-07-14 15:33:57+0800 [INFO] (1050, "Table 'deviceaudiovideo' already exists")
2017-07-14 15:33:57+0800 [INFO] (1050, "Table 'devicealarm' already exists")
2017-07-14 15:33:57+0800 [INFO] (1050, "Table 'feedback' already exists")
2017-07-14 15:33:57+0800 [INFO] (1050, "Table 'log_call' already exists")
2017-07-14 15:33:57+0800 [INFO] (1050, "Table 'log_device' already exists")
2017-07-14 15:33:57+0800 [INFO] (1050, "Table 'log_alarm' already exists")
2017-07-14 15:33:57+0800 [INFO] (1050, "Table 'devicetree' already exists")
2017-07-14 15:33:57+0800 [INFO] (1050, "Table 'authority' already exists")
2017-07-14 15:33:57+0800 [INFO] (1050, "Table 'identity' already exists")
2017-07-14 15:33:57+0800 [INFO] (1050, "Table 'authorization' already exists")
2017-07-14 15:33:57+0800 [INFO] (1050, "Table 'user' already exists")
2017-07-14 15:33:57+0800 [INFO] TreeNode has been initialized
2017-07-14 15:33:57+0800 [INFO] FeedBack has been initialized
2017-07-14 15:33:57+0800 [INFO] Administrator has been initialized
2017-07-14 15:33:57+0800 [INFO] Opened iptalk.db successfully
2017-07-14 15:33:57+0800 [INFO] OrderFactory starting on 12200
2017-07-14 15:33:57+0800 [INFO] Starting factory <devices.iptalk.factory.OrderFactory instance at 0x00000000047348C8>
2017-07-14 15:33:57+0800 [INFO] QueryFactory starting on 34952
2017-07-14 15:33:57+0800 [INFO] Starting factory <devices.iptalk.factory.QueryFactory instance at 0x00000000047C51C8>
2017-07-14 15:33:57+0800 [INFO] AudioFactory starting on 3478
2017-07-14 15:33:57+0800 [INFO] Starting protocol <devices.iptalk.factory.AudioFactory instance at 0x00000000047C8E88>
2017-07-14 15:33:57+0800 [INFO] VideoFactory starting on 3456
2017-07-14 15:33:57+0800 [INFO] Starting protocol <devices.iptalk.factory.VideoFactory instance at 0x00000000047CC308>
2017-07-14 15:33:57+0800 [INFO] IPTalkWebSite starting on 85
2017-07-14 15:33:57+0800 [INFO] Starting factory <web.site.IPTalkWebSite instance at 0x00000000047CC648>
2017-07-14 15:33:57+0800 [INFO] WebSocketFactory starting on 89
2017-07-14 15:33:57+0800 [INFO] Starting factory <devices.iptalk.factory.WebSocketFactory instance at 0x00000000047D9288>
2017-07-14 15:33:57+0800 [INFO] TCPPushFactory starting on 90
2017-07-14 15:33:57+0800 [INFO] Starting factory <devices.iptalk.factory.TCPPushFactory instance at 0x00000000047D9748>
2017-07-14 15:33:57+0800 [INFO] SearchFactory starting on 3550
2017-07-14 15:33:57+0800 [INFO] Starting protocol <devices.iptalk.factory.SearchFactory instance at 0x00000000047D9C08>
2017-07-14 15:33:57+0800 [INFO] MyFTPFactory starting on 21
2017-07-14 15:33:57+0800 [INFO] Starting factory <devices.iptalk.ftp.MyFTPFactory instance at 0x00000000047D9F88>
2017-07-14 15:33:59+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 65324) .
2017-07-14 15:33:59+0800 [INFO] WebSocket keepAlive is on
2017-07-14 15:33:59+0800 [INFO] websocket is connected.
2017-07-14 15:34:15+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:07:34:14 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 15:34:18+0800 [ERROR] Unhandled Error
	Traceback (most recent call last):
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 1442, in dataReceived
	    finishCallback(data[contentLength:])
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 1768, in _finishRequestBody
	    self.allContentReceived()
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 1845, in allContentReceived
	    req.requestReceived(command, path, version)
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 766, in requestReceived
	    self.process()
	--- <exception caught here> ---
	  File "C:\Python27\lib\site-packages\twisted\web\server.py", line 183, in process
	    self.render(resrc)
	  File "C:\Python27\lib\site-packages\twisted\web\server.py", line 234, in render
	    body = resrc.render(self)
	  File "C:\Python27\lib\site-packages\twisted\web\resource.py", line 250, in render
	    return m(request)
	  File "D:/Documents/catcuts/project/iot_combination\devices\iptalk\webmanager.py", line 368, in render_POST
	    finish(request, self.exeSysUpgrade(request))
	  File "D:/Documents/catcuts/project/iot_combination\devices\iptalk\webmanager.py", line 129, in finish
	    request.write(results)
	  File "C:\Python27\lib\site-packages\twisted\web\server.py", line 213, in write
	    http.Request.write(self, data)
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 952, in write
	    self.sentLength = self.sentLength + len(data)
	exceptions.TypeError: object of type 'NoneType' has no len()
	
2017-07-14 15:34:18+0800 [ERROR] Unhandled Error
	Traceback (most recent call last):
	  File "C:\Python27\lib\site-packages\twisted\web\server.py", line 319, in processingFailed
	    util.formatFailure(reason) +
	  File "C:\Python27\lib\site-packages\twisted\web\util.py", line 432, in formatFailure
	    flattenString(None, FailureElement(myFailure)).addBoth(result.append)
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 410, in flattenString
	    d = flatten(request, root, io.write)
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 392, in flatten
	    _writeFlattenedData(state, write, result)
	--- <exception caught here> ---
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 353, in _writeFlattenedData
	    element = next(state)
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 321, in _flattenTree
	    raise FlattenerError(e, roots, extract_tb(exc_info()[2]))
	twisted.web.error.FlattenerError: Exception while flattening:
	  <twisted.web.util.FailureElement object at 0x00000000048A7080>
	  [Tag(u'div', children=[u'\n', u'  ', Tag(u'style', attributes=OrderedDict([(u'type', u'text/css')]), children=[u'\n', u'    div.error {', u'\n', u'      color: red;', u'\n', u'      font-family: Verdana, Arial, helvetica, sans-serif;', u'\n', u'      font-weight: bold;', u'\n', u'    }', u'\n', u'\n', u'    div {', u'\n', u'      font-family: Verdana, Arial, helvetica, sans-serif;', u'\n', u'    }', u'\n', u'\n', u'    div.stackTrace {', u'\n', u'    }', u'\n', u'\n', u'    div.frame {', u'\n', u'      padding: 1em;', u'\n', u'      background: white;', u'\n', u'      border-bottom: thin black dashed;', u'\n', u'    }', u'\n', u'\n', u'    div.frame:first-child {', u'\n', u'      padding: 1em;', u'\n', u'      background: white;', u'\n', u'      border-top: thin black dashed;', u'\n', u'      border-bottom: thin black dashed;', u'\n', u'    }', u'\n', u'\n', u'    div.location {', u'\n', u'    }', u'\n', u'\n', u'    span.function {', u'\n', u'      font-weight: bold;', u'\n', u'      font-family: "Courier New", courier, monospace;', u'\n', u'    }', u'\n', u'\n', u'    div.snippet {', u'\n', u'      margin-bottom: 0.5em;', u'\n', u'      margin-left: 1em;', u'\n', u'      background: #FFFFDD;', u'\n', u'    }', u'\n', u'\n', u'    div.snippetHighlightLine {', u'\n', u'      color: red;', u'\n', u'    }', u'\n', u'\n', u'    span.code {', u'\n', u'      font-family: "Courier New", courier, monospace;', u'\n', u'    }', u'\n', u'  ']), u'\n', u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'error')]), children=[u'\n', u'    ', Tag(u'span'), u': ', Tag(u'span'), u'\n', u'  ']), u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'stackTrace')]), children=[u'\n', u'    ', Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']), u'\n', u'  ']), u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'error')]), children=[u'\n', u'    ', Tag(u'span'), u': ', Tag(u'span'), u'\n', u'  ']), u'\n'])]
	  Tag <div>
	  [u'\n', u'  ', Tag(u'style', attributes=OrderedDict([(u'type', u'text/css')]), children=[u'\n', u'    div.error {', u'\n', u'      color: red;', u'\n', u'      font-family: Verdana, Arial, helvetica, sans-serif;', u'\n', u'      font-weight: bold;', u'\n', u'    }', u'\n', u'\n', u'    div {', u'\n', u'      font-family: Verdana, Arial, helvetica, sans-serif;', u'\n', u'    }', u'\n', u'\n', u'    div.stackTrace {', u'\n', u'    }', u'\n', u'\n', u'    div.frame {', u'\n', u'      padding: 1em;', u'\n', u'      background: white;', u'\n', u'      border-bottom: thin black dashed;', u'\n', u'    }', u'\n', u'\n', u'    div.frame:first-child {', u'\n', u'      padding: 1em;', u'\n', u'      background: white;', u'\n', u'      border-top: thin black dashed;', u'\n', u'      border-bottom: thin black dashed;', u'\n', u'    }', u'\n', u'\n', u'    div.location {', u'\n', u'    }', u'\n', u'\n', u'    span.function {', u'\n', u'      font-weight: bold;', u'\n', u'      font-family: "Courier New", courier, monospace;', u'\n', u'    }', u'\n', u'\n', u'    div.snippet {', u'\n', u'      margin-bottom: 0.5em;', u'\n', u'      margin-left: 1em;', u'\n', u'      background: #FFFFDD;', u'\n', u'    }', u'\n', u'\n', u'    div.snippetHighlightLine {', u'\n', u'      color: red;', u'\n', u'    }', u'\n', u'\n', u'    span.code {', u'\n', u'      font-family: "Courier New", courier, monospace;', u'\n', u'    }', u'\n', u'  ']), u'\n', u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'error')]), children=[u'\n', u'    ', Tag(u'span'), u': ', Tag(u'span'), u'\n', u'  ']), u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'stackTrace')]), children=[u'\n', u'    ', Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']), u'\n', u'  ']), u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'error')]), children=[u'\n', u'    ', Tag(u'span'), u': ', Tag(u'span'), u'\n', u'  ']), u'\n']
	  Tag <div>
	  <twisted.web.util._StackElement object at 0x000000000492C518>
	  [Tag(u'div', attributes=OrderedDict([(u'class', u'stackTrace')]), children=[u'\n', u'    ', Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']), u'\n', u'  '])]
	  Tag <div>
	  [u'\n', u'    ', Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']), u'\n', u'  ']
	  Tag <div>
	  [<twisted.web.util._FrameElement object at 0x000000000492C9E8>, <twisted.web.util._FrameElement object at 0x000000000492CC50>, <twisted.web.util._FrameElement object at 0x000000000492CEB8>, <twisted.web.util._FrameElement object at 0x0000000004945160>, <twisted.web.util._FrameElement object at 0x00000000049453C8>, <twisted.web.util._FrameElement object at 0x0000000004945630>, <twisted.web.util._FrameElement object at 0x0000000004945898>]
	  <twisted.web.util._FrameElement object at 0x0000000004945160>
	  [Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    '])]
	  Tag <div>
	  [u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']
	  Tag <div>
	  <twisted.web.util._SourceFragmentElement object at 0x0000000004945C50>
	  [Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      '])]
	  Tag <div>
	  [u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']
	  Tag <div>
	  <generator object sourceLines at 0x00000000049333A8>
	  <twisted.web.util._SourceLineElement object at 0x0000000004945FD0>
	  [Tag(u'div', attributes=OrderedDict([('class', 'snippetLine')]), children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        '])]
	  Tag <div>
	  [u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']
	  Tag <code>
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 312, in _flattenTree
	    element = next(stack[-1])
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 231, in _flattenElement
	    result = renderMethod(request, rootClone)
	  File "C:\Python27\lib\site-packages\twisted\web\util.py", line 171, in sourceLine
	    return tag(self.source.replace('  ', u' \N{NO-BREAK SPACE}'))
	UnicodeDecodeError: 'ascii' codec can't decode byte 0xe6 in position 10: ordinal not in range(128)
	
	
2017-07-14 15:39:18+0800 [INFO] Starting SmartTalk IoTService.Version is v0.3.6
2017-07-14 15:39:19+0800 [INFO] (1050, "Table 'device' already exists")
2017-07-14 15:39:19+0800 [INFO] (1050, "Table 'devicepanel' already exists")
2017-07-14 15:39:19+0800 [INFO] (1050, "Table 'deviceio' already exists")
2017-07-14 15:39:19+0800 [INFO] (1050, "Table 'deviceaudiovideo' already exists")
2017-07-14 15:39:19+0800 [INFO] (1050, "Table 'devicealarm' already exists")
2017-07-14 15:39:19+0800 [INFO] (1050, "Table 'feedback' already exists")
2017-07-14 15:39:19+0800 [INFO] (1050, "Table 'log_call' already exists")
2017-07-14 15:39:19+0800 [INFO] (1050, "Table 'log_device' already exists")
2017-07-14 15:39:19+0800 [INFO] (1050, "Table 'log_alarm' already exists")
2017-07-14 15:39:19+0800 [INFO] (1050, "Table 'devicetree' already exists")
2017-07-14 15:39:19+0800 [INFO] (1050, "Table 'authority' already exists")
2017-07-14 15:39:19+0800 [INFO] (1050, "Table 'identity' already exists")
2017-07-14 15:39:19+0800 [INFO] (1050, "Table 'authorization' already exists")
2017-07-14 15:39:19+0800 [INFO] (1050, "Table 'user' already exists")
2017-07-14 15:39:19+0800 [INFO] TreeNode has been initialized
2017-07-14 15:39:19+0800 [INFO] FeedBack has been initialized
2017-07-14 15:39:19+0800 [INFO] Administrator has been initialized
2017-07-14 15:39:19+0800 [INFO] Opened iptalk.db successfully
2017-07-14 15:39:19+0800 [INFO] OrderFactory starting on 12200
2017-07-14 15:39:19+0800 [INFO] Starting factory <devices.iptalk.factory.OrderFactory instance at 0x00000000046978C8>
2017-07-14 15:39:19+0800 [INFO] QueryFactory starting on 34952
2017-07-14 15:39:19+0800 [INFO] Starting factory <devices.iptalk.factory.QueryFactory instance at 0x00000000047231C8>
2017-07-14 15:39:19+0800 [INFO] AudioFactory starting on 3478
2017-07-14 15:39:19+0800 [INFO] Starting protocol <devices.iptalk.factory.AudioFactory instance at 0x0000000004726E88>
2017-07-14 15:39:19+0800 [INFO] VideoFactory starting on 3456
2017-07-14 15:39:19+0800 [INFO] Starting protocol <devices.iptalk.factory.VideoFactory instance at 0x000000000472A308>
2017-07-14 15:39:19+0800 [INFO] IPTalkWebSite starting on 85
2017-07-14 15:39:19+0800 [INFO] Starting factory <web.site.IPTalkWebSite instance at 0x000000000472A648>
2017-07-14 15:39:19+0800 [INFO] WebSocketFactory starting on 89
2017-07-14 15:39:19+0800 [INFO] Starting factory <devices.iptalk.factory.WebSocketFactory instance at 0x0000000004738248>
2017-07-14 15:39:19+0800 [INFO] TCPPushFactory starting on 90
2017-07-14 15:39:19+0800 [INFO] Starting factory <devices.iptalk.factory.TCPPushFactory instance at 0x0000000004738708>
2017-07-14 15:39:19+0800 [INFO] SearchFactory starting on 3550
2017-07-14 15:39:19+0800 [INFO] Starting protocol <devices.iptalk.factory.SearchFactory instance at 0x0000000004738BC8>
2017-07-14 15:39:19+0800 [INFO] MyFTPFactory starting on 21
2017-07-14 15:39:19+0800 [INFO] Starting factory <devices.iptalk.ftp.MyFTPFactory instance at 0x0000000004738F48>
2017-07-14 15:39:20+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 49843) .
2017-07-14 15:39:20+0800 [INFO] WebSocket keepAlive is on
2017-07-14 15:39:20+0800 [INFO] websocket is connected.
2017-07-14 15:39:25+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:07:39:24 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 15:39:25+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:07:39:24 +0000] "POST /upgrade/sysUpgrade HTTP/1.1" 200 17 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 15:40:58+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:07:40:57 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 15:40:58+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:07:40:57 +0000] "POST /upgrade/sysUpgrade HTTP/1.1" 200 17 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 15:43:30+0800 [INFO] Starting SmartTalk IoTService.Version is v0.3.6
2017-07-14 15:43:30+0800 [INFO] (1050, "Table 'device' already exists")
2017-07-14 15:43:30+0800 [INFO] (1050, "Table 'devicepanel' already exists")
2017-07-14 15:43:30+0800 [INFO] (1050, "Table 'deviceio' already exists")
2017-07-14 15:43:30+0800 [INFO] (1050, "Table 'deviceaudiovideo' already exists")
2017-07-14 15:43:30+0800 [INFO] (1050, "Table 'devicealarm' already exists")
2017-07-14 15:43:30+0800 [INFO] (1050, "Table 'feedback' already exists")
2017-07-14 15:43:30+0800 [INFO] (1050, "Table 'log_call' already exists")
2017-07-14 15:43:30+0800 [INFO] (1050, "Table 'log_device' already exists")
2017-07-14 15:43:30+0800 [INFO] (1050, "Table 'log_alarm' already exists")
2017-07-14 15:43:30+0800 [INFO] (1050, "Table 'devicetree' already exists")
2017-07-14 15:43:30+0800 [INFO] (1050, "Table 'authority' already exists")
2017-07-14 15:43:30+0800 [INFO] (1050, "Table 'identity' already exists")
2017-07-14 15:43:30+0800 [INFO] (1050, "Table 'authorization' already exists")
2017-07-14 15:43:30+0800 [INFO] (1050, "Table 'user' already exists")
2017-07-14 15:43:30+0800 [INFO] TreeNode has been initialized
2017-07-14 15:43:30+0800 [INFO] FeedBack has been initialized
2017-07-14 15:43:30+0800 [INFO] Administrator has been initialized
2017-07-14 15:43:30+0800 [INFO] Opened iptalk.db successfully
2017-07-14 15:43:31+0800 [INFO] OrderFactory starting on 12200
2017-07-14 15:43:31+0800 [INFO] Starting factory <devices.iptalk.factory.OrderFactory instance at 0x000000000465F8C8>
2017-07-14 15:43:31+0800 [INFO] QueryFactory starting on 34952
2017-07-14 15:43:31+0800 [INFO] Starting factory <devices.iptalk.factory.QueryFactory instance at 0x00000000046F11C8>
2017-07-14 15:43:31+0800 [INFO] AudioFactory starting on 3478
2017-07-14 15:43:31+0800 [INFO] Starting protocol <devices.iptalk.factory.AudioFactory instance at 0x00000000046F4E88>
2017-07-14 15:43:31+0800 [INFO] VideoFactory starting on 3456
2017-07-14 15:43:31+0800 [INFO] Starting protocol <devices.iptalk.factory.VideoFactory instance at 0x00000000046F8308>
2017-07-14 15:43:31+0800 [INFO] IPTalkWebSite starting on 85
2017-07-14 15:43:31+0800 [INFO] Starting factory <web.site.IPTalkWebSite instance at 0x00000000046F8648>
2017-07-14 15:43:31+0800 [INFO] WebSocketFactory starting on 89
2017-07-14 15:43:31+0800 [INFO] Starting factory <devices.iptalk.factory.WebSocketFactory instance at 0x0000000004706248>
2017-07-14 15:43:31+0800 [INFO] TCPPushFactory starting on 90
2017-07-14 15:43:31+0800 [INFO] Starting factory <devices.iptalk.factory.TCPPushFactory instance at 0x0000000004706708>
2017-07-14 15:43:31+0800 [INFO] SearchFactory starting on 3550
2017-07-14 15:43:31+0800 [INFO] Starting protocol <devices.iptalk.factory.SearchFactory instance at 0x0000000004706BC8>
2017-07-14 15:43:31+0800 [INFO] MyFTPFactory starting on 21
2017-07-14 15:43:31+0800 [INFO] Starting factory <devices.iptalk.ftp.MyFTPFactory instance at 0x0000000004706F48>
2017-07-14 15:43:32+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 50422) .
2017-07-14 15:43:32+0800 [INFO] WebSocket keepAlive is on
2017-07-14 15:43:32+0800 [INFO] websocket is connected.
2017-07-14 15:43:34+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:07:43:33 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 15:43:34+0800 [ERROR] Unhandled Error
	Traceback (most recent call last):
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 1442, in dataReceived
	    finishCallback(data[contentLength:])
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 1768, in _finishRequestBody
	    self.allContentReceived()
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 1845, in allContentReceived
	    req.requestReceived(command, path, version)
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 766, in requestReceived
	    self.process()
	--- <exception caught here> ---
	  File "C:\Python27\lib\site-packages\twisted\web\server.py", line 183, in process
	    self.render(resrc)
	  File "C:\Python27\lib\site-packages\twisted\web\server.py", line 234, in render
	    body = resrc.render(self)
	  File "C:\Python27\lib\site-packages\twisted\web\resource.py", line 250, in render
	    return m(request)
	  File "D:/Documents/catcuts/project/iot_combination\devices\iptalk\webmanager.py", line 368, in render_POST
	    self.self.exeSysUpgrade(request)
	exceptions.AttributeError: sysUpgrade instance has no attribute 'self'
	
2017-07-14 15:43:34+0800 [ERROR] Unhandled Error
	Traceback (most recent call last):
	  File "C:\Python27\lib\site-packages\twisted\web\server.py", line 319, in processingFailed
	    util.formatFailure(reason) +
	  File "C:\Python27\lib\site-packages\twisted\web\util.py", line 432, in formatFailure
	    flattenString(None, FailureElement(myFailure)).addBoth(result.append)
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 410, in flattenString
	    d = flatten(request, root, io.write)
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 392, in flatten
	    _writeFlattenedData(state, write, result)
	--- <exception caught here> ---
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 353, in _writeFlattenedData
	    element = next(state)
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 321, in _flattenTree
	    raise FlattenerError(e, roots, extract_tb(exc_info()[2]))
	twisted.web.error.FlattenerError: Exception while flattening:
	  <twisted.web.util.FailureElement object at 0x0000000004779B00>
	  [Tag(u'div', children=[u'\n', u'  ', Tag(u'style', attributes=OrderedDict([(u'type', u'text/css')]), children=[u'\n', u'    div.error {', u'\n', u'      color: red;', u'\n', u'      font-family: Verdana, Arial, helvetica, sans-serif;', u'\n', u'      font-weight: bold;', u'\n', u'    }', u'\n', u'\n', u'    div {', u'\n', u'      font-family: Verdana, Arial, helvetica, sans-serif;', u'\n', u'    }', u'\n', u'\n', u'    div.stackTrace {', u'\n', u'    }', u'\n', u'\n', u'    div.frame {', u'\n', u'      padding: 1em;', u'\n', u'      background: white;', u'\n', u'      border-bottom: thin black dashed;', u'\n', u'    }', u'\n', u'\n', u'    div.frame:first-child {', u'\n', u'      padding: 1em;', u'\n', u'      background: white;', u'\n', u'      border-top: thin black dashed;', u'\n', u'      border-bottom: thin black dashed;', u'\n', u'    }', u'\n', u'\n', u'    div.location {', u'\n', u'    }', u'\n', u'\n', u'    span.function {', u'\n', u'      font-weight: bold;', u'\n', u'      font-family: "Courier New", courier, monospace;', u'\n', u'    }', u'\n', u'\n', u'    div.snippet {', u'\n', u'      margin-bottom: 0.5em;', u'\n', u'      margin-left: 1em;', u'\n', u'      background: #FFFFDD;', u'\n', u'    }', u'\n', u'\n', u'    div.snippetHighlightLine {', u'\n', u'      color: red;', u'\n', u'    }', u'\n', u'\n', u'    span.code {', u'\n', u'      font-family: "Courier New", courier, monospace;', u'\n', u'    }', u'\n', u'  ']), u'\n', u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'error')]), children=[u'\n', u'    ', Tag(u'span'), u': ', Tag(u'span'), u'\n', u'  ']), u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'stackTrace')]), children=[u'\n', u'    ', Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']), u'\n', u'  ']), u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'error')]), children=[u'\n', u'    ', Tag(u'span'), u': ', Tag(u'span'), u'\n', u'  ']), u'\n'])]
	  Tag <div>
	  [u'\n', u'  ', Tag(u'style', attributes=OrderedDict([(u'type', u'text/css')]), children=[u'\n', u'    div.error {', u'\n', u'      color: red;', u'\n', u'      font-family: Verdana, Arial, helvetica, sans-serif;', u'\n', u'      font-weight: bold;', u'\n', u'    }', u'\n', u'\n', u'    div {', u'\n', u'      font-family: Verdana, Arial, helvetica, sans-serif;', u'\n', u'    }', u'\n', u'\n', u'    div.stackTrace {', u'\n', u'    }', u'\n', u'\n', u'    div.frame {', u'\n', u'      padding: 1em;', u'\n', u'      background: white;', u'\n', u'      border-bottom: thin black dashed;', u'\n', u'    }', u'\n', u'\n', u'    div.frame:first-child {', u'\n', u'      padding: 1em;', u'\n', u'      background: white;', u'\n', u'      border-top: thin black dashed;', u'\n', u'      border-bottom: thin black dashed;', u'\n', u'    }', u'\n', u'\n', u'    div.location {', u'\n', u'    }', u'\n', u'\n', u'    span.function {', u'\n', u'      font-weight: bold;', u'\n', u'      font-family: "Courier New", courier, monospace;', u'\n', u'    }', u'\n', u'\n', u'    div.snippet {', u'\n', u'      margin-bottom: 0.5em;', u'\n', u'      margin-left: 1em;', u'\n', u'      background: #FFFFDD;', u'\n', u'    }', u'\n', u'\n', u'    div.snippetHighlightLine {', u'\n', u'      color: red;', u'\n', u'    }', u'\n', u'\n', u'    span.code {', u'\n', u'      font-family: "Courier New", courier, monospace;', u'\n', u'    }', u'\n', u'  ']), u'\n', u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'error')]), children=[u'\n', u'    ', Tag(u'span'), u': ', Tag(u'span'), u'\n', u'  ']), u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'stackTrace')]), children=[u'\n', u'    ', Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']), u'\n', u'  ']), u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'error')]), children=[u'\n', u'    ', Tag(u'span'), u': ', Tag(u'span'), u'\n', u'  ']), u'\n']
	  Tag <div>
	  <twisted.web.util._StackElement object at 0x00000000047CEB00>
	  [Tag(u'div', attributes=OrderedDict([(u'class', u'stackTrace')]), children=[u'\n', u'    ', Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']), u'\n', u'  '])]
	  Tag <div>
	  [u'\n', u'    ', Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']), u'\n', u'  ']
	  Tag <div>
	  [<twisted.web.util._FrameElement object at 0x00000000047CEFD0>, <twisted.web.util._FrameElement object at 0x00000000047E2278>, <twisted.web.util._FrameElement object at 0x00000000047E24E0>, <twisted.web.util._FrameElement object at 0x00000000047E2748>]
	  <twisted.web.util._FrameElement object at 0x00000000047E2748>
	  [Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    '])]
	  Tag <div>
	  [u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']
	  Tag <div>
	  <twisted.web.util._SourceFragmentElement object at 0x00000000047E2940>
	  [Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      '])]
	  Tag <div>
	  [u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']
	  Tag <div>
	  <generator object sourceLines at 0x000000000480E1B0>
	  <twisted.web.util._SourceLineElement object at 0x00000000047E2C50>
	  [Tag(u'div', attributes=OrderedDict([('class', 'snippetLine')]), children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        '])]
	  Tag <div>
	  [u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']
	  Tag <code>
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 312, in _flattenTree
	    element = next(stack[-1])
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 231, in _flattenElement
	    result = renderMethod(request, rootClone)
	  File "C:\Python27\lib\site-packages\twisted\web\util.py", line 171, in sourceLine
	    return tag(self.source.replace('  ', u' \N{NO-BREAK SPACE}'))
	UnicodeDecodeError: 'ascii' codec can't decode byte 0xe6 in position 10: ordinal not in range(128)
	
	
2017-07-14 15:43:34+0800 [ERROR] Unhandled Error
	Traceback (most recent call last):
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 1442, in dataReceived
	    finishCallback(data[contentLength:])
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 1768, in _finishRequestBody
	    self.allContentReceived()
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 1845, in allContentReceived
	    req.requestReceived(command, path, version)
	  File "C:\Python27\lib\site-packages\twisted\web\http.py", line 766, in requestReceived
	    self.process()
	--- <exception caught here> ---
	  File "C:\Python27\lib\site-packages\twisted\web\server.py", line 183, in process
	    self.render(resrc)
	  File "C:\Python27\lib\site-packages\twisted\web\server.py", line 234, in render
	    body = resrc.render(self)
	  File "C:\Python27\lib\site-packages\twisted\web\resource.py", line 250, in render
	    return m(request)
	  File "D:/Documents/catcuts/project/iot_combination\devices\iptalk\webmanager.py", line 368, in render_POST
	    self.self.exeSysUpgrade(request)
	exceptions.AttributeError: sysUpgrade instance has no attribute 'self'
	
2017-07-14 15:43:34+0800 [ERROR] Unhandled Error
	Traceback (most recent call last):
	  File "C:\Python27\lib\site-packages\twisted\web\server.py", line 319, in processingFailed
	    util.formatFailure(reason) +
	  File "C:\Python27\lib\site-packages\twisted\web\util.py", line 432, in formatFailure
	    flattenString(None, FailureElement(myFailure)).addBoth(result.append)
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 410, in flattenString
	    d = flatten(request, root, io.write)
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 392, in flatten
	    _writeFlattenedData(state, write, result)
	--- <exception caught here> ---
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 353, in _writeFlattenedData
	    element = next(state)
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 321, in _flattenTree
	    raise FlattenerError(e, roots, extract_tb(exc_info()[2]))
	twisted.web.error.FlattenerError: Exception while flattening:
	  <twisted.web.util.FailureElement object at 0x0000000004815F60>
	  [Tag(u'div', children=[u'\n', u'  ', Tag(u'style', attributes=OrderedDict([(u'type', u'text/css')]), children=[u'\n', u'    div.error {', u'\n', u'      color: red;', u'\n', u'      font-family: Verdana, Arial, helvetica, sans-serif;', u'\n', u'      font-weight: bold;', u'\n', u'    }', u'\n', u'\n', u'    div {', u'\n', u'      font-family: Verdana, Arial, helvetica, sans-serif;', u'\n', u'    }', u'\n', u'\n', u'    div.stackTrace {', u'\n', u'    }', u'\n', u'\n', u'    div.frame {', u'\n', u'      padding: 1em;', u'\n', u'      background: white;', u'\n', u'      border-bottom: thin black dashed;', u'\n', u'    }', u'\n', u'\n', u'    div.frame:first-child {', u'\n', u'      padding: 1em;', u'\n', u'      background: white;', u'\n', u'      border-top: thin black dashed;', u'\n', u'      border-bottom: thin black dashed;', u'\n', u'    }', u'\n', u'\n', u'    div.location {', u'\n', u'    }', u'\n', u'\n', u'    span.function {', u'\n', u'      font-weight: bold;', u'\n', u'      font-family: "Courier New", courier, monospace;', u'\n', u'    }', u'\n', u'\n', u'    div.snippet {', u'\n', u'      margin-bottom: 0.5em;', u'\n', u'      margin-left: 1em;', u'\n', u'      background: #FFFFDD;', u'\n', u'    }', u'\n', u'\n', u'    div.snippetHighlightLine {', u'\n', u'      color: red;', u'\n', u'    }', u'\n', u'\n', u'    span.code {', u'\n', u'      font-family: "Courier New", courier, monospace;', u'\n', u'    }', u'\n', u'  ']), u'\n', u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'error')]), children=[u'\n', u'    ', Tag(u'span'), u': ', Tag(u'span'), u'\n', u'  ']), u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'stackTrace')]), children=[u'\n', u'    ', Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']), u'\n', u'  ']), u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'error')]), children=[u'\n', u'    ', Tag(u'span'), u': ', Tag(u'span'), u'\n', u'  ']), u'\n'])]
	  Tag <div>
	  [u'\n', u'  ', Tag(u'style', attributes=OrderedDict([(u'type', u'text/css')]), children=[u'\n', u'    div.error {', u'\n', u'      color: red;', u'\n', u'      font-family: Verdana, Arial, helvetica, sans-serif;', u'\n', u'      font-weight: bold;', u'\n', u'    }', u'\n', u'\n', u'    div {', u'\n', u'      font-family: Verdana, Arial, helvetica, sans-serif;', u'\n', u'    }', u'\n', u'\n', u'    div.stackTrace {', u'\n', u'    }', u'\n', u'\n', u'    div.frame {', u'\n', u'      padding: 1em;', u'\n', u'      background: white;', u'\n', u'      border-bottom: thin black dashed;', u'\n', u'    }', u'\n', u'\n', u'    div.frame:first-child {', u'\n', u'      padding: 1em;', u'\n', u'      background: white;', u'\n', u'      border-top: thin black dashed;', u'\n', u'      border-bottom: thin black dashed;', u'\n', u'    }', u'\n', u'\n', u'    div.location {', u'\n', u'    }', u'\n', u'\n', u'    span.function {', u'\n', u'      font-weight: bold;', u'\n', u'      font-family: "Courier New", courier, monospace;', u'\n', u'    }', u'\n', u'\n', u'    div.snippet {', u'\n', u'      margin-bottom: 0.5em;', u'\n', u'      margin-left: 1em;', u'\n', u'      background: #FFFFDD;', u'\n', u'    }', u'\n', u'\n', u'    div.snippetHighlightLine {', u'\n', u'      color: red;', u'\n', u'    }', u'\n', u'\n', u'    span.code {', u'\n', u'      font-family: "Courier New", courier, monospace;', u'\n', u'    }', u'\n', u'  ']), u'\n', u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'error')]), children=[u'\n', u'    ', Tag(u'span'), u': ', Tag(u'span'), u'\n', u'  ']), u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'stackTrace')]), children=[u'\n', u'    ', Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']), u'\n', u'  ']), u'\n', u'  ', Tag(u'div', attributes=OrderedDict([(u'class', u'error')]), children=[u'\n', u'    ', Tag(u'span'), u': ', Tag(u'span'), u'\n', u'  ']), u'\n']
	  Tag <div>
	  <twisted.web.util._StackElement object at 0x0000000004829240>
	  [Tag(u'div', attributes=OrderedDict([(u'class', u'stackTrace')]), children=[u'\n', u'    ', Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']), u'\n', u'  '])]
	  Tag <div>
	  [u'\n', u'    ', Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']), u'\n', u'  ']
	  Tag <div>
	  [<twisted.web.util._FrameElement object at 0x0000000004829588>, <twisted.web.util._FrameElement object at 0x00000000048297F0>, <twisted.web.util._FrameElement object at 0x0000000004829A58>, <twisted.web.util._FrameElement object at 0x0000000004829CC0>]
	  <twisted.web.util._FrameElement object at 0x0000000004829CC0>
	  [Tag(u'div', attributes=OrderedDict([(u'class', u'frame')]), children=[u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    '])]
	  Tag <div>
	  [u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'location')]), children=[u'\n', u'        ', Tag(u'span'), u':', Tag(u'span'), u' in', u'\n', u'        ', Tag(u'span', attributes=OrderedDict([(u'class', u'function')])), u'\n', u'      ']), u'\n', u'      ', Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']), u'\n', u'    ']
	  Tag <div>
	  <twisted.web.util._SourceFragmentElement object at 0x0000000004829D68>
	  [Tag(u'div', attributes=OrderedDict([(u'class', u'snippet')]), children=[u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      '])]
	  Tag <div>
	  [u'\n', u'        ', Tag(u'div', children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']), u'\n', u'      ']
	  Tag <div>
	  <generator object sourceLines at 0x000000000480E240>
	  <twisted.web.util._SourceLineElement object at 0x0000000004829EB8>
	  [Tag(u'div', attributes=OrderedDict([('class', 'snippetLine')]), children=[u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        '])]
	  Tag <div>
	  [u'\n', u'          ', Tag(u'span', attributes=OrderedDict([(u'class', u'lineno')])), u'\n', u'          ', Tag(u'code', attributes=OrderedDict([(u'class', u'code')])), u'\n', u'        ']
	  Tag <code>
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 312, in _flattenTree
	    element = next(stack[-1])
	  File "C:\Python27\lib\site-packages\twisted\web\_flatten.py", line 231, in _flattenElement
	    result = renderMethod(request, rootClone)
	  File "C:\Python27\lib\site-packages\twisted\web\util.py", line 171, in sourceLine
	    return tag(self.source.replace('  ', u' \N{NO-BREAK SPACE}'))
	UnicodeDecodeError: 'ascii' codec can't decode byte 0xe6 in position 10: ordinal not in range(128)
	
	
2017-07-14 15:44:16+0800 [INFO] Starting SmartTalk IoTService.Version is v0.3.6
2017-07-14 15:44:16+0800 [INFO] (1050, "Table 'device' already exists")
2017-07-14 15:44:16+0800 [INFO] (1050, "Table 'devicepanel' already exists")
2017-07-14 15:44:16+0800 [INFO] (1050, "Table 'deviceio' already exists")
2017-07-14 15:44:16+0800 [INFO] (1050, "Table 'deviceaudiovideo' already exists")
2017-07-14 15:44:16+0800 [INFO] (1050, "Table 'devicealarm' already exists")
2017-07-14 15:44:16+0800 [INFO] (1050, "Table 'feedback' already exists")
2017-07-14 15:44:16+0800 [INFO] (1050, "Table 'log_call' already exists")
2017-07-14 15:44:16+0800 [INFO] (1050, "Table 'log_device' already exists")
2017-07-14 15:44:16+0800 [INFO] (1050, "Table 'log_alarm' already exists")
2017-07-14 15:44:16+0800 [INFO] (1050, "Table 'devicetree' already exists")
2017-07-14 15:44:16+0800 [INFO] (1050, "Table 'authority' already exists")
2017-07-14 15:44:16+0800 [INFO] (1050, "Table 'identity' already exists")
2017-07-14 15:44:16+0800 [INFO] (1050, "Table 'authorization' already exists")
2017-07-14 15:44:16+0800 [INFO] (1050, "Table 'user' already exists")
2017-07-14 15:44:16+0800 [INFO] TreeNode has been initialized
2017-07-14 15:44:16+0800 [INFO] FeedBack has been initialized
2017-07-14 15:44:16+0800 [INFO] Administrator has been initialized
2017-07-14 15:44:16+0800 [INFO] Opened iptalk.db successfully
2017-07-14 15:44:17+0800 [INFO] OrderFactory starting on 12200
2017-07-14 15:44:17+0800 [INFO] Starting factory <devices.iptalk.factory.OrderFactory instance at 0x00000000047BB8C8>
2017-07-14 15:44:17+0800 [INFO] QueryFactory starting on 34952
2017-07-14 15:44:17+0800 [INFO] Starting factory <devices.iptalk.factory.QueryFactory instance at 0x000000000484B1C8>
2017-07-14 15:44:17+0800 [INFO] AudioFactory starting on 3478
2017-07-14 15:44:17+0800 [INFO] Starting protocol <devices.iptalk.factory.AudioFactory instance at 0x000000000484EE88>
2017-07-14 15:44:17+0800 [INFO] VideoFactory starting on 3456
2017-07-14 15:44:17+0800 [INFO] Starting protocol <devices.iptalk.factory.VideoFactory instance at 0x0000000004852308>
2017-07-14 15:44:17+0800 [INFO] IPTalkWebSite starting on 85
2017-07-14 15:44:17+0800 [INFO] Starting factory <web.site.IPTalkWebSite instance at 0x0000000004852648>
2017-07-14 15:44:17+0800 [INFO] WebSocketFactory starting on 89
2017-07-14 15:44:17+0800 [INFO] Starting factory <devices.iptalk.factory.WebSocketFactory instance at 0x0000000004860248>
2017-07-14 15:44:17+0800 [INFO] TCPPushFactory starting on 90
2017-07-14 15:44:17+0800 [INFO] Starting factory <devices.iptalk.factory.TCPPushFactory instance at 0x0000000004860708>
2017-07-14 15:44:17+0800 [INFO] SearchFactory starting on 3550
2017-07-14 15:44:17+0800 [INFO] Starting protocol <devices.iptalk.factory.SearchFactory instance at 0x0000000004860BC8>
2017-07-14 15:44:17+0800 [INFO] MyFTPFactory starting on 21
2017-07-14 15:44:17+0800 [INFO] Starting factory <devices.iptalk.ftp.MyFTPFactory instance at 0x0000000004860F48>
2017-07-14 15:44:19+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 50514) .
2017-07-14 15:44:19+0800 [INFO] WebSocket keepAlive is on
2017-07-14 15:44:19+0800 [INFO] websocket is connected.
2017-07-14 15:44:20+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:07:44:20 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 15:45:19+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:07:44:27 +0000] "POST /upgrade/sysUpgrade HTTP/1.1" 200 21 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 15:55:39+0800 [INFO] delete websock TCP connect:ce0a1a3353e441949f74de84029dcdd6
2017-07-14 15:55:39+0800 [INFO] websocket is disconnected.
2017-07-14 15:57:34+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 51827) .
2017-07-14 15:57:34+0800 [INFO] WebSocket keepAlive is on
2017-07-14 15:57:34+0800 [INFO] websocket is connected.
2017-07-14 15:57:34+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:07:57:33 +0000] "GET /devices/iptalk/getiptalkdevicemessage HTTP/1.1" 200 83 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 15:59:39+0800 [INFO] delete websock TCP connect:057ac620ffac44a4ba543252d4e43b15
2017-07-14 15:59:39+0800 [INFO] websocket is disconnected.
2017-07-14 15:59:40+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:07:59:40 +0000] "GET /devices/iptalk/getiptalkdevicemessage HTTP/1.1" 200 83 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 15:59:41+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 52054) .
2017-07-14 15:59:41+0800 [INFO] WebSocket keepAlive is on
2017-07-14 15:59:41+0800 [INFO] websocket is connected.
2017-07-14 16:00:18+0800 [INFO] delete websock TCP connect:be8a9d29ff184764befaa4a7f69e8e74
2017-07-14 16:00:18+0800 [INFO] websocket is disconnected.
2017-07-14 16:00:19+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:08:00:19 +0000] "GET /devices/iptalk/getiptalkdevicemessage HTTP/1.1" 200 83 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 16:00:20+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 52137) .
2017-07-14 16:00:20+0800 [INFO] WebSocket keepAlive is on
2017-07-14 16:00:20+0800 [INFO] websocket is connected.
2017-07-14 16:00:47+0800 [INFO] delete websock TCP connect:91b139d3e9ae44eaa4f8eed61534d023
2017-07-14 16:00:47+0800 [INFO] websocket is disconnected.
2017-07-14 16:00:48+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:08:00:48 +0000] "GET /devices/iptalk/getiptalkdevicemessage HTTP/1.1" 200 83 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 16:00:49+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 52180) .
2017-07-14 16:00:49+0800 [INFO] WebSocket keepAlive is on
2017-07-14 16:00:49+0800 [INFO] websocket is connected.
2017-07-14 16:01:17+0800 [INFO] delete websock TCP connect:b765505e1575407b92487146057ebcfe
2017-07-14 16:01:17+0800 [INFO] websocket is disconnected.
2017-07-14 16:01:18+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:08:01:18 +0000] "GET /devices/iptalk/getiptalkdevicemessage HTTP/1.1" 200 83 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 16:01:19+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 52235) .
2017-07-14 16:01:19+0800 [INFO] WebSocket keepAlive is on
2017-07-14 16:01:19+0800 [INFO] websocket is connected.
2017-07-14 16:01:49+0800 [INFO] delete websock TCP connect:39074de0deda4f1cbe9c028cdbb21caa
2017-07-14 16:01:49+0800 [INFO] websocket is disconnected.
2017-07-14 16:01:50+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:08:01:49 +0000] "GET /devices/iptalk/getiptalkdevicemessage HTTP/1.1" 200 83 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 16:01:50+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 52286) .
2017-07-14 16:01:50+0800 [INFO] WebSocket keepAlive is on
2017-07-14 16:01:50+0800 [INFO] websocket is connected.
2017-07-14 16:02:49+0800 [INFO] delete websock TCP connect:1f474794b52f4a6fbeaad2b27aa730a5
2017-07-14 16:02:49+0800 [INFO] websocket is disconnected.
2017-07-14 16:02:50+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:08:02:49 +0000] "GET /devices/iptalk/getiptalkdevicemessage HTTP/1.1" 200 83 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 16:02:50+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 52420) .
2017-07-14 16:02:50+0800 [INFO] WebSocket keepAlive is on
2017-07-14 16:02:50+0800 [INFO] websocket is connected.
2017-07-14 16:03:07+0800 [INFO] delete websock TCP connect:d57eebd6f8db4e178d7f677e7550a1ac
2017-07-14 16:03:07+0800 [INFO] websocket is disconnected.
2017-07-14 16:03:08+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:08:03:08 +0000] "GET /devices/iptalk/getiptalkdevicemessage HTTP/1.1" 200 83 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 16:03:09+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 52469) .
2017-07-14 16:03:09+0800 [INFO] WebSocket keepAlive is on
2017-07-14 16:03:09+0800 [INFO] websocket is connected.
2017-07-14 16:03:23+0800 [INFO] delete websock TCP connect:ffbd7561932344788d9158ca9703da65
2017-07-14 16:03:23+0800 [INFO] websocket is disconnected.
2017-07-14 16:03:24+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:08:03:23 +0000] "GET /devices/iptalk/getiptalkdevicemessage HTTP/1.1" 200 83 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 16:03:24+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 52495) .
2017-07-14 16:03:24+0800 [INFO] WebSocket keepAlive is on
2017-07-14 16:03:24+0800 [INFO] websocket is connected.
2017-07-14 16:04:52+0800 [INFO] delete websock TCP connect:70d01ec3e46d494ebe97d5ebd473e77c
2017-07-14 16:04:52+0800 [INFO] websocket is disconnected.
2017-07-14 16:04:54+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:08:04:53 +0000] "GET /devices/iptalk/getiptalkdevicemessage HTTP/1.1" 200 83 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 16:04:54+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 52648) .
2017-07-14 16:04:54+0800 [INFO] WebSocket keepAlive is on
2017-07-14 16:04:54+0800 [INFO] websocket is connected.
2017-07-14 16:05:54+0800 [INFO] delete websock TCP connect:b7c2057f97e24ade97dbd7fc6b00fe29
2017-07-14 16:05:54+0800 [INFO] websocket is disconnected.
2017-07-14 16:05:55+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:08:05:55 +0000] "GET /devices/iptalk/getiptalkdevicemessage HTTP/1.1" 200 83 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 16:05:56+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 52742) .
2017-07-14 16:05:56+0800 [INFO] WebSocket keepAlive is on
2017-07-14 16:05:56+0800 [INFO] websocket is connected.
2017-07-14 16:25:13+0800 [INFO] delete websock TCP connect:99e0d251fdbe4ffa85e848ac925cfc5a
2017-07-14 16:25:13+0800 [INFO] websocket is disconnected.
2017-07-14 16:25:15+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 54951) .
2017-07-14 16:25:15+0800 [INFO] WebSocket keepAlive is on
2017-07-14 16:25:15+0800 [INFO] websocket is connected.
2017-07-14 16:25:15+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:08:25:14 +0000] "GET /devices/iptalk/getiptalkdevicemessage HTTP/1.1" 200 83 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 16:26:36+0800 [INFO] delete websock TCP connect:0b985cdd290b4d2ca4f68ef9bc8c4865
2017-07-14 16:26:36+0800 [INFO] websocket is disconnected.
2017-07-14 16:26:37+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:08:26:36 +0000] "GET /devices/iptalk/getiptalkdevicemessage HTTP/1.1" 200 83 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 16:26:37+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 55144) .
2017-07-14 16:26:37+0800 [INFO] WebSocket keepAlive is on
2017-07-14 16:26:37+0800 [INFO] websocket is connected.
2017-07-14 16:28:40+0800 [INFO] delete websock TCP connect:288231ec843749fbaad10cf1c5760f19
2017-07-14 16:28:40+0800 [INFO] websocket is disconnected.
2017-07-14 16:28:42+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:08:28:41 +0000] "GET /devices/iptalk/getiptalkdevicemessage HTTP/1.1" 200 83 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 16:28:42+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 55433) .
2017-07-14 16:28:42+0800 [INFO] WebSocket keepAlive is on
2017-07-14 16:28:42+0800 [INFO] websocket is connected.
2017-07-14 16:41:49+0800 [INFO] delete websock TCP connect:e4675459628e4763b90f2ac6c8a386ba
2017-07-14 16:41:49+0800 [INFO] websocket is disconnected.
2017-07-14 16:41:50+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 56864) .
2017-07-14 16:41:50+0800 [INFO] WebSocket keepAlive is on
2017-07-14 16:41:50+0800 [INFO] websocket is connected.
2017-07-14 16:41:50+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:08:41:49 +0000] "GET /devices/iptalk/getiptalkdevicemessage HTTP/1.1" 200 83 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 16:42:36+0800 [INFO] delete websock TCP connect:6017a5561f904f499ccf52c0a83981a8
2017-07-14 16:42:36+0800 [INFO] websocket is disconnected.
2017-07-14 16:42:37+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:08:42:36 +0000] "GET /devices/iptalk/getiptalkdevicemessage HTTP/1.1" 200 83 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 16:42:38+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 56975) .
2017-07-14 16:42:38+0800 [INFO] WebSocket keepAlive is on
2017-07-14 16:42:38+0800 [INFO] websocket is connected.
2017-07-14 16:43:32+0800 [INFO] delete websock TCP connect:9597fdd2e3f54b4295dee01b153bb4d7
2017-07-14 16:43:32+0800 [INFO] websocket is disconnected.
2017-07-14 16:43:34+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:08:43:33 +0000] "GET /devices/iptalk/getiptalkdevicemessage HTTP/1.1" 200 83 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 16:43:34+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 57070) .
2017-07-14 16:43:34+0800 [INFO] WebSocket keepAlive is on
2017-07-14 16:43:34+0800 [INFO] websocket is connected.
2017-07-14 16:45:16+0800 [INFO] delete websock TCP connect:6d49463207a440bc8630de6c9ac82a49
2017-07-14 16:45:16+0800 [INFO] websocket is disconnected.
2017-07-14 16:45:18+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:08:45:17 +0000] "GET /devices/iptalk/getiptalkdevicemessage HTTP/1.1" 200 83 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 16:45:18+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 57246) .
2017-07-14 16:45:18+0800 [INFO] WebSocket keepAlive is on
2017-07-14 16:45:18+0800 [INFO] websocket is connected.
2017-07-14 16:47:06+0800 [INFO] delete websock TCP connect:8a8702ab6b5b49f6a287cd987ac62bcc
2017-07-14 16:47:06+0800 [INFO] websocket is disconnected.
2017-07-14 16:47:08+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:08:47:07 +0000] "GET /devices/iptalk/getiptalkdevicemessage HTTP/1.1" 200 83 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 16:47:08+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 57438) .
2017-07-14 16:47:08+0800 [INFO] WebSocket keepAlive is on
2017-07-14 16:47:08+0800 [INFO] websocket is connected.
2017-07-14 16:47:23+0800 [INFO] delete websock TCP connect:428837f9c7354bef82b8ce2b79c8a177
2017-07-14 16:47:23+0800 [INFO] websocket is disconnected.
2017-07-14 16:47:24+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:08:47:23 +0000] "GET /devices/iptalk/getiptalkdevicemessage HTTP/1.1" 200 83 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 16:47:25+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 57480) .
2017-07-14 16:47:25+0800 [INFO] WebSocket keepAlive is on
2017-07-14 16:47:25+0800 [INFO] websocket is connected.
2017-07-14 16:50:49+0800 [INFO] delete websock TCP connect:7fc98cb4af974ced9fb0b64387b059d3
2017-07-14 16:50:49+0800 [INFO] websocket is disconnected.
2017-07-14 16:50:51+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:08:50:50 +0000] "GET /devices/iptalk/getiptalkdevicemessage HTTP/1.1" 200 83 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 16:50:51+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 57821) .
2017-07-14 16:50:51+0800 [INFO] WebSocket keepAlive is on
2017-07-14 16:50:51+0800 [INFO] websocket is connected.
2017-07-14 16:51:06+0800 [INFO] delete websock TCP connect:dfbc7c0a2a3a40bba7b93df9cc07929d
2017-07-14 16:51:06+0800 [INFO] websocket is disconnected.
2017-07-14 16:51:08+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:08:51:07 +0000] "GET /devices/iptalk/getiptalkdevicemessage HTTP/1.1" 200 83 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 16:51:08+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 57852) .
2017-07-14 16:51:08+0800 [INFO] WebSocket keepAlive is on
2017-07-14 16:51:08+0800 [INFO] websocket is connected.
2017-07-14 16:51:40+0800 [INFO] delete websock TCP connect:91a5eb7d8e6340c09551ce126d9dc032
2017-07-14 16:51:40+0800 [INFO] websocket is disconnected.
2017-07-14 16:51:41+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:08:51:40 +0000] "GET /devices/iptalk/getiptalkdevicemessage HTTP/1.1" 200 83 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 16:51:41+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 57918) .
2017-07-14 16:51:41+0800 [INFO] WebSocket keepAlive is on
2017-07-14 16:51:41+0800 [INFO] websocket is connected.
2017-07-14 16:52:30+0800 [INFO] delete websock TCP connect:63d86b9486f64e3a8b66838119b6aab8
2017-07-14 16:52:30+0800 [INFO] websocket is disconnected.
2017-07-14 16:52:32+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:08:52:31 +0000] "GET /devices/iptalk/getiptalkdevicemessage HTTP/1.1" 200 83 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 16:52:32+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 58014) .
2017-07-14 16:52:32+0800 [INFO] WebSocket keepAlive is on
2017-07-14 16:52:32+0800 [INFO] websocket is connected.
2017-07-14 16:53:07+0800 [INFO] delete websock TCP connect:2fa48f344d52436dac079ea620baefcc
2017-07-14 16:53:07+0800 [INFO] websocket is disconnected.
2017-07-14 16:53:08+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:08:53:07 +0000] "GET /devices/iptalk/getiptalkdevicemessage HTTP/1.1" 200 83 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 16:53:08+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 58096) .
2017-07-14 16:53:08+0800 [INFO] WebSocket keepAlive is on
2017-07-14 16:53:08+0800 [INFO] websocket is connected.
2017-07-14 16:53:23+0800 [INFO] delete websock TCP connect:2ce3e2cedab64554be1d2d09623a8192
2017-07-14 16:53:23+0800 [INFO] websocket is disconnected.
2017-07-14 16:53:25+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:08:53:24 +0000] "GET /devices/iptalk/getiptalkdevicemessage HTTP/1.1" 200 83 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 16:53:25+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 58119) .
2017-07-14 16:53:25+0800 [INFO] WebSocket keepAlive is on
2017-07-14 16:53:25+0800 [INFO] websocket is connected.
2017-07-14 16:55:07+0800 [INFO] delete websock TCP connect:6a8b4047f34a44bb9a15b168eb3982e5
2017-07-14 16:55:07+0800 [INFO] websocket is disconnected.
2017-07-14 16:55:08+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:08:55:07 +0000] "GET /devices/iptalk/getiptalkdevicemessage HTTP/1.1" 200 83 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 16:55:09+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 58305) .
2017-07-14 16:55:09+0800 [INFO] WebSocket keepAlive is on
2017-07-14 16:55:09+0800 [INFO] websocket is connected.
2017-07-14 16:55:22+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:08:55:17 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 16:55:26+0800 [ERROR] Unhandled error in Deferred:
2017-07-14 16:55:26+0800 [ERROR] Unhandled Error
	Traceback (most recent call last):
	  File "C:\Python27\lib\threading.py", line 810, in __bootstrap_inner
	    self.run()
	  File "C:\Python27\lib\threading.py", line 763, in run
	    self.__target(*self.__args, **self.__kwargs)
	  File "C:\Python27\lib\site-packages\twisted\_threads\_threadworker.py", line 46, in work
	    task()
	  File "C:\Python27\lib\site-packages\twisted\_threads\_team.py", line 190, in doWork
	    task()
	--- <exception caught here> ---
	  File "C:\Python27\lib\site-packages\twisted\python\threadpool.py", line 246, in inContext
	    result = inContext.theWork()
	  File "C:\Python27\lib\site-packages\twisted\python\threadpool.py", line 262, in <lambda>
	    inContext.theWork = lambda: context.call(ctx, func, *args, **kw)
	  File "C:\Python27\lib\site-packages\twisted\python\context.py", line 118, in callWithContext
	    return self.currentContext().callWithContext(ctx, func, *args, **kw)
	  File "C:\Python27\lib\site-packages\twisted\python\context.py", line 81, in callWithContext
	    return func(*args,**kw)
	  File "D:/Documents/catcuts/project/iot_combination\utils\updatesys.py", line 83, in update
	    shutil.rmtree(bkup) # 删除 bkup
	  File "C:\Python27\lib\shutil.py", line 247, in rmtree
	    rmtree(fullname, ignore_errors, onerror)
	  File "C:\Python27\lib\shutil.py", line 247, in rmtree
	    rmtree(fullname, ignore_errors, onerror)
	  File "C:\Python27\lib\shutil.py", line 247, in rmtree
	    rmtree(fullname, ignore_errors, onerror)
	  File "C:\Python27\lib\shutil.py", line 252, in rmtree
	    onerror(os.remove, fullname, sys.exc_info())
	  File "C:\Python27\lib\shutil.py", line 250, in rmtree
	    os.remove(fullname)
	exceptions.WindowsError: [Error 5] : 'D:\\Documents\\catcuts\\project\\iot_combination_bkup\\.git\\objects\\99\\1e8ddc1329238c44576520317eb6a6da443bf5'
	
2017-07-14 17:07:14+0800 [INFO] Starting SmartTalk IoTService.Version is v0.3.6
2017-07-14 17:07:14+0800 [INFO] (1050, "Table 'device' already exists")
2017-07-14 17:07:14+0800 [INFO] (1050, "Table 'devicepanel' already exists")
2017-07-14 17:07:14+0800 [INFO] (1050, "Table 'deviceio' already exists")
2017-07-14 17:07:14+0800 [INFO] (1050, "Table 'deviceaudiovideo' already exists")
2017-07-14 17:07:14+0800 [INFO] (1050, "Table 'devicealarm' already exists")
2017-07-14 17:07:14+0800 [INFO] (1050, "Table 'feedback' already exists")
2017-07-14 17:07:14+0800 [INFO] (1050, "Table 'log_call' already exists")
2017-07-14 17:07:14+0800 [INFO] (1050, "Table 'log_device' already exists")
2017-07-14 17:07:14+0800 [INFO] (1050, "Table 'log_alarm' already exists")
2017-07-14 17:07:14+0800 [INFO] (1050, "Table 'devicetree' already exists")
2017-07-14 17:07:14+0800 [INFO] (1050, "Table 'authority' already exists")
2017-07-14 17:07:14+0800 [INFO] (1050, "Table 'identity' already exists")
2017-07-14 17:07:14+0800 [INFO] (1050, "Table 'authorization' already exists")
2017-07-14 17:07:14+0800 [INFO] (1050, "Table 'user' already exists")
2017-07-14 17:07:14+0800 [INFO] TreeNode has been initialized
2017-07-14 17:07:14+0800 [INFO] FeedBack has been initialized
2017-07-14 17:07:14+0800 [INFO] Administrator has been initialized
2017-07-14 17:07:14+0800 [INFO] Opened iptalk.db successfully
2017-07-14 17:07:15+0800 [INFO] OrderFactory starting on 12200
2017-07-14 17:07:15+0800 [INFO] Starting factory <devices.iptalk.factory.OrderFactory instance at 0x00000000045FB8C8>
2017-07-14 17:07:15+0800 [INFO] QueryFactory starting on 34952
2017-07-14 17:07:15+0800 [INFO] Starting factory <devices.iptalk.factory.QueryFactory instance at 0x00000000046891C8>
2017-07-14 17:07:15+0800 [INFO] AudioFactory starting on 3478
2017-07-14 17:07:15+0800 [INFO] Starting protocol <devices.iptalk.factory.AudioFactory instance at 0x000000000468CE88>
2017-07-14 17:07:15+0800 [INFO] VideoFactory starting on 3456
2017-07-14 17:07:15+0800 [INFO] Starting protocol <devices.iptalk.factory.VideoFactory instance at 0x0000000004690308>
2017-07-14 17:07:16+0800 [INFO] IPTalkWebSite starting on 85
2017-07-14 17:07:16+0800 [INFO] Starting factory <web.site.IPTalkWebSite instance at 0x0000000004690648>
2017-07-14 17:07:16+0800 [INFO] WebSocketFactory starting on 89
2017-07-14 17:07:16+0800 [INFO] Starting factory <devices.iptalk.factory.WebSocketFactory instance at 0x000000000469B248>
2017-07-14 17:07:16+0800 [INFO] TCPPushFactory starting on 90
2017-07-14 17:07:16+0800 [INFO] Starting factory <devices.iptalk.factory.TCPPushFactory instance at 0x000000000469B708>
2017-07-14 17:07:16+0800 [INFO] SearchFactory starting on 3550
2017-07-14 17:07:16+0800 [INFO] Starting protocol <devices.iptalk.factory.SearchFactory instance at 0x000000000469BBC8>
2017-07-14 17:07:16+0800 [INFO] MyFTPFactory starting on 21
2017-07-14 17:07:16+0800 [INFO] Starting factory <devices.iptalk.ftp.MyFTPFactory instance at 0x000000000469BF48>
2017-07-14 17:07:27+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:09:07:22 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 17:07:35+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:09:07:33 +0000] "POST /upgrade/sysUpgrade HTTP/1.1" 200 21 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 17:07:43+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 59944) .
2017-07-14 17:07:43+0800 [INFO] WebSocket keepAlive is on
2017-07-14 17:07:43+0800 [INFO] websocket is connected.
2017-07-14 17:16:01+0800 [INFO] delete websock TCP connect:d7d495abe2cd499497e9ea288118c575
2017-07-14 17:16:01+0800 [INFO] websocket is disconnected.
2017-07-14 17:16:03+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 60757) .
2017-07-14 17:16:03+0800 [INFO] WebSocket keepAlive is on
2017-07-14 17:16:03+0800 [INFO] websocket is connected.
2017-07-14 17:16:03+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:09:16:03 +0000] "GET /devices/iptalk/getiptalkdevicemessage HTTP/1.1" 200 83 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 17:16:18+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:09:16:12 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 17:16:20+0800 [ERROR] Unhandled error in Deferred:
2017-07-14 17:16:20+0800 [ERROR] Unhandled Error
	Traceback (most recent call last):
	  File "C:\Python27\lib\threading.py", line 810, in __bootstrap_inner
	    self.run()
	  File "C:\Python27\lib\threading.py", line 763, in run
	    self.__target(*self.__args, **self.__kwargs)
	  File "C:\Python27\lib\site-packages\twisted\_threads\_threadworker.py", line 46, in work
	    task()
	  File "C:\Python27\lib\site-packages\twisted\_threads\_team.py", line 190, in doWork
	    task()
	--- <exception caught here> ---
	  File "C:\Python27\lib\site-packages\twisted\python\threadpool.py", line 246, in inContext
	    result = inContext.theWork()
	  File "C:\Python27\lib\site-packages\twisted\python\threadpool.py", line 262, in <lambda>
	    inContext.theWork = lambda: context.call(ctx, func, *args, **kw)
	  File "C:\Python27\lib\site-packages\twisted\python\context.py", line 118, in callWithContext
	    return self.currentContext().callWithContext(ctx, func, *args, **kw)
	  File "C:\Python27\lib\site-packages\twisted\python\context.py", line 81, in callWithContext
	    return func(*args,**kw)
	  File "D:/Documents/catcuts/project/iot_combination\utils\updatesys.py", line 88, in update
	    shutil.rmtree(bkup, onerror=del_rw) # 删除 bkup
	  File "C:\Python27\lib\shutil.py", line 247, in rmtree
	    rmtree(fullname, ignore_errors, onerror)
	  File "C:\Python27\lib\shutil.py", line 247, in rmtree
	    rmtree(fullname, ignore_errors, onerror)
	  File "C:\Python27\lib\shutil.py", line 247, in rmtree
	    rmtree(fullname, ignore_errors, onerror)
	  File "C:\Python27\lib\shutil.py", line 252, in rmtree
	    onerror(os.remove, fullname, sys.exc_info())
	  File "D:/Documents/catcuts/project/iot_combination\utils\updatesys.py", line 77, in del_rw
	    os.remove(path)
	exceptions.WindowsError: [Error 5] : 'D:\\Documents\\catcuts\\project\\iot_combination_bkup\\.git\\objects\\pack\\pack-a1b166e9245f97bdd4bf53ac4b93f78d8f7ff7ac.idx'
	
2017-07-14 17:16:54+0800 [INFO] Starting SmartTalk IoTService.Version is v0.3.6
2017-07-14 17:16:54+0800 [INFO] (1050, "Table 'device' already exists")
2017-07-14 17:16:54+0800 [INFO] (1050, "Table 'devicepanel' already exists")
2017-07-14 17:16:54+0800 [INFO] (1050, "Table 'deviceio' already exists")
2017-07-14 17:16:54+0800 [INFO] (1050, "Table 'deviceaudiovideo' already exists")
2017-07-14 17:16:54+0800 [INFO] (1050, "Table 'devicealarm' already exists")
2017-07-14 17:16:54+0800 [INFO] (1050, "Table 'feedback' already exists")
2017-07-14 17:16:54+0800 [INFO] (1050, "Table 'log_call' already exists")
2017-07-14 17:16:54+0800 [INFO] (1050, "Table 'log_device' already exists")
2017-07-14 17:16:54+0800 [INFO] (1050, "Table 'log_alarm' already exists")
2017-07-14 17:16:54+0800 [INFO] (1050, "Table 'devicetree' already exists")
2017-07-14 17:16:54+0800 [INFO] (1050, "Table 'authority' already exists")
2017-07-14 17:16:54+0800 [INFO] (1050, "Table 'identity' already exists")
2017-07-14 17:16:54+0800 [INFO] (1050, "Table 'authorization' already exists")
2017-07-14 17:16:54+0800 [INFO] (1050, "Table 'user' already exists")
2017-07-14 17:16:54+0800 [INFO] TreeNode has been initialized
2017-07-14 17:16:54+0800 [INFO] FeedBack has been initialized
2017-07-14 17:16:54+0800 [INFO] Administrator has been initialized
2017-07-14 17:16:54+0800 [INFO] Opened iptalk.db successfully
2017-07-14 17:16:55+0800 [INFO] OrderFactory starting on 12200
2017-07-14 17:16:55+0800 [INFO] Starting factory <devices.iptalk.factory.OrderFactory instance at 0x000000000476D8C8>
2017-07-14 17:16:55+0800 [INFO] QueryFactory starting on 34952
2017-07-14 17:16:55+0800 [INFO] Starting factory <devices.iptalk.factory.QueryFactory instance at 0x00000000047F81C8>
2017-07-14 17:16:55+0800 [INFO] AudioFactory starting on 3478
2017-07-14 17:16:55+0800 [INFO] Starting protocol <devices.iptalk.factory.AudioFactory instance at 0x00000000047FCE88>
2017-07-14 17:16:55+0800 [INFO] VideoFactory starting on 3456
2017-07-14 17:16:55+0800 [INFO] Starting protocol <devices.iptalk.factory.VideoFactory instance at 0x0000000004800308>
2017-07-14 17:16:55+0800 [INFO] IPTalkWebSite starting on 85
2017-07-14 17:16:55+0800 [INFO] Starting factory <web.site.IPTalkWebSite instance at 0x0000000004800648>
2017-07-14 17:16:55+0800 [INFO] WebSocketFactory starting on 89
2017-07-14 17:16:55+0800 [INFO] Starting factory <devices.iptalk.factory.WebSocketFactory instance at 0x000000000480D088>
2017-07-14 17:16:55+0800 [INFO] TCPPushFactory starting on 90
2017-07-14 17:16:55+0800 [INFO] Starting factory <devices.iptalk.factory.TCPPushFactory instance at 0x000000000480D548>
2017-07-14 17:16:55+0800 [INFO] SearchFactory starting on 3550
2017-07-14 17:16:55+0800 [INFO] Starting protocol <devices.iptalk.factory.SearchFactory instance at 0x000000000480DA08>
2017-07-14 17:16:55+0800 [INFO] MyFTPFactory starting on 21
2017-07-14 17:16:55+0800 [INFO] Starting factory <devices.iptalk.ftp.MyFTPFactory instance at 0x000000000480DD88>
2017-07-14 17:16:56+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 60908) .
2017-07-14 17:16:56+0800 [INFO] WebSocket keepAlive is on
2017-07-14 17:16:56+0800 [INFO] websocket is connected.
2017-07-14 17:16:59+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:09:16:58 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 17:16:59+0800 [ERROR] Unhandled error in Deferred:
2017-07-14 17:16:59+0800 [ERROR] Unhandled Error
	Traceback (most recent call last):
	  File "C:\Python27\lib\threading.py", line 810, in __bootstrap_inner
	    self.run()
	  File "C:\Python27\lib\threading.py", line 763, in run
	    self.__target(*self.__args, **self.__kwargs)
	  File "C:\Python27\lib\site-packages\twisted\_threads\_threadworker.py", line 46, in work
	    task()
	  File "C:\Python27\lib\site-packages\twisted\_threads\_team.py", line 190, in doWork
	    task()
	--- <exception caught here> ---
	  File "C:\Python27\lib\site-packages\twisted\python\threadpool.py", line 246, in inContext
	    result = inContext.theWork()
	  File "C:\Python27\lib\site-packages\twisted\python\threadpool.py", line 262, in <lambda>
	    inContext.theWork = lambda: context.call(ctx, func, *args, **kw)
	  File "C:\Python27\lib\site-packages\twisted\python\context.py", line 118, in callWithContext
	    return self.currentContext().callWithContext(ctx, func, *args, **kw)
	  File "C:\Python27\lib\site-packages\twisted\python\context.py", line 81, in callWithContext
	    return func(*args,**kw)
	  File "D:/Documents/catcuts/project/iot_combination\utils\updatesys.py", line 88, in update
	    shutil.rmtree(bkup, onerror=del_rw) # 删除 bkup
	  File "C:\Python27\lib\shutil.py", line 247, in rmtree
	    rmtree(fullname, ignore_errors, onerror)
	  File "C:\Python27\lib\shutil.py", line 247, in rmtree
	    rmtree(fullname, ignore_errors, onerror)
	  File "C:\Python27\lib\shutil.py", line 247, in rmtree
	    rmtree(fullname, ignore_errors, onerror)
	  File "C:\Python27\lib\shutil.py", line 252, in rmtree
	    onerror(os.remove, fullname, sys.exc_info())
	  File "D:/Documents/catcuts/project/iot_combination\utils\updatesys.py", line 77, in del_rw
	    os.remove(path)
	exceptions.WindowsError: [Error 5] : 'D:\\Documents\\catcuts\\project\\iot_combination_bkup\\.git\\objects\\pack\\pack-a1b166e9245f97bdd4bf53ac4b93f78d8f7ff7ac.idx'
	
2017-07-14 17:17:22+0800 [INFO] Starting SmartTalk IoTService.Version is v0.3.6
2017-07-14 17:17:22+0800 [INFO] (1050, "Table 'device' already exists")
2017-07-14 17:17:22+0800 [INFO] (1050, "Table 'devicepanel' already exists")
2017-07-14 17:17:22+0800 [INFO] (1050, "Table 'deviceio' already exists")
2017-07-14 17:17:22+0800 [INFO] (1050, "Table 'deviceaudiovideo' already exists")
2017-07-14 17:17:22+0800 [INFO] (1050, "Table 'devicealarm' already exists")
2017-07-14 17:17:22+0800 [INFO] (1050, "Table 'feedback' already exists")
2017-07-14 17:17:22+0800 [INFO] (1050, "Table 'log_call' already exists")
2017-07-14 17:17:22+0800 [INFO] (1050, "Table 'log_device' already exists")
2017-07-14 17:17:22+0800 [INFO] (1050, "Table 'log_alarm' already exists")
2017-07-14 17:17:22+0800 [INFO] (1050, "Table 'devicetree' already exists")
2017-07-14 17:17:22+0800 [INFO] (1050, "Table 'authority' already exists")
2017-07-14 17:17:22+0800 [INFO] (1050, "Table 'identity' already exists")
2017-07-14 17:17:22+0800 [INFO] (1050, "Table 'authorization' already exists")
2017-07-14 17:17:22+0800 [INFO] (1050, "Table 'user' already exists")
2017-07-14 17:17:22+0800 [INFO] TreeNode has been initialized
2017-07-14 17:17:22+0800 [INFO] FeedBack has been initialized
2017-07-14 17:17:22+0800 [INFO] Administrator has been initialized
2017-07-14 17:17:22+0800 [INFO] Opened iptalk.db successfully
2017-07-14 17:17:23+0800 [INFO] OrderFactory starting on 12200
2017-07-14 17:17:23+0800 [INFO] Starting factory <devices.iptalk.factory.OrderFactory instance at 0x00000000045D58C8>
2017-07-14 17:17:23+0800 [INFO] QueryFactory starting on 34952
2017-07-14 17:17:23+0800 [INFO] Starting factory <devices.iptalk.factory.QueryFactory instance at 0x00000000046601C8>
2017-07-14 17:17:23+0800 [INFO] AudioFactory starting on 3478
2017-07-14 17:17:23+0800 [INFO] Starting protocol <devices.iptalk.factory.AudioFactory instance at 0x0000000004664E88>
2017-07-14 17:17:23+0800 [INFO] VideoFactory starting on 3456
2017-07-14 17:17:23+0800 [INFO] Starting protocol <devices.iptalk.factory.VideoFactory instance at 0x0000000004668308>
2017-07-14 17:17:23+0800 [INFO] IPTalkWebSite starting on 85
2017-07-14 17:17:23+0800 [INFO] Starting factory <web.site.IPTalkWebSite instance at 0x0000000004668648>
2017-07-14 17:17:23+0800 [INFO] WebSocketFactory starting on 89
2017-07-14 17:17:23+0800 [INFO] Starting factory <devices.iptalk.factory.WebSocketFactory instance at 0x0000000004676088>
2017-07-14 17:17:23+0800 [INFO] TCPPushFactory starting on 90
2017-07-14 17:17:23+0800 [INFO] Starting factory <devices.iptalk.factory.TCPPushFactory instance at 0x0000000004676548>
2017-07-14 17:17:23+0800 [INFO] SearchFactory starting on 3550
2017-07-14 17:17:23+0800 [INFO] Starting protocol <devices.iptalk.factory.SearchFactory instance at 0x0000000004676A08>
2017-07-14 17:17:23+0800 [INFO] MyFTPFactory starting on 21
2017-07-14 17:17:23+0800 [INFO] Starting factory <devices.iptalk.ftp.MyFTPFactory instance at 0x0000000004676D88>
2017-07-14 17:17:23+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 60975) .
2017-07-14 17:17:23+0800 [INFO] WebSocket keepAlive is on
2017-07-14 17:17:23+0800 [INFO] websocket is connected.
2017-07-14 17:17:27+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:09:17:27 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 17:17:27+0800 [ERROR] Unhandled error in Deferred:
2017-07-14 17:17:27+0800 [ERROR] Unhandled Error
	Traceback (most recent call last):
	  File "C:\Python27\lib\threading.py", line 810, in __bootstrap_inner
	    self.run()
	  File "C:\Python27\lib\threading.py", line 763, in run
	    self.__target(*self.__args, **self.__kwargs)
	  File "C:\Python27\lib\site-packages\twisted\_threads\_threadworker.py", line 46, in work
	    task()
	  File "C:\Python27\lib\site-packages\twisted\_threads\_team.py", line 190, in doWork
	    task()
	--- <exception caught here> ---
	  File "C:\Python27\lib\site-packages\twisted\python\threadpool.py", line 246, in inContext
	    result = inContext.theWork()
	  File "C:\Python27\lib\site-packages\twisted\python\threadpool.py", line 262, in <lambda>
	    inContext.theWork = lambda: context.call(ctx, func, *args, **kw)
	  File "C:\Python27\lib\site-packages\twisted\python\context.py", line 118, in callWithContext
	    return self.currentContext().callWithContext(ctx, func, *args, **kw)
	  File "C:\Python27\lib\site-packages\twisted\python\context.py", line 81, in callWithContext
	    return func(*args,**kw)
	  File "D:/Documents/catcuts/project/iot_combination\utils\updatesys.py", line 88, in update
	    shutil.rmtree(bkup, onerror=del_rw) # 删除 bkup
	  File "C:\Python27\lib\shutil.py", line 247, in rmtree
	    rmtree(fullname, ignore_errors, onerror)
	  File "C:\Python27\lib\shutil.py", line 247, in rmtree
	    rmtree(fullname, ignore_errors, onerror)
	  File "C:\Python27\lib\shutil.py", line 247, in rmtree
	    rmtree(fullname, ignore_errors, onerror)
	  File "C:\Python27\lib\shutil.py", line 252, in rmtree
	    onerror(os.remove, fullname, sys.exc_info())
	  File "D:/Documents/catcuts/project/iot_combination\utils\updatesys.py", line 77, in del_rw
	    os.remove(path)
	exceptions.WindowsError: [Error 5] : 'D:\\Documents\\catcuts\\project\\iot_combination_bkup\\.git\\objects\\pack\\pack-a1b166e9245f97bdd4bf53ac4b93f78d8f7ff7ac.idx'
	
2017-07-14 17:19:29+0800 [INFO] Starting SmartTalk IoTService.Version is v0.3.6
2017-07-14 17:19:29+0800 [INFO] (1050, "Table 'device' already exists")
2017-07-14 17:19:29+0800 [INFO] (1050, "Table 'devicepanel' already exists")
2017-07-14 17:19:29+0800 [INFO] (1050, "Table 'deviceio' already exists")
2017-07-14 17:19:29+0800 [INFO] (1050, "Table 'deviceaudiovideo' already exists")
2017-07-14 17:19:29+0800 [INFO] (1050, "Table 'devicealarm' already exists")
2017-07-14 17:19:29+0800 [INFO] (1050, "Table 'feedback' already exists")
2017-07-14 17:19:29+0800 [INFO] (1050, "Table 'log_call' already exists")
2017-07-14 17:19:29+0800 [INFO] (1050, "Table 'log_device' already exists")
2017-07-14 17:19:29+0800 [INFO] (1050, "Table 'log_alarm' already exists")
2017-07-14 17:19:29+0800 [INFO] (1050, "Table 'devicetree' already exists")
2017-07-14 17:19:29+0800 [INFO] (1050, "Table 'authority' already exists")
2017-07-14 17:19:29+0800 [INFO] (1050, "Table 'identity' already exists")
2017-07-14 17:19:29+0800 [INFO] (1050, "Table 'authorization' already exists")
2017-07-14 17:19:29+0800 [INFO] (1050, "Table 'user' already exists")
2017-07-14 17:19:29+0800 [INFO] TreeNode has been initialized
2017-07-14 17:19:29+0800 [INFO] FeedBack has been initialized
2017-07-14 17:19:29+0800 [INFO] Administrator has been initialized
2017-07-14 17:19:29+0800 [INFO] Opened iptalk.db successfully
2017-07-14 17:19:30+0800 [INFO] OrderFactory starting on 12200
2017-07-14 17:19:30+0800 [INFO] Starting factory <devices.iptalk.factory.OrderFactory instance at 0x00000000046138C8>
2017-07-14 17:19:30+0800 [INFO] QueryFactory starting on 34952
2017-07-14 17:19:30+0800 [INFO] Starting factory <devices.iptalk.factory.QueryFactory instance at 0x00000000046A11C8>
2017-07-14 17:19:30+0800 [INFO] AudioFactory starting on 3478
2017-07-14 17:19:30+0800 [INFO] Starting protocol <devices.iptalk.factory.AudioFactory instance at 0x00000000046A5E88>
2017-07-14 17:19:30+0800 [INFO] VideoFactory starting on 3456
2017-07-14 17:19:30+0800 [INFO] Starting protocol <devices.iptalk.factory.VideoFactory instance at 0x00000000046A9308>
2017-07-14 17:19:30+0800 [INFO] IPTalkWebSite starting on 85
2017-07-14 17:19:30+0800 [INFO] Starting factory <web.site.IPTalkWebSite instance at 0x00000000046A9648>
2017-07-14 17:19:30+0800 [INFO] WebSocketFactory starting on 89
2017-07-14 17:19:30+0800 [INFO] Starting factory <devices.iptalk.factory.WebSocketFactory instance at 0x00000000046B7088>
2017-07-14 17:19:30+0800 [INFO] TCPPushFactory starting on 90
2017-07-14 17:19:30+0800 [INFO] Starting factory <devices.iptalk.factory.TCPPushFactory instance at 0x00000000046B7548>
2017-07-14 17:19:30+0800 [INFO] SearchFactory starting on 3550
2017-07-14 17:19:30+0800 [INFO] Starting protocol <devices.iptalk.factory.SearchFactory instance at 0x00000000046B7A08>
2017-07-14 17:19:30+0800 [INFO] MyFTPFactory starting on 21
2017-07-14 17:19:30+0800 [INFO] Starting factory <devices.iptalk.ftp.MyFTPFactory instance at 0x00000000046B7D88>
2017-07-14 17:19:32+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 61256) .
2017-07-14 17:19:32+0800 [INFO] WebSocket keepAlive is on
2017-07-14 17:19:32+0800 [INFO] websocket is connected.
2017-07-14 17:19:34+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:09:19:34 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 17:19:34+0800 [ERROR] Unhandled error in Deferred:
2017-07-14 17:19:34+0800 [ERROR] Unhandled Error
	Traceback (most recent call last):
	  File "C:\Python27\lib\threading.py", line 810, in __bootstrap_inner
	    self.run()
	  File "C:\Python27\lib\threading.py", line 763, in run
	    self.__target(*self.__args, **self.__kwargs)
	  File "C:\Python27\lib\site-packages\twisted\_threads\_threadworker.py", line 46, in work
	    task()
	  File "C:\Python27\lib\site-packages\twisted\_threads\_team.py", line 190, in doWork
	    task()
	--- <exception caught here> ---
	  File "C:\Python27\lib\site-packages\twisted\python\threadpool.py", line 246, in inContext
	    result = inContext.theWork()
	  File "C:\Python27\lib\site-packages\twisted\python\threadpool.py", line 262, in <lambda>
	    inContext.theWork = lambda: context.call(ctx, func, *args, **kw)
	  File "C:\Python27\lib\site-packages\twisted\python\context.py", line 118, in callWithContext
	    return self.currentContext().callWithContext(ctx, func, *args, **kw)
	  File "C:\Python27\lib\site-packages\twisted\python\context.py", line 81, in callWithContext
	    return func(*args,**kw)
	  File "D:/Documents/catcuts/project/iot_combination\utils\updatesys.py", line 88, in update
	    shutil.rmtree(bkup, onerror=del_rw) # 删除 bkup
	  File "C:\Python27\lib\shutil.py", line 247, in rmtree
	    rmtree(fullname, ignore_errors, onerror)
	  File "C:\Python27\lib\shutil.py", line 247, in rmtree
	    rmtree(fullname, ignore_errors, onerror)
	  File "C:\Python27\lib\shutil.py", line 247, in rmtree
	    rmtree(fullname, ignore_errors, onerror)
	  File "C:\Python27\lib\shutil.py", line 252, in rmtree
	    onerror(os.remove, fullname, sys.exc_info())
	  File "D:/Documents/catcuts/project/iot_combination\utils\updatesys.py", line 77, in del_rw
	    os.unlink(path)
	exceptions.WindowsError: [Error 5] : 'D:\\Documents\\catcuts\\project\\iot_combination_bkup\\.git\\objects\\pack\\pack-a1b166e9245f97bdd4bf53ac4b93f78d8f7ff7ac.idx'
	
2017-07-14 17:25:48+0800 [INFO] Starting SmartTalk IoTService.Version is v0.3.6
2017-07-14 17:25:48+0800 [INFO] (1050, "Table 'device' already exists")
2017-07-14 17:25:48+0800 [INFO] (1050, "Table 'devicepanel' already exists")
2017-07-14 17:25:48+0800 [INFO] (1050, "Table 'deviceio' already exists")
2017-07-14 17:25:48+0800 [INFO] (1050, "Table 'deviceaudiovideo' already exists")
2017-07-14 17:25:48+0800 [INFO] (1050, "Table 'devicealarm' already exists")
2017-07-14 17:25:48+0800 [INFO] (1050, "Table 'feedback' already exists")
2017-07-14 17:25:48+0800 [INFO] (1050, "Table 'log_call' already exists")
2017-07-14 17:25:48+0800 [INFO] (1050, "Table 'log_device' already exists")
2017-07-14 17:25:48+0800 [INFO] (1050, "Table 'log_alarm' already exists")
2017-07-14 17:25:48+0800 [INFO] (1050, "Table 'devicetree' already exists")
2017-07-14 17:25:48+0800 [INFO] (1050, "Table 'authority' already exists")
2017-07-14 17:25:48+0800 [INFO] (1050, "Table 'identity' already exists")
2017-07-14 17:25:48+0800 [INFO] (1050, "Table 'authorization' already exists")
2017-07-14 17:25:48+0800 [INFO] (1050, "Table 'user' already exists")
2017-07-14 17:25:48+0800 [INFO] TreeNode has been initialized
2017-07-14 17:25:48+0800 [INFO] FeedBack has been initialized
2017-07-14 17:25:48+0800 [INFO] Administrator has been initialized
2017-07-14 17:25:48+0800 [INFO] Opened iptalk.db successfully
2017-07-14 17:25:49+0800 [INFO] OrderFactory starting on 12200
2017-07-14 17:25:49+0800 [INFO] Starting factory <devices.iptalk.factory.OrderFactory instance at 0x00000000046B38C8>
2017-07-14 17:25:49+0800 [INFO] QueryFactory starting on 34952
2017-07-14 17:25:49+0800 [INFO] Starting factory <devices.iptalk.factory.QueryFactory instance at 0x00000000047411C8>
2017-07-14 17:25:49+0800 [INFO] AudioFactory starting on 3478
2017-07-14 17:25:49+0800 [INFO] Starting protocol <devices.iptalk.factory.AudioFactory instance at 0x0000000004745E88>
2017-07-14 17:25:49+0800 [INFO] VideoFactory starting on 3456
2017-07-14 17:25:49+0800 [INFO] Starting protocol <devices.iptalk.factory.VideoFactory instance at 0x0000000004749308>
2017-07-14 17:25:49+0800 [INFO] IPTalkWebSite starting on 85
2017-07-14 17:25:49+0800 [INFO] Starting factory <web.site.IPTalkWebSite instance at 0x0000000004749648>
2017-07-14 17:25:49+0800 [INFO] WebSocketFactory starting on 89
2017-07-14 17:25:49+0800 [INFO] Starting factory <devices.iptalk.factory.WebSocketFactory instance at 0x0000000004756088>
2017-07-14 17:25:49+0800 [INFO] TCPPushFactory starting on 90
2017-07-14 17:25:49+0800 [INFO] Starting factory <devices.iptalk.factory.TCPPushFactory instance at 0x0000000004756548>
2017-07-14 17:25:49+0800 [INFO] SearchFactory starting on 3550
2017-07-14 17:25:49+0800 [INFO] Starting protocol <devices.iptalk.factory.SearchFactory instance at 0x0000000004756A08>
2017-07-14 17:25:49+0800 [INFO] MyFTPFactory starting on 21
2017-07-14 17:25:49+0800 [INFO] Starting factory <devices.iptalk.ftp.MyFTPFactory instance at 0x0000000004756D88>
2017-07-14 17:25:50+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 62219) .
2017-07-14 17:25:50+0800 [INFO] WebSocket keepAlive is on
2017-07-14 17:25:50+0800 [INFO] websocket is connected.
2017-07-14 17:25:54+0800 [INFO] delete websock TCP connect:6f8b4916df0640ed970cc6782b9675ea
2017-07-14 17:25:54+0800 [INFO] websocket is disconnected.
2017-07-14 17:25:56+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 62245) .
2017-07-14 17:25:56+0800 [INFO] WebSocket keepAlive is on
2017-07-14 17:25:56+0800 [INFO] websocket is connected.
2017-07-14 17:25:56+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:09:25:56 +0000] "GET /devices/iptalk/getiptalkdevicemessage HTTP/1.1" 200 83 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 17:26:01+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:09:26:01 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 17:26:01+0800 [ERROR] Unhandled error in Deferred:
2017-07-14 17:26:01+0800 [ERROR] Unhandled Error
	Traceback (most recent call last):
	  File "C:\Python27\lib\threading.py", line 810, in __bootstrap_inner
	    self.run()
	  File "C:\Python27\lib\threading.py", line 763, in run
	    self.__target(*self.__args, **self.__kwargs)
	  File "C:\Python27\lib\site-packages\twisted\_threads\_threadworker.py", line 46, in work
	    task()
	  File "C:\Python27\lib\site-packages\twisted\_threads\_team.py", line 190, in doWork
	    task()
	--- <exception caught here> ---
	  File "C:\Python27\lib\site-packages\twisted\python\threadpool.py", line 246, in inContext
	    result = inContext.theWork()
	  File "C:\Python27\lib\site-packages\twisted\python\threadpool.py", line 262, in <lambda>
	    inContext.theWork = lambda: context.call(ctx, func, *args, **kw)
	  File "C:\Python27\lib\site-packages\twisted\python\context.py", line 118, in callWithContext
	    return self.currentContext().callWithContext(ctx, func, *args, **kw)
	  File "C:\Python27\lib\site-packages\twisted\python\context.py", line 81, in callWithContext
	    return func(*args,**kw)
	  File "D:/Documents/catcuts/project/iot_combination\utils\updatesys.py", line 91, in update
	    os.mkdir(bkup)
	exceptions.WindowsError: [Error 183] : 'D:\\Documents\\catcuts\\project\\iot_combination_bkup'
	
2017-07-14 17:26:25+0800 [INFO] Starting SmartTalk IoTService.Version is v0.3.6
2017-07-14 17:26:25+0800 [INFO] (1050, "Table 'device' already exists")
2017-07-14 17:26:25+0800 [INFO] (1050, "Table 'devicepanel' already exists")
2017-07-14 17:26:25+0800 [INFO] (1050, "Table 'deviceio' already exists")
2017-07-14 17:26:25+0800 [INFO] (1050, "Table 'deviceaudiovideo' already exists")
2017-07-14 17:26:25+0800 [INFO] (1050, "Table 'devicealarm' already exists")
2017-07-14 17:26:25+0800 [INFO] (1050, "Table 'feedback' already exists")
2017-07-14 17:26:25+0800 [INFO] (1050, "Table 'log_call' already exists")
2017-07-14 17:26:25+0800 [INFO] (1050, "Table 'log_device' already exists")
2017-07-14 17:26:25+0800 [INFO] (1050, "Table 'log_alarm' already exists")
2017-07-14 17:26:25+0800 [INFO] (1050, "Table 'devicetree' already exists")
2017-07-14 17:26:25+0800 [INFO] (1050, "Table 'authority' already exists")
2017-07-14 17:26:25+0800 [INFO] (1050, "Table 'identity' already exists")
2017-07-14 17:26:25+0800 [INFO] (1050, "Table 'authorization' already exists")
2017-07-14 17:26:25+0800 [INFO] (1050, "Table 'user' already exists")
2017-07-14 17:26:25+0800 [INFO] TreeNode has been initialized
2017-07-14 17:26:25+0800 [INFO] FeedBack has been initialized
2017-07-14 17:26:25+0800 [INFO] Administrator has been initialized
2017-07-14 17:26:25+0800 [INFO] Opened iptalk.db successfully
2017-07-14 17:26:26+0800 [INFO] OrderFactory starting on 12200
2017-07-14 17:26:26+0800 [INFO] Starting factory <devices.iptalk.factory.OrderFactory instance at 0x00000000045F08C8>
2017-07-14 17:26:26+0800 [INFO] QueryFactory starting on 34952
2017-07-14 17:26:26+0800 [INFO] Starting factory <devices.iptalk.factory.QueryFactory instance at 0x000000000467B1C8>
2017-07-14 17:26:26+0800 [INFO] AudioFactory starting on 3478
2017-07-14 17:26:26+0800 [INFO] Starting protocol <devices.iptalk.factory.AudioFactory instance at 0x000000000467FE88>
2017-07-14 17:26:26+0800 [INFO] VideoFactory starting on 3456
2017-07-14 17:26:26+0800 [INFO] Starting protocol <devices.iptalk.factory.VideoFactory instance at 0x0000000004683308>
2017-07-14 17:26:26+0800 [INFO] IPTalkWebSite starting on 85
2017-07-14 17:26:26+0800 [INFO] Starting factory <web.site.IPTalkWebSite instance at 0x0000000004683648>
2017-07-14 17:26:26+0800 [INFO] WebSocketFactory starting on 89
2017-07-14 17:26:26+0800 [INFO] Starting factory <devices.iptalk.factory.WebSocketFactory instance at 0x0000000004690088>
2017-07-14 17:26:26+0800 [INFO] TCPPushFactory starting on 90
2017-07-14 17:26:26+0800 [INFO] Starting factory <devices.iptalk.factory.TCPPushFactory instance at 0x0000000004690548>
2017-07-14 17:26:26+0800 [INFO] SearchFactory starting on 3550
2017-07-14 17:26:26+0800 [INFO] Starting protocol <devices.iptalk.factory.SearchFactory instance at 0x0000000004690A08>
2017-07-14 17:26:26+0800 [INFO] MyFTPFactory starting on 21
2017-07-14 17:26:26+0800 [INFO] Starting factory <devices.iptalk.ftp.MyFTPFactory instance at 0x0000000004690D88>
2017-07-14 17:26:28+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:09:26:27 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 17:26:28+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:09:26:28 +0000] "POST /upgrade/sysUpgrade HTTP/1.1" 200 52 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 17:26:28+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 62377) .
2017-07-14 17:26:28+0800 [INFO] WebSocket keepAlive is on
2017-07-14 17:26:28+0800 [INFO] websocket is connected.
2017-07-14 17:26:37+0800 [INFO] Starting SmartTalk IoTService.Version is v0.3.6
2017-07-14 17:26:37+0800 [INFO] (1050, "Table 'device' already exists")
2017-07-14 17:26:37+0800 [INFO] (1050, "Table 'devicepanel' already exists")
2017-07-14 17:26:37+0800 [INFO] (1050, "Table 'deviceio' already exists")
2017-07-14 17:26:37+0800 [INFO] (1050, "Table 'deviceaudiovideo' already exists")
2017-07-14 17:26:37+0800 [INFO] (1050, "Table 'devicealarm' already exists")
2017-07-14 17:26:37+0800 [INFO] (1050, "Table 'feedback' already exists")
2017-07-14 17:26:37+0800 [INFO] (1050, "Table 'log_call' already exists")
2017-07-14 17:26:37+0800 [INFO] (1050, "Table 'log_device' already exists")
2017-07-14 17:26:37+0800 [INFO] (1050, "Table 'log_alarm' already exists")
2017-07-14 17:26:37+0800 [INFO] (1050, "Table 'devicetree' already exists")
2017-07-14 17:26:37+0800 [INFO] (1050, "Table 'authority' already exists")
2017-07-14 17:26:37+0800 [INFO] (1050, "Table 'identity' already exists")
2017-07-14 17:26:37+0800 [INFO] (1050, "Table 'authorization' already exists")
2017-07-14 17:26:37+0800 [INFO] (1050, "Table 'user' already exists")
2017-07-14 17:26:37+0800 [INFO] TreeNode has been initialized
2017-07-14 17:26:37+0800 [INFO] FeedBack has been initialized
2017-07-14 17:26:37+0800 [INFO] Administrator has been initialized
2017-07-14 17:26:37+0800 [INFO] Opened iptalk.db successfully
2017-07-14 17:26:38+0800 [INFO] OrderFactory starting on 12200
2017-07-14 17:26:38+0800 [INFO] Starting factory <devices.iptalk.factory.OrderFactory instance at 0x00000000045B18C8>
2017-07-14 17:26:38+0800 [INFO] QueryFactory starting on 34952
2017-07-14 17:26:38+0800 [INFO] Starting factory <devices.iptalk.factory.QueryFactory instance at 0x000000000463C1C8>
2017-07-14 17:26:38+0800 [INFO] AudioFactory starting on 3478
2017-07-14 17:26:38+0800 [INFO] Starting protocol <devices.iptalk.factory.AudioFactory instance at 0x0000000004640E88>
2017-07-14 17:26:38+0800 [INFO] VideoFactory starting on 3456
2017-07-14 17:26:38+0800 [INFO] Starting protocol <devices.iptalk.factory.VideoFactory instance at 0x0000000004644308>
2017-07-14 17:26:38+0800 [INFO] IPTalkWebSite starting on 85
2017-07-14 17:26:38+0800 [INFO] Starting factory <web.site.IPTalkWebSite instance at 0x0000000004644648>
2017-07-14 17:26:38+0800 [INFO] WebSocketFactory starting on 89
2017-07-14 17:26:38+0800 [INFO] Starting factory <devices.iptalk.factory.WebSocketFactory instance at 0x0000000004652088>
2017-07-14 17:26:38+0800 [INFO] TCPPushFactory starting on 90
2017-07-14 17:26:38+0800 [INFO] Starting factory <devices.iptalk.factory.TCPPushFactory instance at 0x0000000004652548>
2017-07-14 17:26:38+0800 [INFO] SearchFactory starting on 3550
2017-07-14 17:26:38+0800 [INFO] Starting protocol <devices.iptalk.factory.SearchFactory instance at 0x0000000004652A08>
2017-07-14 17:26:38+0800 [INFO] MyFTPFactory starting on 21
2017-07-14 17:26:38+0800 [INFO] Starting factory <devices.iptalk.ftp.MyFTPFactory instance at 0x0000000004652D88>
2017-07-14 17:26:39+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 62404) .
2017-07-14 17:26:39+0800 [INFO] WebSocket keepAlive is on
2017-07-14 17:26:39+0800 [INFO] websocket is connected.
2017-07-14 17:26:42+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:09:26:41 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 17:26:42+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:09:26:41 +0000] "POST /upgrade/sysUpgrade HTTP/1.1" 200 52 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 17:29:43+0800 [INFO] Starting SmartTalk IoTService.Version is v0.3.6
2017-07-14 17:29:43+0800 [INFO] (1050, "Table 'device' already exists")
2017-07-14 17:29:43+0800 [INFO] (1050, "Table 'devicepanel' already exists")
2017-07-14 17:29:43+0800 [INFO] (1050, "Table 'deviceio' already exists")
2017-07-14 17:29:43+0800 [INFO] (1050, "Table 'deviceaudiovideo' already exists")
2017-07-14 17:29:43+0800 [INFO] (1050, "Table 'devicealarm' already exists")
2017-07-14 17:29:43+0800 [INFO] (1050, "Table 'feedback' already exists")
2017-07-14 17:29:43+0800 [INFO] (1050, "Table 'log_call' already exists")
2017-07-14 17:29:43+0800 [INFO] (1050, "Table 'log_device' already exists")
2017-07-14 17:29:43+0800 [INFO] (1050, "Table 'log_alarm' already exists")
2017-07-14 17:29:43+0800 [INFO] (1050, "Table 'devicetree' already exists")
2017-07-14 17:29:43+0800 [INFO] (1050, "Table 'authority' already exists")
2017-07-14 17:29:43+0800 [INFO] (1050, "Table 'identity' already exists")
2017-07-14 17:29:43+0800 [INFO] (1050, "Table 'authorization' already exists")
2017-07-14 17:29:43+0800 [INFO] (1050, "Table 'user' already exists")
2017-07-14 17:29:43+0800 [INFO] TreeNode has been initialized
2017-07-14 17:29:43+0800 [INFO] FeedBack has been initialized
2017-07-14 17:29:43+0800 [INFO] Administrator has been initialized
2017-07-14 17:29:43+0800 [INFO] Opened iptalk.db successfully
2017-07-14 17:29:44+0800 [INFO] OrderFactory starting on 12200
2017-07-14 17:29:44+0800 [INFO] Starting factory <devices.iptalk.factory.OrderFactory instance at 0x00000000046148C8>
2017-07-14 17:29:44+0800 [INFO] QueryFactory starting on 34952
2017-07-14 17:29:44+0800 [INFO] Starting factory <devices.iptalk.factory.QueryFactory instance at 0x00000000046A11C8>
2017-07-14 17:29:44+0800 [INFO] AudioFactory starting on 3478
2017-07-14 17:29:44+0800 [INFO] Starting protocol <devices.iptalk.factory.AudioFactory instance at 0x00000000046A4E88>
2017-07-14 17:29:44+0800 [INFO] VideoFactory starting on 3456
2017-07-14 17:29:44+0800 [INFO] Starting protocol <devices.iptalk.factory.VideoFactory instance at 0x00000000046A8308>
2017-07-14 17:29:44+0800 [INFO] IPTalkWebSite starting on 85
2017-07-14 17:29:44+0800 [INFO] Starting factory <web.site.IPTalkWebSite instance at 0x00000000046A8648>
2017-07-14 17:29:44+0800 [INFO] WebSocketFactory starting on 89
2017-07-14 17:29:44+0800 [INFO] Starting factory <devices.iptalk.factory.WebSocketFactory instance at 0x00000000046B5088>
2017-07-14 17:29:44+0800 [INFO] TCPPushFactory starting on 90
2017-07-14 17:29:44+0800 [INFO] Starting factory <devices.iptalk.factory.TCPPushFactory instance at 0x00000000046B5548>
2017-07-14 17:29:44+0800 [INFO] SearchFactory starting on 3550
2017-07-14 17:29:44+0800 [INFO] Starting protocol <devices.iptalk.factory.SearchFactory instance at 0x00000000046B5A08>
2017-07-14 17:29:44+0800 [INFO] MyFTPFactory starting on 21
2017-07-14 17:29:44+0800 [INFO] Starting factory <devices.iptalk.ftp.MyFTPFactory instance at 0x00000000046B5D88>
2017-07-14 17:29:50+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 62907) .
2017-07-14 17:29:50+0800 [INFO] WebSocket keepAlive is on
2017-07-14 17:29:50+0800 [INFO] websocket is connected.
2017-07-14 17:29:52+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:09:29:51 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 17:30:44+0800 [ERROR] Unhandled error in Deferred:
2017-07-14 17:30:44+0800 [ERROR] Unhandled Error
	Traceback (most recent call last):
	  File "C:\Python27\lib\threading.py", line 810, in __bootstrap_inner
	    self.run()
	  File "C:\Python27\lib\threading.py", line 763, in run
	    self.__target(*self.__args, **self.__kwargs)
	  File "C:\Python27\lib\site-packages\twisted\_threads\_threadworker.py", line 46, in work
	    task()
	  File "C:\Python27\lib\site-packages\twisted\_threads\_team.py", line 190, in doWork
	    task()
	--- <exception caught here> ---
	  File "C:\Python27\lib\site-packages\twisted\python\threadpool.py", line 246, in inContext
	    result = inContext.theWork()
	  File "C:\Python27\lib\site-packages\twisted\python\threadpool.py", line 262, in <lambda>
	    inContext.theWork = lambda: context.call(ctx, func, *args, **kw)
	  File "C:\Python27\lib\site-packages\twisted\python\context.py", line 118, in callWithContext
	    return self.currentContext().callWithContext(ctx, func, *args, **kw)
	  File "C:\Python27\lib\site-packages\twisted\python\context.py", line 81, in callWithContext
	    return func(*args,**kw)
	  File "D:/Documents/catcuts/project/iot_combination\utils\updatesys.py", line 88, in update
	    shutil.rmtree(bkup, onerror=del_rw) # 删除 bkup
	  File "C:\Python27\lib\shutil.py", line 247, in rmtree
	    rmtree(fullname, ignore_errors, onerror)
	  File "C:\Python27\lib\shutil.py", line 247, in rmtree
	    rmtree(fullname, ignore_errors, onerror)
	  File "C:\Python27\lib\shutil.py", line 247, in rmtree
	    rmtree(fullname, ignore_errors, onerror)
	  File "C:\Python27\lib\shutil.py", line 252, in rmtree
	    onerror(os.remove, fullname, sys.exc_info())
	  File "D:/Documents/catcuts/project/iot_combination\utils\updatesys.py", line 77, in del_rw
	    os.unlink(path)
	exceptions.WindowsError: [Error 5] : 'D:\\Documents\\catcuts\\project\\iot_combination_bkup\\.git\\objects\\pack\\pack-a1b166e9245f97bdd4bf53ac4b93f78d8f7ff7ac.idx'
	
2017-07-14 17:31:06+0800 [INFO] Starting SmartTalk IoTService.Version is v0.3.6
2017-07-14 17:31:06+0800 [INFO] (1050, "Table 'device' already exists")
2017-07-14 17:31:06+0800 [INFO] (1050, "Table 'devicepanel' already exists")
2017-07-14 17:31:06+0800 [INFO] (1050, "Table 'deviceio' already exists")
2017-07-14 17:31:06+0800 [INFO] (1050, "Table 'deviceaudiovideo' already exists")
2017-07-14 17:31:06+0800 [INFO] (1050, "Table 'devicealarm' already exists")
2017-07-14 17:31:06+0800 [INFO] (1050, "Table 'feedback' already exists")
2017-07-14 17:31:06+0800 [INFO] (1050, "Table 'log_call' already exists")
2017-07-14 17:31:06+0800 [INFO] (1050, "Table 'log_device' already exists")
2017-07-14 17:31:06+0800 [INFO] (1050, "Table 'log_alarm' already exists")
2017-07-14 17:31:06+0800 [INFO] (1050, "Table 'devicetree' already exists")
2017-07-14 17:31:06+0800 [INFO] (1050, "Table 'authority' already exists")
2017-07-14 17:31:06+0800 [INFO] (1050, "Table 'identity' already exists")
2017-07-14 17:31:06+0800 [INFO] (1050, "Table 'authorization' already exists")
2017-07-14 17:31:06+0800 [INFO] (1050, "Table 'user' already exists")
2017-07-14 17:31:06+0800 [INFO] TreeNode has been initialized
2017-07-14 17:31:06+0800 [INFO] FeedBack has been initialized
2017-07-14 17:31:06+0800 [INFO] Administrator has been initialized
2017-07-14 17:31:06+0800 [INFO] Opened iptalk.db successfully
2017-07-14 17:31:07+0800 [INFO] OrderFactory starting on 12200
2017-07-14 17:31:07+0800 [INFO] Starting factory <devices.iptalk.factory.OrderFactory instance at 0x000000000463F8C8>
2017-07-14 17:31:07+0800 [INFO] QueryFactory starting on 34952
2017-07-14 17:31:07+0800 [INFO] Starting factory <devices.iptalk.factory.QueryFactory instance at 0x00000000046CC1C8>
2017-07-14 17:31:07+0800 [INFO] AudioFactory starting on 3478
2017-07-14 17:31:07+0800 [INFO] Starting protocol <devices.iptalk.factory.AudioFactory instance at 0x00000000046CFE88>
2017-07-14 17:31:07+0800 [INFO] VideoFactory starting on 3456
2017-07-14 17:31:07+0800 [INFO] Starting protocol <devices.iptalk.factory.VideoFactory instance at 0x00000000046D3308>
2017-07-14 17:31:07+0800 [INFO] IPTalkWebSite starting on 85
2017-07-14 17:31:07+0800 [INFO] Starting factory <web.site.IPTalkWebSite instance at 0x00000000046D3648>
2017-07-14 17:31:07+0800 [INFO] WebSocketFactory starting on 89
2017-07-14 17:31:07+0800 [INFO] Starting factory <devices.iptalk.factory.WebSocketFactory instance at 0x00000000046E0088>
2017-07-14 17:31:07+0800 [INFO] TCPPushFactory starting on 90
2017-07-14 17:31:07+0800 [INFO] Starting factory <devices.iptalk.factory.TCPPushFactory instance at 0x00000000046E0548>
2017-07-14 17:31:07+0800 [INFO] SearchFactory starting on 3550
2017-07-14 17:31:07+0800 [INFO] Starting protocol <devices.iptalk.factory.SearchFactory instance at 0x00000000046E0A08>
2017-07-14 17:31:07+0800 [INFO] MyFTPFactory starting on 21
2017-07-14 17:31:07+0800 [INFO] Starting factory <devices.iptalk.ftp.MyFTPFactory instance at 0x00000000046E0D88>
2017-07-14 17:31:10+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:09:31:09 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 17:31:11+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 63071) .
2017-07-14 17:31:11+0800 [INFO] WebSocket keepAlive is on
2017-07-14 17:31:11+0800 [INFO] websocket is connected.
2017-07-14 17:31:18+0800 [ERROR] Unhandled error in Deferred:
2017-07-14 17:31:18+0800 [ERROR] Unhandled Error
	Traceback (most recent call last):
	  File "C:\Python27\lib\threading.py", line 810, in __bootstrap_inner
	    self.run()
	  File "C:\Python27\lib\threading.py", line 763, in run
	    self.__target(*self.__args, **self.__kwargs)
	  File "C:\Python27\lib\site-packages\twisted\_threads\_threadworker.py", line 46, in work
	    task()
	  File "C:\Python27\lib\site-packages\twisted\_threads\_team.py", line 190, in doWork
	    task()
	--- <exception caught here> ---
	  File "C:\Python27\lib\site-packages\twisted\python\threadpool.py", line 246, in inContext
	    result = inContext.theWork()
	  File "C:\Python27\lib\site-packages\twisted\python\threadpool.py", line 262, in <lambda>
	    inContext.theWork = lambda: context.call(ctx, func, *args, **kw)
	  File "C:\Python27\lib\site-packages\twisted\python\context.py", line 118, in callWithContext
	    return self.currentContext().callWithContext(ctx, func, *args, **kw)
	  File "C:\Python27\lib\site-packages\twisted\python\context.py", line 81, in callWithContext
	    return func(*args,**kw)
	  File "D:/Documents/catcuts/project/iot_combination\utils\updatesys.py", line 88, in update
	    shutil.rmtree(bkup, onerror=del_rw) # 删除 bkup
	  File "C:\Python27\lib\shutil.py", line 247, in rmtree
	    rmtree(fullname, ignore_errors, onerror)
	  File "C:\Python27\lib\shutil.py", line 247, in rmtree
	    rmtree(fullname, ignore_errors, onerror)
	  File "C:\Python27\lib\shutil.py", line 247, in rmtree
	    rmtree(fullname, ignore_errors, onerror)
	  File "C:\Python27\lib\shutil.py", line 252, in rmtree
	    onerror(os.remove, fullname, sys.exc_info())
	  File "D:/Documents/catcuts/project/iot_combination\utils\updatesys.py", line 77, in del_rw
	    os.unlink(path)
	exceptions.WindowsError: [Error 5] : 'D:\\Documents\\catcuts\\project\\iot_combination_bkup\\.git\\objects\\pack\\pack-a1b166e9245f97bdd4bf53ac4b93f78d8f7ff7ac.idx'
	
2017-07-14 17:32:09+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:09:32:09 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 17:32:13+0800 [ERROR] Unhandled error in Deferred:
2017-07-14 17:32:13+0800 [ERROR] Unhandled Error
	Traceback (most recent call last):
	  File "C:\Python27\lib\threading.py", line 810, in __bootstrap_inner
	    self.run()
	  File "C:\Python27\lib\threading.py", line 763, in run
	    self.__target(*self.__args, **self.__kwargs)
	  File "C:\Python27\lib\site-packages\twisted\_threads\_threadworker.py", line 46, in work
	    task()
	  File "C:\Python27\lib\site-packages\twisted\_threads\_team.py", line 190, in doWork
	    task()
	--- <exception caught here> ---
	  File "C:\Python27\lib\site-packages\twisted\python\threadpool.py", line 246, in inContext
	    result = inContext.theWork()
	  File "C:\Python27\lib\site-packages\twisted\python\threadpool.py", line 262, in <lambda>
	    inContext.theWork = lambda: context.call(ctx, func, *args, **kw)
	  File "C:\Python27\lib\site-packages\twisted\python\context.py", line 118, in callWithContext
	    return self.currentContext().callWithContext(ctx, func, *args, **kw)
	  File "C:\Python27\lib\site-packages\twisted\python\context.py", line 81, in callWithContext
	    return func(*args,**kw)
	  File "D:/Documents/catcuts/project/iot_combination\utils\updatesys.py", line 88, in update
	    shutil.rmtree(bkup, onerror=del_rw) # 删除 bkup
	  File "C:\Python27\lib\shutil.py", line 247, in rmtree
	    rmtree(fullname, ignore_errors, onerror)
	  File "C:\Python27\lib\shutil.py", line 247, in rmtree
	    rmtree(fullname, ignore_errors, onerror)
	  File "C:\Python27\lib\shutil.py", line 247, in rmtree
	    rmtree(fullname, ignore_errors, onerror)
	  File "C:\Python27\lib\shutil.py", line 252, in rmtree
	    onerror(os.remove, fullname, sys.exc_info())
	  File "D:/Documents/catcuts/project/iot_combination\utils\updatesys.py", line 77, in del_rw
	    os.unlink(path)
	exceptions.WindowsError: [Error 5] : 'D:\\Documents\\catcuts\\project\\iot_combination_bkup\\.git\\objects\\pack\\pack-a1b166e9245f97bdd4bf53ac4b93f78d8f7ff7ac.idx'
	
2017-07-14 17:32:42+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:09:32:42 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 17:32:49+0800 [ERROR] Unhandled error in Deferred:
2017-07-14 17:32:49+0800 [ERROR] Unhandled Error
	Traceback (most recent call last):
	  File "C:\Python27\lib\threading.py", line 810, in __bootstrap_inner
	    self.run()
	  File "C:\Python27\lib\threading.py", line 763, in run
	    self.__target(*self.__args, **self.__kwargs)
	  File "C:\Python27\lib\site-packages\twisted\_threads\_threadworker.py", line 46, in work
	    task()
	  File "C:\Python27\lib\site-packages\twisted\_threads\_team.py", line 190, in doWork
	    task()
	--- <exception caught here> ---
	  File "C:\Python27\lib\site-packages\twisted\python\threadpool.py", line 246, in inContext
	    result = inContext.theWork()
	  File "C:\Python27\lib\site-packages\twisted\python\threadpool.py", line 262, in <lambda>
	    inContext.theWork = lambda: context.call(ctx, func, *args, **kw)
	  File "C:\Python27\lib\site-packages\twisted\python\context.py", line 118, in callWithContext
	    return self.currentContext().callWithContext(ctx, func, *args, **kw)
	  File "C:\Python27\lib\site-packages\twisted\python\context.py", line 81, in callWithContext
	    return func(*args,**kw)
	  File "D:/Documents/catcuts/project/iot_combination\utils\updatesys.py", line 88, in update
	    shutil.rmtree(bkup, onerror=del_rw) # 删除 bkup
	  File "C:\Python27\lib\shutil.py", line 247, in rmtree
	    rmtree(fullname, ignore_errors, onerror)
	  File "C:\Python27\lib\shutil.py", line 247, in rmtree
	    rmtree(fullname, ignore_errors, onerror)
	  File "C:\Python27\lib\shutil.py", line 247, in rmtree
	    rmtree(fullname, ignore_errors, onerror)
	  File "C:\Python27\lib\shutil.py", line 252, in rmtree
	    onerror(os.remove, fullname, sys.exc_info())
	  File "D:/Documents/catcuts/project/iot_combination\utils\updatesys.py", line 77, in del_rw
	    os.unlink(path)
	exceptions.WindowsError: [Error 5] : 'D:\\Documents\\catcuts\\project\\iot_combination_bkup\\.git\\objects\\pack\\pack-a1b166e9245f97bdd4bf53ac4b93f78d8f7ff7ac.idx'
	
2017-07-14 17:36:33+0800 [INFO] Starting SmartTalk IoTService.Version is v0.3.6
2017-07-14 17:36:34+0800 [INFO] (1050, "Table 'device' already exists")
2017-07-14 17:36:34+0800 [INFO] (1050, "Table 'devicepanel' already exists")
2017-07-14 17:36:34+0800 [INFO] (1050, "Table 'deviceio' already exists")
2017-07-14 17:36:34+0800 [INFO] (1050, "Table 'deviceaudiovideo' already exists")
2017-07-14 17:36:34+0800 [INFO] (1050, "Table 'devicealarm' already exists")
2017-07-14 17:36:34+0800 [INFO] (1050, "Table 'feedback' already exists")
2017-07-14 17:36:34+0800 [INFO] (1050, "Table 'log_call' already exists")
2017-07-14 17:36:34+0800 [INFO] (1050, "Table 'log_device' already exists")
2017-07-14 17:36:34+0800 [INFO] (1050, "Table 'log_alarm' already exists")
2017-07-14 17:36:34+0800 [INFO] (1050, "Table 'devicetree' already exists")
2017-07-14 17:36:34+0800 [INFO] (1050, "Table 'authority' already exists")
2017-07-14 17:36:34+0800 [INFO] (1050, "Table 'identity' already exists")
2017-07-14 17:36:34+0800 [INFO] (1050, "Table 'authorization' already exists")
2017-07-14 17:36:34+0800 [INFO] (1050, "Table 'user' already exists")
2017-07-14 17:36:34+0800 [INFO] TreeNode has been initialized
2017-07-14 17:36:34+0800 [INFO] FeedBack has been initialized
2017-07-14 17:36:34+0800 [INFO] Administrator has been initialized
2017-07-14 17:36:34+0800 [INFO] Opened iptalk.db successfully
2017-07-14 17:36:34+0800 [INFO] OrderFactory starting on 12200
2017-07-14 17:36:34+0800 [INFO] Starting factory <devices.iptalk.factory.OrderFactory instance at 0x00000000046E18C8>
2017-07-14 17:36:34+0800 [INFO] QueryFactory starting on 34952
2017-07-14 17:36:34+0800 [INFO] Starting factory <devices.iptalk.factory.QueryFactory instance at 0x00000000047721C8>
2017-07-14 17:36:34+0800 [INFO] AudioFactory starting on 3478
2017-07-14 17:36:34+0800 [INFO] Starting protocol <devices.iptalk.factory.AudioFactory instance at 0x0000000004775E88>
2017-07-14 17:36:34+0800 [INFO] VideoFactory starting on 3456
2017-07-14 17:36:34+0800 [INFO] Starting protocol <devices.iptalk.factory.VideoFactory instance at 0x0000000004779308>
2017-07-14 17:36:34+0800 [INFO] IPTalkWebSite starting on 85
2017-07-14 17:36:34+0800 [INFO] Starting factory <web.site.IPTalkWebSite instance at 0x0000000004779648>
2017-07-14 17:36:34+0800 [INFO] WebSocketFactory starting on 89
2017-07-14 17:36:34+0800 [INFO] Starting factory <devices.iptalk.factory.WebSocketFactory instance at 0x0000000004786088>
2017-07-14 17:36:34+0800 [INFO] TCPPushFactory starting on 90
2017-07-14 17:36:34+0800 [INFO] Starting factory <devices.iptalk.factory.TCPPushFactory instance at 0x0000000004786548>
2017-07-14 17:36:34+0800 [INFO] SearchFactory starting on 3550
2017-07-14 17:36:34+0800 [INFO] Starting protocol <devices.iptalk.factory.SearchFactory instance at 0x0000000004786A08>
2017-07-14 17:36:34+0800 [INFO] MyFTPFactory starting on 21
2017-07-14 17:36:34+0800 [INFO] Starting factory <devices.iptalk.ftp.MyFTPFactory instance at 0x0000000004786D88>
2017-07-14 17:36:41+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:09:36:40 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 17:36:43+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 63696) .
2017-07-14 17:36:43+0800 [INFO] WebSocket keepAlive is on
2017-07-14 17:36:43+0800 [INFO] websocket is connected.
2017-07-14 17:36:56+0800 [ERROR] Unhandled error in Deferred:
2017-07-14 17:36:56+0800 [ERROR] Unhandled Error
	Traceback (most recent call last):
	  File "C:\Python27\lib\threading.py", line 810, in __bootstrap_inner
	    self.run()
	  File "C:\Python27\lib\threading.py", line 763, in run
	    self.__target(*self.__args, **self.__kwargs)
	  File "C:\Python27\lib\site-packages\twisted\_threads\_threadworker.py", line 46, in work
	    task()
	  File "C:\Python27\lib\site-packages\twisted\_threads\_team.py", line 190, in doWork
	    task()
	--- <exception caught here> ---
	  File "C:\Python27\lib\site-packages\twisted\python\threadpool.py", line 246, in inContext
	    result = inContext.theWork()
	  File "C:\Python27\lib\site-packages\twisted\python\threadpool.py", line 262, in <lambda>
	    inContext.theWork = lambda: context.call(ctx, func, *args, **kw)
	  File "C:\Python27\lib\site-packages\twisted\python\context.py", line 118, in callWithContext
	    return self.currentContext().callWithContext(ctx, func, *args, **kw)
	  File "C:\Python27\lib\site-packages\twisted\python\context.py", line 81, in callWithContext
	    return func(*args,**kw)
	  File "D:/Documents/catcuts/project/iot_combination\utils\updatesys.py", line 92, in update
	    shutil.rmtree(bkup, onerror=del_rw) # 删除 bkup
	  File "C:\Python27\lib\shutil.py", line 247, in rmtree
	    rmtree(fullname, ignore_errors, onerror)
	  File "C:\Python27\lib\shutil.py", line 247, in rmtree
	    rmtree(fullname, ignore_errors, onerror)
	  File "C:\Python27\lib\shutil.py", line 247, in rmtree
	    rmtree(fullname, ignore_errors, onerror)
	  File "C:\Python27\lib\shutil.py", line 252, in rmtree
	    onerror(os.remove, fullname, sys.exc_info())
	  File "D:/Documents/catcuts/project/iot_combination\utils\updatesys.py", line 81, in del_rw
	    os.unlink(path)
	exceptions.WindowsError: [Error 5] : 'D:\\Documents\\catcuts\\project\\iot_combination_bkup\\.git\\objects\\pack\\pack-a1b166e9245f97bdd4bf53ac4b93f78d8f7ff7ac.idx'
	
2017-07-14 17:37:26+0800 [INFO] Starting SmartTalk IoTService.Version is v0.3.6
2017-07-14 17:37:26+0800 [INFO] (1050, "Table 'device' already exists")
2017-07-14 17:37:26+0800 [INFO] (1050, "Table 'devicepanel' already exists")
2017-07-14 17:37:26+0800 [INFO] (1050, "Table 'deviceio' already exists")
2017-07-14 17:37:26+0800 [INFO] (1050, "Table 'deviceaudiovideo' already exists")
2017-07-14 17:37:26+0800 [INFO] (1050, "Table 'devicealarm' already exists")
2017-07-14 17:37:26+0800 [INFO] (1050, "Table 'feedback' already exists")
2017-07-14 17:37:26+0800 [INFO] (1050, "Table 'log_call' already exists")
2017-07-14 17:37:26+0800 [INFO] (1050, "Table 'log_device' already exists")
2017-07-14 17:37:26+0800 [INFO] (1050, "Table 'log_alarm' already exists")
2017-07-14 17:37:26+0800 [INFO] (1050, "Table 'devicetree' already exists")
2017-07-14 17:37:26+0800 [INFO] (1050, "Table 'authority' already exists")
2017-07-14 17:37:26+0800 [INFO] (1050, "Table 'identity' already exists")
2017-07-14 17:37:26+0800 [INFO] (1050, "Table 'authorization' already exists")
2017-07-14 17:37:26+0800 [INFO] (1050, "Table 'user' already exists")
2017-07-14 17:37:26+0800 [INFO] TreeNode has been initialized
2017-07-14 17:37:26+0800 [INFO] FeedBack has been initialized
2017-07-14 17:37:26+0800 [INFO] Administrator has been initialized
2017-07-14 17:37:26+0800 [INFO] Opened iptalk.db successfully
2017-07-14 17:37:26+0800 [INFO] OrderFactory starting on 12200
2017-07-14 17:37:26+0800 [INFO] Starting factory <devices.iptalk.factory.OrderFactory instance at 0x00000000046EF8C8>
2017-07-14 17:37:26+0800 [INFO] QueryFactory starting on 34952
2017-07-14 17:37:26+0800 [INFO] Starting factory <devices.iptalk.factory.QueryFactory instance at 0x000000000477C1C8>
2017-07-14 17:37:26+0800 [INFO] AudioFactory starting on 3478
2017-07-14 17:37:26+0800 [INFO] Starting protocol <devices.iptalk.factory.AudioFactory instance at 0x000000000477FE88>
2017-07-14 17:37:26+0800 [INFO] VideoFactory starting on 3456
2017-07-14 17:37:26+0800 [INFO] Starting protocol <devices.iptalk.factory.VideoFactory instance at 0x0000000004783308>
2017-07-14 17:37:26+0800 [INFO] IPTalkWebSite starting on 85
2017-07-14 17:37:26+0800 [INFO] Starting factory <web.site.IPTalkWebSite instance at 0x0000000004783648>
2017-07-14 17:37:26+0800 [INFO] WebSocketFactory starting on 89
2017-07-14 17:37:26+0800 [INFO] Starting factory <devices.iptalk.factory.WebSocketFactory instance at 0x000000000478F088>
2017-07-14 17:37:26+0800 [INFO] TCPPushFactory starting on 90
2017-07-14 17:37:26+0800 [INFO] Starting factory <devices.iptalk.factory.TCPPushFactory instance at 0x000000000478F548>
2017-07-14 17:37:26+0800 [INFO] SearchFactory starting on 3550
2017-07-14 17:37:26+0800 [INFO] Starting protocol <devices.iptalk.factory.SearchFactory instance at 0x000000000478FA08>
2017-07-14 17:37:26+0800 [INFO] MyFTPFactory starting on 21
2017-07-14 17:37:26+0800 [INFO] Starting factory <devices.iptalk.ftp.MyFTPFactory instance at 0x000000000478FD88>
2017-07-14 17:37:27+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 63783) .
2017-07-14 17:37:27+0800 [INFO] WebSocket keepAlive is on
2017-07-14 17:37:27+0800 [INFO] websocket is connected.
2017-07-14 17:37:33+0800 [ERROR] Unhandled error in Deferred:
2017-07-14 17:37:33+0800 [ERROR] Unhandled Error
	Traceback (most recent call last):
	  File "C:\Python27\lib\threading.py", line 810, in __bootstrap_inner
	    self.run()
	  File "C:\Python27\lib\threading.py", line 763, in run
	    self.__target(*self.__args, **self.__kwargs)
	  File "C:\Python27\lib\site-packages\twisted\_threads\_threadworker.py", line 46, in work
	    task()
	  File "C:\Python27\lib\site-packages\twisted\_threads\_team.py", line 190, in doWork
	    task()
	--- <exception caught here> ---
	  File "C:\Python27\lib\site-packages\twisted\python\threadpool.py", line 246, in inContext
	    result = inContext.theWork()
	  File "C:\Python27\lib\site-packages\twisted\python\threadpool.py", line 262, in <lambda>
	    inContext.theWork = lambda: context.call(ctx, func, *args, **kw)
	  File "C:\Python27\lib\site-packages\twisted\python\context.py", line 118, in callWithContext
	    return self.currentContext().callWithContext(ctx, func, *args, **kw)
	  File "C:\Python27\lib\site-packages\twisted\python\context.py", line 81, in callWithContext
	    return func(*args,**kw)
	  File "D:/Documents/catcuts/project/iot_combination\utils\updatesys.py", line 92, in update
	    shutil.rmtree(bkup, onerror=del_rw) # 删除 bkup
	  File "C:\Python27\lib\shutil.py", line 247, in rmtree
	    rmtree(fullname, ignore_errors, onerror)
	  File "C:\Python27\lib\shutil.py", line 247, in rmtree
	    rmtree(fullname, ignore_errors, onerror)
	  File "C:\Python27\lib\shutil.py", line 247, in rmtree
	    rmtree(fullname, ignore_errors, onerror)
	  File "C:\Python27\lib\shutil.py", line 252, in rmtree
	    onerror(os.remove, fullname, sys.exc_info())
	  File "D:/Documents/catcuts/project/iot_combination\utils\updatesys.py", line 81, in del_rw
	    os.unlink(path)
	exceptions.WindowsError: [Error 5] : 'D:\\Documents\\catcuts\\project\\iot_combination_bkup\\.git\\objects\\pack\\pack-a1b166e9245f97bdd4bf53ac4b93f78d8f7ff7ac.idx'
	
2017-07-14 17:39:11+0800 [INFO] Starting SmartTalk IoTService.Version is v0.3.6
2017-07-14 17:39:12+0800 [INFO] (1050, "Table 'device' already exists")
2017-07-14 17:39:12+0800 [INFO] (1050, "Table 'devicepanel' already exists")
2017-07-14 17:39:12+0800 [INFO] (1050, "Table 'deviceio' already exists")
2017-07-14 17:39:12+0800 [INFO] (1050, "Table 'deviceaudiovideo' already exists")
2017-07-14 17:39:12+0800 [INFO] (1050, "Table 'devicealarm' already exists")
2017-07-14 17:39:12+0800 [INFO] (1050, "Table 'feedback' already exists")
2017-07-14 17:39:12+0800 [INFO] (1050, "Table 'log_call' already exists")
2017-07-14 17:39:12+0800 [INFO] (1050, "Table 'log_device' already exists")
2017-07-14 17:39:12+0800 [INFO] (1050, "Table 'log_alarm' already exists")
2017-07-14 17:39:12+0800 [INFO] (1050, "Table 'devicetree' already exists")
2017-07-14 17:39:12+0800 [INFO] (1050, "Table 'authority' already exists")
2017-07-14 17:39:12+0800 [INFO] (1050, "Table 'identity' already exists")
2017-07-14 17:39:12+0800 [INFO] (1050, "Table 'authorization' already exists")
2017-07-14 17:39:12+0800 [INFO] (1050, "Table 'user' already exists")
2017-07-14 17:39:12+0800 [INFO] TreeNode has been initialized
2017-07-14 17:39:12+0800 [INFO] FeedBack has been initialized
2017-07-14 17:39:12+0800 [INFO] Administrator has been initialized
2017-07-14 17:39:12+0800 [INFO] Opened iptalk.db successfully
2017-07-14 17:39:12+0800 [INFO] OrderFactory starting on 12200
2017-07-14 17:39:12+0800 [INFO] Starting factory <devices.iptalk.factory.OrderFactory instance at 0x00000000046068C8>
2017-07-14 17:39:12+0800 [INFO] QueryFactory starting on 34952
2017-07-14 17:39:12+0800 [INFO] Starting factory <devices.iptalk.factory.QueryFactory instance at 0x00000000046931C8>
2017-07-14 17:39:12+0800 [INFO] AudioFactory starting on 3478
2017-07-14 17:39:12+0800 [INFO] Starting protocol <devices.iptalk.factory.AudioFactory instance at 0x0000000004696E88>
2017-07-14 17:39:12+0800 [INFO] VideoFactory starting on 3456
2017-07-14 17:39:12+0800 [INFO] Starting protocol <devices.iptalk.factory.VideoFactory instance at 0x000000000469A308>
2017-07-14 17:39:12+0800 [INFO] IPTalkWebSite starting on 85
2017-07-14 17:39:12+0800 [INFO] Starting factory <web.site.IPTalkWebSite instance at 0x000000000469A648>
2017-07-14 17:39:12+0800 [INFO] WebSocketFactory starting on 89
2017-07-14 17:39:12+0800 [INFO] Starting factory <devices.iptalk.factory.WebSocketFactory instance at 0x00000000046A6088>
2017-07-14 17:39:12+0800 [INFO] TCPPushFactory starting on 90
2017-07-14 17:39:12+0800 [INFO] Starting factory <devices.iptalk.factory.TCPPushFactory instance at 0x00000000046A6548>
2017-07-14 17:39:12+0800 [INFO] SearchFactory starting on 3550
2017-07-14 17:39:12+0800 [INFO] Starting protocol <devices.iptalk.factory.SearchFactory instance at 0x00000000046A6A08>
2017-07-14 17:39:12+0800 [INFO] MyFTPFactory starting on 21
2017-07-14 17:39:12+0800 [INFO] Starting factory <devices.iptalk.ftp.MyFTPFactory instance at 0x00000000046A6D88>
2017-07-14 17:39:12+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 64146) .
2017-07-14 17:39:12+0800 [INFO] WebSocket keepAlive is on
2017-07-14 17:39:12+0800 [INFO] websocket is connected.
2017-07-14 17:39:17+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:09:39:16 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 17:40:14+0800 [ERROR] Unhandled error in Deferred:
2017-07-14 17:40:14+0800 [ERROR] Unhandled Error
	Traceback (most recent call last):
	  File "C:\Python27\lib\threading.py", line 810, in __bootstrap_inner
	    self.run()
	  File "C:\Python27\lib\threading.py", line 763, in run
	    self.__target(*self.__args, **self.__kwargs)
	  File "C:\Python27\lib\site-packages\twisted\_threads\_threadworker.py", line 46, in work
	    task()
	  File "C:\Python27\lib\site-packages\twisted\_threads\_team.py", line 190, in doWork
	    task()
	--- <exception caught here> ---
	  File "C:\Python27\lib\site-packages\twisted\python\threadpool.py", line 246, in inContext
	    result = inContext.theWork()
	  File "C:\Python27\lib\site-packages\twisted\python\threadpool.py", line 262, in <lambda>
	    inContext.theWork = lambda: context.call(ctx, func, *args, **kw)
	  File "C:\Python27\lib\site-packages\twisted\python\context.py", line 118, in callWithContext
	    return self.currentContext().callWithContext(ctx, func, *args, **kw)
	  File "C:\Python27\lib\site-packages\twisted\python\context.py", line 81, in callWithContext
	    return func(*args,**kw)
	  File "D:/Documents/catcuts/project/iot_combination\utils\updatesys.py", line 92, in update
	    shutil.rmtree(bkup, onerror=del_rw) # 删除 bkup
	  File "C:\Python27\lib\shutil.py", line 247, in rmtree
	    rmtree(fullname, ignore_errors, onerror)
	  File "C:\Python27\lib\shutil.py", line 247, in rmtree
	    rmtree(fullname, ignore_errors, onerror)
	  File "C:\Python27\lib\shutil.py", line 247, in rmtree
	    rmtree(fullname, ignore_errors, onerror)
	  File "C:\Python27\lib\shutil.py", line 252, in rmtree
	    onerror(os.remove, fullname, sys.exc_info())
	  File "D:/Documents/catcuts/project/iot_combination\utils\updatesys.py", line 81, in del_rw
	    os.unlink(path)
	exceptions.WindowsError: [Error 5] : 'D:\\Documents\\catcuts\\project\\iot_combination_bkup\\.git\\objects\\pack\\pack-a1b166e9245f97bdd4bf53ac4b93f78d8f7ff7ac.idx'
	
2017-07-14 17:40:16+0800 [INFO] Starting SmartTalk IoTService.Version is v0.3.6
2017-07-14 17:40:16+0800 [INFO] (1050, "Table 'device' already exists")
2017-07-14 17:40:16+0800 [INFO] (1050, "Table 'devicepanel' already exists")
2017-07-14 17:40:16+0800 [INFO] (1050, "Table 'deviceio' already exists")
2017-07-14 17:40:16+0800 [INFO] (1050, "Table 'deviceaudiovideo' already exists")
2017-07-14 17:40:16+0800 [INFO] (1050, "Table 'devicealarm' already exists")
2017-07-14 17:40:16+0800 [INFO] (1050, "Table 'feedback' already exists")
2017-07-14 17:40:16+0800 [INFO] (1050, "Table 'log_call' already exists")
2017-07-14 17:40:16+0800 [INFO] (1050, "Table 'log_device' already exists")
2017-07-14 17:40:16+0800 [INFO] (1050, "Table 'log_alarm' already exists")
2017-07-14 17:40:16+0800 [INFO] (1050, "Table 'devicetree' already exists")
2017-07-14 17:40:16+0800 [INFO] (1050, "Table 'authority' already exists")
2017-07-14 17:40:16+0800 [INFO] (1050, "Table 'identity' already exists")
2017-07-14 17:40:16+0800 [INFO] (1050, "Table 'authorization' already exists")
2017-07-14 17:40:16+0800 [INFO] (1050, "Table 'user' already exists")
2017-07-14 17:40:16+0800 [INFO] TreeNode has been initialized
2017-07-14 17:40:16+0800 [INFO] FeedBack has been initialized
2017-07-14 17:40:16+0800 [INFO] Administrator has been initialized
2017-07-14 17:40:16+0800 [INFO] Opened iptalk.db successfully
2017-07-14 17:40:17+0800 [INFO] OrderFactory starting on 12200
2017-07-14 17:40:17+0800 [INFO] Starting factory <devices.iptalk.factory.OrderFactory instance at 0x00000000046008C8>
2017-07-14 17:40:17+0800 [INFO] QueryFactory starting on 34952
2017-07-14 17:40:17+0800 [INFO] Starting factory <devices.iptalk.factory.QueryFactory instance at 0x000000000468C108>
2017-07-14 17:40:17+0800 [INFO] AudioFactory starting on 3478
2017-07-14 17:40:17+0800 [INFO] Starting protocol <devices.iptalk.factory.AudioFactory instance at 0x000000000468FE88>
2017-07-14 17:40:17+0800 [INFO] VideoFactory starting on 3456
2017-07-14 17:40:17+0800 [INFO] Starting protocol <devices.iptalk.factory.VideoFactory instance at 0x0000000004693308>
2017-07-14 17:40:17+0800 [INFO] IPTalkWebSite starting on 85
2017-07-14 17:40:17+0800 [INFO] Starting factory <web.site.IPTalkWebSite instance at 0x0000000004693648>
2017-07-14 17:40:17+0800 [INFO] WebSocketFactory starting on 89
2017-07-14 17:40:17+0800 [INFO] Starting factory <devices.iptalk.factory.WebSocketFactory instance at 0x00000000046A0088>
2017-07-14 17:40:17+0800 [INFO] TCPPushFactory starting on 90
2017-07-14 17:40:17+0800 [INFO] Starting factory <devices.iptalk.factory.TCPPushFactory instance at 0x00000000046A0548>
2017-07-14 17:40:17+0800 [INFO] SearchFactory starting on 3550
2017-07-14 17:40:17+0800 [INFO] Starting protocol <devices.iptalk.factory.SearchFactory instance at 0x00000000046A0A08>
2017-07-14 17:40:17+0800 [INFO] MyFTPFactory starting on 21
2017-07-14 17:40:17+0800 [INFO] Starting factory <devices.iptalk.ftp.MyFTPFactory instance at 0x00000000046A0D88>
2017-07-14 17:40:18+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 64280) .
2017-07-14 17:40:18+0800 [INFO] WebSocket keepAlive is on
2017-07-14 17:40:18+0800 [INFO] websocket is connected.
2017-07-14 17:40:28+0800 [INFO] Starting SmartTalk IoTService.Version is v0.3.6
2017-07-14 17:40:28+0800 [INFO] (1050, "Table 'device' already exists")
2017-07-14 17:40:28+0800 [INFO] (1050, "Table 'devicepanel' already exists")
2017-07-14 17:40:28+0800 [INFO] (1050, "Table 'deviceio' already exists")
2017-07-14 17:40:28+0800 [INFO] (1050, "Table 'deviceaudiovideo' already exists")
2017-07-14 17:40:28+0800 [INFO] (1050, "Table 'devicealarm' already exists")
2017-07-14 17:40:28+0800 [INFO] (1050, "Table 'feedback' already exists")
2017-07-14 17:40:28+0800 [INFO] (1050, "Table 'log_call' already exists")
2017-07-14 17:40:28+0800 [INFO] (1050, "Table 'log_device' already exists")
2017-07-14 17:40:28+0800 [INFO] (1050, "Table 'log_alarm' already exists")
2017-07-14 17:40:28+0800 [INFO] (1050, "Table 'devicetree' already exists")
2017-07-14 17:40:28+0800 [INFO] (1050, "Table 'authority' already exists")
2017-07-14 17:40:28+0800 [INFO] (1050, "Table 'identity' already exists")
2017-07-14 17:40:28+0800 [INFO] (1050, "Table 'authorization' already exists")
2017-07-14 17:40:28+0800 [INFO] (1050, "Table 'user' already exists")
2017-07-14 17:40:28+0800 [INFO] TreeNode has been initialized
2017-07-14 17:40:28+0800 [INFO] FeedBack has been initialized
2017-07-14 17:40:28+0800 [INFO] Administrator has been initialized
2017-07-14 17:40:28+0800 [INFO] Opened iptalk.db successfully
2017-07-14 17:40:29+0800 [INFO] OrderFactory starting on 12200
2017-07-14 17:40:29+0800 [INFO] Starting factory <devices.iptalk.factory.OrderFactory instance at 0x000000000461D8C8>
2017-07-14 17:40:29+0800 [INFO] QueryFactory starting on 34952
2017-07-14 17:40:29+0800 [INFO] Starting factory <devices.iptalk.factory.QueryFactory instance at 0x00000000046B71C8>
2017-07-14 17:40:29+0800 [INFO] AudioFactory starting on 3478
2017-07-14 17:40:29+0800 [INFO] Starting protocol <devices.iptalk.factory.AudioFactory instance at 0x00000000046BAE88>
2017-07-14 17:40:29+0800 [INFO] VideoFactory starting on 3456
2017-07-14 17:40:29+0800 [INFO] Starting protocol <devices.iptalk.factory.VideoFactory instance at 0x00000000046BE308>
2017-07-14 17:40:29+0800 [INFO] IPTalkWebSite starting on 85
2017-07-14 17:40:29+0800 [INFO] Starting factory <web.site.IPTalkWebSite instance at 0x00000000046BE648>
2017-07-14 17:40:29+0800 [INFO] WebSocketFactory starting on 89
2017-07-14 17:40:29+0800 [INFO] Starting factory <devices.iptalk.factory.WebSocketFactory instance at 0x00000000046CB088>
2017-07-14 17:40:29+0800 [INFO] TCPPushFactory starting on 90
2017-07-14 17:40:29+0800 [INFO] Starting factory <devices.iptalk.factory.TCPPushFactory instance at 0x00000000046CB548>
2017-07-14 17:40:29+0800 [INFO] SearchFactory starting on 3550
2017-07-14 17:40:29+0800 [INFO] Starting protocol <devices.iptalk.factory.SearchFactory instance at 0x00000000046CBA08>
2017-07-14 17:40:29+0800 [INFO] MyFTPFactory starting on 21
2017-07-14 17:40:29+0800 [INFO] Starting factory <devices.iptalk.ftp.MyFTPFactory instance at 0x00000000046CBD88>
2017-07-14 17:40:31+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:09:40:30 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 17:40:31+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 64319) .
2017-07-14 17:40:31+0800 [INFO] WebSocket keepAlive is on
2017-07-14 17:40:31+0800 [INFO] websocket is connected.
2017-07-14 17:46:25+0800 [INFO] Starting SmartTalk IoTService.Version is v0.3.6
2017-07-14 17:46:25+0800 [INFO] (1050, "Table 'device' already exists")
2017-07-14 17:46:25+0800 [INFO] (1050, "Table 'devicepanel' already exists")
2017-07-14 17:46:25+0800 [INFO] (1050, "Table 'deviceio' already exists")
2017-07-14 17:46:25+0800 [INFO] (1050, "Table 'deviceaudiovideo' already exists")
2017-07-14 17:46:25+0800 [INFO] (1050, "Table 'devicealarm' already exists")
2017-07-14 17:46:25+0800 [INFO] (1050, "Table 'feedback' already exists")
2017-07-14 17:46:25+0800 [INFO] (1050, "Table 'log_call' already exists")
2017-07-14 17:46:25+0800 [INFO] (1050, "Table 'log_device' already exists")
2017-07-14 17:46:25+0800 [INFO] (1050, "Table 'log_alarm' already exists")
2017-07-14 17:46:25+0800 [INFO] (1050, "Table 'devicetree' already exists")
2017-07-14 17:46:25+0800 [INFO] (1050, "Table 'authority' already exists")
2017-07-14 17:46:25+0800 [INFO] (1050, "Table 'identity' already exists")
2017-07-14 17:46:25+0800 [INFO] (1050, "Table 'authorization' already exists")
2017-07-14 17:46:25+0800 [INFO] (1050, "Table 'user' already exists")
2017-07-14 17:46:25+0800 [INFO] TreeNode has been initialized
2017-07-14 17:46:25+0800 [INFO] FeedBack has been initialized
2017-07-14 17:46:25+0800 [INFO] Administrator has been initialized
2017-07-14 17:46:25+0800 [INFO] Opened iptalk.db successfully
2017-07-14 17:46:26+0800 [INFO] OrderFactory starting on 12200
2017-07-14 17:46:26+0800 [INFO] Starting factory <devices.iptalk.factory.OrderFactory instance at 0x00000000046248C8>
2017-07-14 17:46:26+0800 [INFO] QueryFactory starting on 34952
2017-07-14 17:46:26+0800 [INFO] Starting factory <devices.iptalk.factory.QueryFactory instance at 0x00000000046B21C8>
2017-07-14 17:46:26+0800 [INFO] AudioFactory starting on 3478
2017-07-14 17:46:26+0800 [INFO] Starting protocol <devices.iptalk.factory.AudioFactory instance at 0x00000000046B5E88>
2017-07-14 17:46:26+0800 [INFO] VideoFactory starting on 3456
2017-07-14 17:46:26+0800 [INFO] Starting protocol <devices.iptalk.factory.VideoFactory instance at 0x00000000046B9308>
2017-07-14 17:46:26+0800 [INFO] IPTalkWebSite starting on 85
2017-07-14 17:46:26+0800 [INFO] Starting factory <web.site.IPTalkWebSite instance at 0x00000000046B9648>
2017-07-14 17:46:26+0800 [INFO] WebSocketFactory starting on 89
2017-07-14 17:46:26+0800 [INFO] Starting factory <devices.iptalk.factory.WebSocketFactory instance at 0x00000000046C5088>
2017-07-14 17:46:26+0800 [INFO] TCPPushFactory starting on 90
2017-07-14 17:46:26+0800 [INFO] Starting factory <devices.iptalk.factory.TCPPushFactory instance at 0x00000000046C5548>
2017-07-14 17:46:26+0800 [INFO] SearchFactory starting on 3550
2017-07-14 17:46:26+0800 [INFO] Starting protocol <devices.iptalk.factory.SearchFactory instance at 0x00000000046C5A08>
2017-07-14 17:46:26+0800 [INFO] MyFTPFactory starting on 21
2017-07-14 17:46:26+0800 [INFO] Starting factory <devices.iptalk.ftp.MyFTPFactory instance at 0x00000000046C5D88>
2017-07-14 17:46:26+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 65114) .
2017-07-14 17:46:26+0800 [INFO] WebSocket keepAlive is on
2017-07-14 17:46:26+0800 [INFO] websocket is connected.
2017-07-14 17:46:31+0800 [INFO] Starting SmartTalk IoTService.Version is v0.3.6
2017-07-14 17:46:32+0800 [INFO] (1050, "Table 'device' already exists")
2017-07-14 17:46:32+0800 [INFO] (1050, "Table 'devicepanel' already exists")
2017-07-14 17:46:32+0800 [INFO] (1050, "Table 'deviceio' already exists")
2017-07-14 17:46:32+0800 [INFO] (1050, "Table 'deviceaudiovideo' already exists")
2017-07-14 17:46:32+0800 [INFO] (1050, "Table 'devicealarm' already exists")
2017-07-14 17:46:32+0800 [INFO] (1050, "Table 'feedback' already exists")
2017-07-14 17:46:32+0800 [INFO] (1050, "Table 'log_call' already exists")
2017-07-14 17:46:32+0800 [INFO] (1050, "Table 'log_device' already exists")
2017-07-14 17:46:32+0800 [INFO] (1050, "Table 'log_alarm' already exists")
2017-07-14 17:46:32+0800 [INFO] (1050, "Table 'devicetree' already exists")
2017-07-14 17:46:32+0800 [INFO] (1050, "Table 'authority' already exists")
2017-07-14 17:46:32+0800 [INFO] (1050, "Table 'identity' already exists")
2017-07-14 17:46:32+0800 [INFO] (1050, "Table 'authorization' already exists")
2017-07-14 17:46:32+0800 [INFO] (1050, "Table 'user' already exists")
2017-07-14 17:46:32+0800 [INFO] TreeNode has been initialized
2017-07-14 17:46:32+0800 [INFO] FeedBack has been initialized
2017-07-14 17:46:32+0800 [INFO] Administrator has been initialized
2017-07-14 17:46:32+0800 [INFO] Opened iptalk.db successfully
2017-07-14 17:46:33+0800 [INFO] OrderFactory starting on 12200
2017-07-14 17:46:33+0800 [INFO] Starting factory <devices.iptalk.factory.OrderFactory instance at 0x00000000046A08C8>
2017-07-14 17:46:33+0800 [INFO] QueryFactory starting on 34952
2017-07-14 17:46:33+0800 [INFO] Starting factory <devices.iptalk.factory.QueryFactory instance at 0x000000000472C1C8>
2017-07-14 17:46:33+0800 [INFO] AudioFactory starting on 3478
2017-07-14 17:46:33+0800 [INFO] Starting protocol <devices.iptalk.factory.AudioFactory instance at 0x000000000472FE88>
2017-07-14 17:46:33+0800 [INFO] VideoFactory starting on 3456
2017-07-14 17:46:33+0800 [INFO] Starting protocol <devices.iptalk.factory.VideoFactory instance at 0x0000000004733308>
2017-07-14 17:46:33+0800 [INFO] IPTalkWebSite starting on 85
2017-07-14 17:46:33+0800 [INFO] Starting factory <web.site.IPTalkWebSite instance at 0x0000000004733648>
2017-07-14 17:46:33+0800 [INFO] WebSocketFactory starting on 89
2017-07-14 17:46:33+0800 [INFO] Starting factory <devices.iptalk.factory.WebSocketFactory instance at 0x0000000004740088>
2017-07-14 17:46:33+0800 [INFO] TCPPushFactory starting on 90
2017-07-14 17:46:33+0800 [INFO] Starting factory <devices.iptalk.factory.TCPPushFactory instance at 0x0000000004740548>
2017-07-14 17:46:33+0800 [INFO] SearchFactory starting on 3550
2017-07-14 17:46:33+0800 [INFO] Starting protocol <devices.iptalk.factory.SearchFactory instance at 0x0000000004740A08>
2017-07-14 17:46:33+0800 [INFO] MyFTPFactory starting on 21
2017-07-14 17:46:33+0800 [INFO] Starting factory <devices.iptalk.ftp.MyFTPFactory instance at 0x0000000004740D88>
2017-07-14 17:46:33+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 65139) .
2017-07-14 17:46:33+0800 [INFO] WebSocket keepAlive is on
2017-07-14 17:46:33+0800 [INFO] websocket is connected.
2017-07-14 17:46:36+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:09:46:36 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 17:48:24+0800 [ERROR] Unhandled error in Deferred:
2017-07-14 17:48:24+0800 [ERROR] Unhandled Error
	Traceback (most recent call last):
	  File "C:\Python27\lib\threading.py", line 810, in __bootstrap_inner
	    self.run()
	  File "C:\Python27\lib\threading.py", line 763, in run
	    self.__target(*self.__args, **self.__kwargs)
	  File "C:\Python27\lib\site-packages\twisted\_threads\_threadworker.py", line 46, in work
	    task()
	  File "C:\Python27\lib\site-packages\twisted\_threads\_team.py", line 190, in doWork
	    task()
	--- <exception caught here> ---
	  File "C:\Python27\lib\site-packages\twisted\python\threadpool.py", line 246, in inContext
	    result = inContext.theWork()
	  File "C:\Python27\lib\site-packages\twisted\python\threadpool.py", line 262, in <lambda>
	    inContext.theWork = lambda: context.call(ctx, func, *args, **kw)
	  File "C:\Python27\lib\site-packages\twisted\python\context.py", line 118, in callWithContext
	    return self.currentContext().callWithContext(ctx, func, *args, **kw)
	  File "C:\Python27\lib\site-packages\twisted\python\context.py", line 81, in callWithContext
	    return func(*args,**kw)
	  File "D:/Documents/catcuts/project/iot_combination\utils\updatesys.py", line 92, in update
	    shutil.rmtree(bkup, onerror=del_rw) # 删除 bkup
	  File "C:\Python27\lib\shutil.py", line 247, in rmtree
	    rmtree(fullname, ignore_errors, onerror)
	  File "C:\Python27\lib\shutil.py", line 247, in rmtree
	    rmtree(fullname, ignore_errors, onerror)
	  File "C:\Python27\lib\shutil.py", line 247, in rmtree
	    rmtree(fullname, ignore_errors, onerror)
	  File "C:\Python27\lib\shutil.py", line 252, in rmtree
	    onerror(os.remove, fullname, sys.exc_info())
	  File "D:/Documents/catcuts/project/iot_combination\utils\updatesys.py", line 81, in del_rw
	    os.unlink(path)
	exceptions.WindowsError: [Error 5] : 'D:\\Documents\\catcuts\\project\\iot_combination_bkup\\.git\\objects\\pack\\pack-a1b166e9245f97bdd4bf53ac4b93f78d8f7ff7ac.idx'
	
2017-07-14 17:53:29+0800 [INFO] Starting SmartTalk IoTService.Version is v0.3.6
2017-07-14 17:53:29+0800 [INFO] (1050, "Table 'device' already exists")
2017-07-14 17:53:29+0800 [INFO] (1050, "Table 'devicepanel' already exists")
2017-07-14 17:53:29+0800 [INFO] (1050, "Table 'deviceio' already exists")
2017-07-14 17:53:29+0800 [INFO] (1050, "Table 'deviceaudiovideo' already exists")
2017-07-14 17:53:29+0800 [INFO] (1050, "Table 'devicealarm' already exists")
2017-07-14 17:53:29+0800 [INFO] (1050, "Table 'feedback' already exists")
2017-07-14 17:53:29+0800 [INFO] (1050, "Table 'log_call' already exists")
2017-07-14 17:53:29+0800 [INFO] (1050, "Table 'log_device' already exists")
2017-07-14 17:53:29+0800 [INFO] (1050, "Table 'log_alarm' already exists")
2017-07-14 17:53:29+0800 [INFO] (1050, "Table 'devicetree' already exists")
2017-07-14 17:53:29+0800 [INFO] (1050, "Table 'authority' already exists")
2017-07-14 17:53:29+0800 [INFO] (1050, "Table 'identity' already exists")
2017-07-14 17:53:29+0800 [INFO] (1050, "Table 'authorization' already exists")
2017-07-14 17:53:29+0800 [INFO] (1050, "Table 'user' already exists")
2017-07-14 17:53:29+0800 [INFO] TreeNode has been initialized
2017-07-14 17:53:29+0800 [INFO] FeedBack has been initialized
2017-07-14 17:53:29+0800 [INFO] Administrator has been initialized
2017-07-14 17:53:29+0800 [INFO] Opened iptalk.db successfully
2017-07-14 17:53:30+0800 [INFO] OrderFactory starting on 12200
2017-07-14 17:53:30+0800 [INFO] Starting factory <devices.iptalk.factory.OrderFactory instance at 0x00000000045D08C8>
2017-07-14 17:53:30+0800 [INFO] QueryFactory starting on 34952
2017-07-14 17:53:30+0800 [INFO] Starting factory <devices.iptalk.factory.QueryFactory instance at 0x000000000465C1C8>
2017-07-14 17:53:30+0800 [INFO] AudioFactory starting on 3478
2017-07-14 17:53:30+0800 [INFO] Starting protocol <devices.iptalk.factory.AudioFactory instance at 0x000000000465FE88>
2017-07-14 17:53:30+0800 [INFO] VideoFactory starting on 3456
2017-07-14 17:53:30+0800 [INFO] Starting protocol <devices.iptalk.factory.VideoFactory instance at 0x0000000004663308>
2017-07-14 17:53:30+0800 [INFO] IPTalkWebSite starting on 85
2017-07-14 17:53:30+0800 [INFO] Starting factory <web.site.IPTalkWebSite instance at 0x0000000004663648>
2017-07-14 17:53:30+0800 [INFO] WebSocketFactory starting on 89
2017-07-14 17:53:30+0800 [INFO] Starting factory <devices.iptalk.factory.WebSocketFactory instance at 0x0000000004670088>
2017-07-14 17:53:30+0800 [INFO] TCPPushFactory starting on 90
2017-07-14 17:53:30+0800 [INFO] Starting factory <devices.iptalk.factory.TCPPushFactory instance at 0x0000000004670548>
2017-07-14 17:53:30+0800 [INFO] SearchFactory starting on 3550
2017-07-14 17:53:30+0800 [INFO] Starting protocol <devices.iptalk.factory.SearchFactory instance at 0x0000000004670A08>
2017-07-14 17:53:30+0800 [INFO] MyFTPFactory starting on 21
2017-07-14 17:53:30+0800 [INFO] Starting factory <devices.iptalk.ftp.MyFTPFactory instance at 0x0000000004670D88>
2017-07-14 17:53:30+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 50010) .
2017-07-14 17:53:30+0800 [INFO] WebSocket keepAlive is on
2017-07-14 17:53:30+0800 [INFO] websocket is connected.
2017-07-14 17:53:35+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:09:53:34 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 17:56:37+0800 [ERROR] Unhandled error in Deferred:
2017-07-14 17:56:37+0800 [ERROR] Unhandled Error
	Traceback (most recent call last):
	  File "C:\Python27\lib\threading.py", line 810, in __bootstrap_inner
	    self.run()
	  File "C:\Python27\lib\threading.py", line 763, in run
	    self.__target(*self.__args, **self.__kwargs)
	  File "C:\Python27\lib\site-packages\twisted\_threads\_threadworker.py", line 46, in work
	    task()
	  File "C:\Python27\lib\site-packages\twisted\_threads\_team.py", line 190, in doWork
	    task()
	--- <exception caught here> ---
	  File "C:\Python27\lib\site-packages\twisted\python\threadpool.py", line 246, in inContext
	    result = inContext.theWork()
	  File "C:\Python27\lib\site-packages\twisted\python\threadpool.py", line 262, in <lambda>
	    inContext.theWork = lambda: context.call(ctx, func, *args, **kw)
	  File "C:\Python27\lib\site-packages\twisted\python\context.py", line 118, in callWithContext
	    return self.currentContext().callWithContext(ctx, func, *args, **kw)
	  File "C:\Python27\lib\site-packages\twisted\python\context.py", line 81, in callWithContext
	    return func(*args,**kw)
	  File "D:/Documents/catcuts/project/iot_combination\utils\updatesys.py", line 92, in update
	    shutil.rmtree(bkup, onerror=del_rw) # 删除 bkup
	  File "C:\Python27\lib\shutil.py", line 247, in rmtree
	    rmtree(fullname, ignore_errors, onerror)
	  File "C:\Python27\lib\shutil.py", line 247, in rmtree
	    rmtree(fullname, ignore_errors, onerror)
	  File "C:\Python27\lib\shutil.py", line 247, in rmtree
	    rmtree(fullname, ignore_errors, onerror)
	  File "C:\Python27\lib\shutil.py", line 252, in rmtree
	    onerror(os.remove, fullname, sys.exc_info())
	  File "D:/Documents/catcuts/project/iot_combination\utils\updatesys.py", line 81, in del_rw
	    os.unlink(path)
	exceptions.WindowsError: [Error 5] : 'D:\\Documents\\catcuts\\project\\iot_combination_bkup\\.git\\objects\\pack\\pack-a1b166e9245f97bdd4bf53ac4b93f78d8f7ff7ac.idx'
	
2017-07-14 17:57:20+0800 [INFO] Starting SmartTalk IoTService.Version is v0.3.6
2017-07-14 17:57:20+0800 [INFO] (1050, "Table 'device' already exists")
2017-07-14 17:57:20+0800 [INFO] (1050, "Table 'devicepanel' already exists")
2017-07-14 17:57:20+0800 [INFO] (1050, "Table 'deviceio' already exists")
2017-07-14 17:57:20+0800 [INFO] (1050, "Table 'deviceaudiovideo' already exists")
2017-07-14 17:57:20+0800 [INFO] (1050, "Table 'devicealarm' already exists")
2017-07-14 17:57:20+0800 [INFO] (1050, "Table 'feedback' already exists")
2017-07-14 17:57:20+0800 [INFO] (1050, "Table 'log_call' already exists")
2017-07-14 17:57:20+0800 [INFO] (1050, "Table 'log_device' already exists")
2017-07-14 17:57:20+0800 [INFO] (1050, "Table 'log_alarm' already exists")
2017-07-14 17:57:20+0800 [INFO] (1050, "Table 'devicetree' already exists")
2017-07-14 17:57:20+0800 [INFO] (1050, "Table 'authority' already exists")
2017-07-14 17:57:20+0800 [INFO] (1050, "Table 'identity' already exists")
2017-07-14 17:57:20+0800 [INFO] (1050, "Table 'authorization' already exists")
2017-07-14 17:57:20+0800 [INFO] (1050, "Table 'user' already exists")
2017-07-14 17:57:20+0800 [INFO] TreeNode has been initialized
2017-07-14 17:57:20+0800 [INFO] FeedBack has been initialized
2017-07-14 17:57:20+0800 [INFO] Administrator has been initialized
2017-07-14 17:57:20+0800 [INFO] Opened iptalk.db successfully
2017-07-14 17:57:21+0800 [INFO] OrderFactory starting on 12200
2017-07-14 17:57:21+0800 [INFO] Starting factory <devices.iptalk.factory.OrderFactory instance at 0x00000000045A18C8>
2017-07-14 17:57:21+0800 [INFO] QueryFactory starting on 34952
2017-07-14 17:57:21+0800 [INFO] Starting factory <devices.iptalk.factory.QueryFactory instance at 0x00000000046311C8>
2017-07-14 17:57:21+0800 [INFO] AudioFactory starting on 3478
2017-07-14 17:57:21+0800 [INFO] Starting protocol <devices.iptalk.factory.AudioFactory instance at 0x0000000004634E88>
2017-07-14 17:57:21+0800 [INFO] VideoFactory starting on 3456
2017-07-14 17:57:21+0800 [INFO] Starting protocol <devices.iptalk.factory.VideoFactory instance at 0x0000000004638308>
2017-07-14 17:57:21+0800 [INFO] IPTalkWebSite starting on 85
2017-07-14 17:57:21+0800 [INFO] Starting factory <web.site.IPTalkWebSite instance at 0x0000000004638648>
2017-07-14 17:57:21+0800 [INFO] WebSocketFactory starting on 89
2017-07-14 17:57:21+0800 [INFO] Starting factory <devices.iptalk.factory.WebSocketFactory instance at 0x0000000004645088>
2017-07-14 17:57:21+0800 [INFO] TCPPushFactory starting on 90
2017-07-14 17:57:21+0800 [INFO] Starting factory <devices.iptalk.factory.TCPPushFactory instance at 0x0000000004645548>
2017-07-14 17:57:21+0800 [INFO] SearchFactory starting on 3550
2017-07-14 17:57:21+0800 [INFO] Starting protocol <devices.iptalk.factory.SearchFactory instance at 0x0000000004645A08>
2017-07-14 17:57:21+0800 [INFO] MyFTPFactory starting on 21
2017-07-14 17:57:21+0800 [INFO] Starting factory <devices.iptalk.ftp.MyFTPFactory instance at 0x0000000004645D88>
2017-07-14 17:57:21+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 50662) .
2017-07-14 17:57:21+0800 [INFO] WebSocket keepAlive is on
2017-07-14 17:57:21+0800 [INFO] websocket is connected.
2017-07-14 18:03:02+0800 [INFO] Starting SmartTalk IoTService.Version is v0.3.6
2017-07-14 18:03:03+0800 [INFO] (1050, "Table 'device' already exists")
2017-07-14 18:03:03+0800 [INFO] (1050, "Table 'devicepanel' already exists")
2017-07-14 18:03:03+0800 [INFO] (1050, "Table 'deviceio' already exists")
2017-07-14 18:03:03+0800 [INFO] (1050, "Table 'deviceaudiovideo' already exists")
2017-07-14 18:03:03+0800 [INFO] (1050, "Table 'devicealarm' already exists")
2017-07-14 18:03:03+0800 [INFO] (1050, "Table 'feedback' already exists")
2017-07-14 18:03:03+0800 [INFO] (1050, "Table 'log_call' already exists")
2017-07-14 18:03:03+0800 [INFO] (1050, "Table 'log_device' already exists")
2017-07-14 18:03:03+0800 [INFO] (1050, "Table 'log_alarm' already exists")
2017-07-14 18:03:03+0800 [INFO] (1050, "Table 'devicetree' already exists")
2017-07-14 18:03:03+0800 [INFO] (1050, "Table 'authority' already exists")
2017-07-14 18:03:03+0800 [INFO] (1050, "Table 'identity' already exists")
2017-07-14 18:03:03+0800 [INFO] (1050, "Table 'authorization' already exists")
2017-07-14 18:03:03+0800 [INFO] (1050, "Table 'user' already exists")
2017-07-14 18:03:03+0800 [INFO] TreeNode has been initialized
2017-07-14 18:03:03+0800 [INFO] FeedBack has been initialized
2017-07-14 18:03:03+0800 [INFO] Administrator has been initialized
2017-07-14 18:03:03+0800 [INFO] Opened iptalk.db successfully
2017-07-14 18:03:04+0800 [INFO] OrderFactory starting on 12200
2017-07-14 18:03:04+0800 [INFO] Starting factory <devices.iptalk.factory.OrderFactory instance at 0x00000000046278C8>
2017-07-14 18:03:04+0800 [INFO] QueryFactory starting on 34952
2017-07-14 18:03:04+0800 [INFO] Starting factory <devices.iptalk.factory.QueryFactory instance at 0x00000000046B31C8>
2017-07-14 18:03:04+0800 [INFO] AudioFactory starting on 3478
2017-07-14 18:03:04+0800 [INFO] Starting protocol <devices.iptalk.factory.AudioFactory instance at 0x00000000046B6E88>
2017-07-14 18:03:04+0800 [INFO] VideoFactory starting on 3456
2017-07-14 18:03:04+0800 [INFO] Starting protocol <devices.iptalk.factory.VideoFactory instance at 0x00000000046BA308>
2017-07-14 18:03:04+0800 [INFO] IPTalkWebSite starting on 85
2017-07-14 18:03:04+0800 [INFO] Starting factory <web.site.IPTalkWebSite instance at 0x00000000046BA648>
2017-07-14 18:03:04+0800 [INFO] WebSocketFactory starting on 89
2017-07-14 18:03:04+0800 [INFO] Starting factory <devices.iptalk.factory.WebSocketFactory instance at 0x00000000046C7088>
2017-07-14 18:03:04+0800 [INFO] TCPPushFactory starting on 90
2017-07-14 18:03:04+0800 [INFO] Starting factory <devices.iptalk.factory.TCPPushFactory instance at 0x00000000046C7548>
2017-07-14 18:03:04+0800 [INFO] SearchFactory starting on 3550
2017-07-14 18:03:04+0800 [INFO] Starting protocol <devices.iptalk.factory.SearchFactory instance at 0x00000000046C7A08>
2017-07-14 18:03:04+0800 [INFO] MyFTPFactory starting on 21
2017-07-14 18:03:04+0800 [INFO] Starting factory <devices.iptalk.ftp.MyFTPFactory instance at 0x00000000046C7D88>
2017-07-14 18:03:07+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:10:03:07 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 18:03:10+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 51806) .
2017-07-14 18:03:10+0800 [INFO] WebSocket keepAlive is on
2017-07-14 18:03:10+0800 [INFO] websocket is connected.
2017-07-14 18:03:17+0800 [ERROR] Unhandled error in Deferred:
2017-07-14 18:03:17+0800 [ERROR] Unhandled Error
	Traceback (most recent call last):
	  File "C:\Python27\lib\threading.py", line 810, in __bootstrap_inner
	    self.run()
	  File "C:\Python27\lib\threading.py", line 763, in run
	    self.__target(*self.__args, **self.__kwargs)
	  File "C:\Python27\lib\site-packages\twisted\_threads\_threadworker.py", line 46, in work
	    task()
	  File "C:\Python27\lib\site-packages\twisted\_threads\_team.py", line 190, in doWork
	    task()
	--- <exception caught here> ---
	  File "C:\Python27\lib\site-packages\twisted\python\threadpool.py", line 246, in inContext
	    result = inContext.theWork()
	  File "C:\Python27\lib\site-packages\twisted\python\threadpool.py", line 262, in <lambda>
	    inContext.theWork = lambda: context.call(ctx, func, *args, **kw)
	  File "C:\Python27\lib\site-packages\twisted\python\context.py", line 118, in callWithContext
	    return self.currentContext().callWithContext(ctx, func, *args, **kw)
	  File "C:\Python27\lib\site-packages\twisted\python\context.py", line 81, in callWithContext
	    return func(*args,**kw)
	  File "D:/Documents/catcuts/project/iot_combination\utils\updatesys.py", line 88, in update
	    shutil.rmtree(bkup, onerror=del_rw) # 删除 bkup
	  File "C:\Python27\lib\shutil.py", line 247, in rmtree
	    rmtree(fullname, ignore_errors, onerror)
	  File "C:\Python27\lib\shutil.py", line 247, in rmtree
	    rmtree(fullname, ignore_errors, onerror)
	  File "C:\Python27\lib\shutil.py", line 247, in rmtree
	    rmtree(fullname, ignore_errors, onerror)
	  File "C:\Python27\lib\shutil.py", line 252, in rmtree
	    onerror(os.remove, fullname, sys.exc_info())
	  File "D:/Documents/catcuts/project/iot_combination\utils\updatesys.py", line 77, in del_rw
	    os.remove(path)
	exceptions.WindowsError: [Error 5] : 'D:\\Documents\\catcuts\\project\\iot_combination_bkup\\.git\\objects\\pack\\pack-a1b166e9245f97bdd4bf53ac4b93f78d8f7ff7ac.idx'
	
2017-07-14 18:04:11+0800 [INFO] Starting SmartTalk IoTService.Version is v0.3.6
2017-07-14 18:04:11+0800 [INFO] (1050, "Table 'device' already exists")
2017-07-14 18:04:11+0800 [INFO] (1050, "Table 'devicepanel' already exists")
2017-07-14 18:04:11+0800 [INFO] (1050, "Table 'deviceio' already exists")
2017-07-14 18:04:11+0800 [INFO] (1050, "Table 'deviceaudiovideo' already exists")
2017-07-14 18:04:11+0800 [INFO] (1050, "Table 'devicealarm' already exists")
2017-07-14 18:04:11+0800 [INFO] (1050, "Table 'feedback' already exists")
2017-07-14 18:04:11+0800 [INFO] (1050, "Table 'log_call' already exists")
2017-07-14 18:04:11+0800 [INFO] (1050, "Table 'log_device' already exists")
2017-07-14 18:04:11+0800 [INFO] (1050, "Table 'log_alarm' already exists")
2017-07-14 18:04:11+0800 [INFO] (1050, "Table 'devicetree' already exists")
2017-07-14 18:04:11+0800 [INFO] (1050, "Table 'authority' already exists")
2017-07-14 18:04:11+0800 [INFO] (1050, "Table 'identity' already exists")
2017-07-14 18:04:11+0800 [INFO] (1050, "Table 'authorization' already exists")
2017-07-14 18:04:11+0800 [INFO] (1050, "Table 'user' already exists")
2017-07-14 18:04:11+0800 [INFO] TreeNode has been initialized
2017-07-14 18:04:11+0800 [INFO] FeedBack has been initialized
2017-07-14 18:04:11+0800 [INFO] Administrator has been initialized
2017-07-14 18:04:11+0800 [INFO] Opened iptalk.db successfully
2017-07-14 18:04:12+0800 [INFO] OrderFactory starting on 12200
2017-07-14 18:04:12+0800 [INFO] Starting factory <devices.iptalk.factory.OrderFactory instance at 0x000000000467F8C8>
2017-07-14 18:04:12+0800 [INFO] QueryFactory starting on 34952
2017-07-14 18:04:12+0800 [INFO] Starting factory <devices.iptalk.factory.QueryFactory instance at 0x000000000470B1C8>
2017-07-14 18:04:12+0800 [INFO] AudioFactory starting on 3478
2017-07-14 18:04:12+0800 [INFO] Starting protocol <devices.iptalk.factory.AudioFactory instance at 0x000000000470EE88>
2017-07-14 18:04:12+0800 [INFO] VideoFactory starting on 3456
2017-07-14 18:04:12+0800 [INFO] Starting protocol <devices.iptalk.factory.VideoFactory instance at 0x0000000004712308>
2017-07-14 18:04:12+0800 [INFO] IPTalkWebSite starting on 85
2017-07-14 18:04:12+0800 [INFO] Starting factory <web.site.IPTalkWebSite instance at 0x0000000004712648>
2017-07-14 18:04:12+0800 [INFO] WebSocketFactory starting on 89
2017-07-14 18:04:12+0800 [INFO] Starting factory <devices.iptalk.factory.WebSocketFactory instance at 0x000000000471F088>
2017-07-14 18:04:12+0800 [INFO] TCPPushFactory starting on 90
2017-07-14 18:04:12+0800 [INFO] Starting factory <devices.iptalk.factory.TCPPushFactory instance at 0x000000000471F548>
2017-07-14 18:04:12+0800 [INFO] SearchFactory starting on 3550
2017-07-14 18:04:12+0800 [INFO] Starting protocol <devices.iptalk.factory.SearchFactory instance at 0x000000000471FA08>
2017-07-14 18:04:12+0800 [INFO] MyFTPFactory starting on 21
2017-07-14 18:04:12+0800 [INFO] Starting factory <devices.iptalk.ftp.MyFTPFactory instance at 0x000000000471FD88>
2017-07-14 18:04:16+0800 [INFO] "127.0.0.1" - - [14/Jul/2017:10:04:16 +0000] "OPTIONS /upgrade/sysUpgrade HTTP/1.1" 200 2 "http://localhost:3000/build/1.0/iptalk.html" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
2017-07-14 18:04:24+0800 [ERROR] Unhandled error in Deferred:
2017-07-14 18:04:24+0800 [ERROR] Unhandled Error
	Traceback (most recent call last):
	  File "C:\Python27\lib\threading.py", line 810, in __bootstrap_inner
	    self.run()
	  File "C:\Python27\lib\threading.py", line 763, in run
	    self.__target(*self.__args, **self.__kwargs)
	  File "C:\Python27\lib\site-packages\twisted\_threads\_threadworker.py", line 46, in work
	    task()
	  File "C:\Python27\lib\site-packages\twisted\_threads\_team.py", line 190, in doWork
	    task()
	--- <exception caught here> ---
	  File "C:\Python27\lib\site-packages\twisted\python\threadpool.py", line 246, in inContext
	    result = inContext.theWork()
	  File "C:\Python27\lib\site-packages\twisted\python\threadpool.py", line 262, in <lambda>
	    inContext.theWork = lambda: context.call(ctx, func, *args, **kw)
	  File "C:\Python27\lib\site-packages\twisted\python\context.py", line 118, in callWithContext
	    return self.currentContext().callWithContext(ctx, func, *args, **kw)
	  File "C:\Python27\lib\site-packages\twisted\python\context.py", line 81, in callWithContext
	    return func(*args,**kw)
	  File "D:/Documents/catcuts/project/iot_combination\utils\updatesys.py", line 89, in update
	    shutil.rmtree(bkup, onerror=del_rw) # 删除 bkup
	  File "C:\Python27\lib\shutil.py", line 247, in rmtree
	    rmtree(fullname, ignore_errors, onerror)
	  File "C:\Python27\lib\shutil.py", line 247, in rmtree
	    rmtree(fullname, ignore_errors, onerror)
	  File "C:\Python27\lib\shutil.py", line 247, in rmtree
	    rmtree(fullname, ignore_errors, onerror)
	  File "C:\Python27\lib\shutil.py", line 252, in rmtree
	    onerror(os.remove, fullname, sys.exc_info())
	  File "D:/Documents/catcuts/project/iot_combination\utils\updatesys.py", line 78, in del_rw
	    os.remove(path)
	exceptions.WindowsError: [Error 5] : 'D:\\Documents\\catcuts\\project\\iot_combination_bkup\\.git\\objects\\pack\\pack-a1b166e9245f97bdd4bf53ac4b93f78d8f7ff7ac.idx'
	
2017-07-14 18:04:29+0800 [INFO] Connect form IPv4Address(TCP, '127.0.0.1', 52010) .
2017-07-14 18:04:29+0800 [INFO] WebSocket keepAlive is on
2017-07-14 18:04:29+0800 [INFO] websocket is connected.
